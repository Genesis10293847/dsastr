var wR=Object.defineProperty,DR=Object.defineProperties;var TR=Object.getOwnPropertyDescriptors;var JE=Object.getOwnPropertySymbols;var bR=Object.prototype.hasOwnProperty,CR=Object.prototype.propertyIsEnumerable;var XE=(n,e,t)=>e in n?wR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,O=(n,e)=>{for(var t in e||={})bR.call(e,t)&&XE(n,t,e[t]);if(JE)for(var t of JE(e))CR.call(e,t)&&XE(n,t,e[t]);return n},me=(n,e)=>DR(n,TR(e));var C=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{c(t.next(u))}catch(l){i(l)}},s=u=>{try{c(t.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((t=t.apply(n,e)).next())});var _f;function yu(){return _f}function vn(n){let e=_f;return _f=n,e}var eI=Symbol("NotFound");function go(n){return n===eI||n?.name==="\u0275NotFound"}var ut=null,vu=!1,Ef=1,SR=null,Dt=Symbol("SIGNAL");function ne(n){let e=ut;return ut=n,e}function Eu(){return ut}var ha={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fa(n){if(vu)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(n);let e=ut.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ut.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ut.producers,t!==void 0&&t.producer===n)){ut.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ut&&(!r||RR(i,ut)))return;let o=mo(ut),s={producer:n,consumer:ut,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ut.producersTail=s,e!==void 0?e.nextProducer=s:ut.producers=s,o&&iI(n,s)}function tI(){Ef++}function If(n){if(!(mo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ef)){if(!n.producerMustRecompute(n)&&!ga(n)){_u(n);return}n.producerRecomputeValue(n),_u(n)}}function wf(n){if(n.consumers===void 0)return;let e=vu;vu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||AR(r)}}finally{vu=e}}function Df(){return ut?.consumerAllowSignalWrites!==!1}function AR(n){n.dirty=!0,wf(n),n.consumerMarkedDirty?.(n)}function _u(n){n.dirty=!1,n.lastCleanEpoch=Ef}function pa(n){return n&&nI(n),ne(n)}function nI(n){n.producersTail=void 0,n.recomputing=!0}function Iu(n,e){ne(e),n&&rI(n)}function rI(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(mo(n))do t=Tf(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function ga(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(If(t),r!==t.version))return!0}return!1}function ma(n){if(mo(n)){let e=n.producers;for(;e!==void 0;)e=Tf(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function iI(n,e){let t=n.consumersTail,r=mo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)iI(i.producer,i)}function Tf(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!mo(e)){let o=e.producers;for(;o!==void 0;)o=Tf(o)}return t}function mo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function bf(n){SR?.(n)}function RR(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Cf(n,e){return Object.is(n,e)}function NR(){throw new Error}var oI=NR;function sI(n){oI(n)}function Sf(n){oI=n}var MR=null;function Af(n,e){let t=Object.create(wu);t.value=n,e!==void 0&&(t.equal=e);let r=()=>aI(t);return r[Dt]=t,bf(t),[r,s=>yo(t,s),s=>Rf(t,s)]}function aI(n){return fa(n),n.value}function yo(n,e){Df()||sI(n),n.equal(n.value,e)||(n.value=e,PR(n))}function Rf(n,e){Df()||sI(n),yo(n,e(n.value))}var wu=me(O({},ha),{equal:Cf,value:void 0,kind:"signal"});function PR(n){n.version++,tI(),wf(n),MR?.(n)}function ee(n){return typeof n=="function"}function vo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Du=vo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ai(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ke=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof Du?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{cI(o)}catch(s){e=e??[],s instanceof Du?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Du(e)}}add(e){var t;if(e&&e!==this)if(this.closed)cI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ai(t,e)}remove(e){let{_finalizers:t}=this;t&&ai(t,e),e instanceof n&&e._removeParent(this)}};ke.EMPTY=(()=>{let n=new ke;return n.closed=!0,n})();var Nf=ke.EMPTY;function Tu(n){return n instanceof ke||n&&"closed"in n&&ee(n.remove)&&ee(n.add)&&ee(n.unsubscribe)}function cI(n){ee(n)?n():n.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var _o={setTimeout(n,e,...t){let{delegate:r}=_o;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=_o;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function bu(n){_o.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(n);else throw n})}function ya(){}var uI=Mf("C",void 0,void 0);function lI(n){return Mf("E",void 0,n)}function dI(n){return Mf("N",n,void 0)}function Mf(n,e,t){return{kind:n,value:e,error:t}}var ci=null;function Eo(n){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!ci;if(e&&(ci={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ci;if(ci=null,t)throw r}}else n()}function hI(n){Xt.useDeprecatedSynchronousErrorHandling&&ci&&(ci.errorThrown=!0,ci.error=n)}var ui=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Tu(e)&&e.add(this)):this.destination=OR}static create(e,t,r){return new Io(e,t,r)}next(e){this.isStopped?xf(dI(e),this):this._next(e)}error(e){this.isStopped?xf(lI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?xf(uI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xR=Function.prototype.bind;function Pf(n,e){return xR.call(n,e)}var kf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Cu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Cu(r)}else Cu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Cu(t)}}},Io=class extends ui{constructor(e,t,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Pf(e.next,o),error:e.error&&Pf(e.error,o),complete:e.complete&&Pf(e.complete,o)}):i=e}this.destination=new kf(i)}};function Cu(n){Xt.useDeprecatedSynchronousErrorHandling?hI(n):bu(n)}function kR(n){throw n}function xf(n,e){let{onStoppedNotification:t}=Xt;t&&_o.setTimeout(()=>t(n,e))}var OR={closed:!0,next:ya,error:kR,complete:ya};var wo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(n){return n}function Su(...n){return Of(n)}function Of(n){return n.length===0?Nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var re=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=LR(t)?t:new Io(t,r,i);return Eo(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=fI(r),new r((i,o)=>{let s=new Io({next:c=>{try{t(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[wo](){return this}pipe(...t){return Of(t)(this)}toPromise(t){return t=fI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function fI(n){var e;return(e=n??Xt.Promise)!==null&&e!==void 0?e:Promise}function FR(n){return n&&ee(n.next)&&ee(n.error)&&ee(n.complete)}function LR(n){return n&&n instanceof ui||FR(n)&&Tu(n)}function Ff(n){return ee(n?.lift)}function de(n){return e=>{if(Ff(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,r,i){return new Lf(n,e,t,r,i)}var Lf=class extends ui{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Do(){return de((n,e)=>{let t=null;n._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var To=class extends re{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ff(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Do()(this)}};var pI=vo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class n extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Au(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new pI}next(t){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Nf:(this.currentObservers=null,o.push(t),new ke(()=>{this.currentObservers=null,ai(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new re;return t.source=this,t}}return n.create=(e,t)=>new Au(e,t),n})(),Au=class extends tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Nf}};var nt=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vf={now(){return(Vf.delegate||Date).now()},delegate:void 0};var Ru=class extends ke{constructor(e,t){super()}schedule(e,t=0){return this}};var va={setInterval(n,e,...t){let{delegate:r}=va;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=va;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var bo=class extends Ru{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return va.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&va.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ai(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Co=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Co.now=Vf.now;var So=class extends Co{constructor(e,t=Co.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var jf=new So(bo);var Nu=class extends bo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Mu=class extends So{};var Uf=new Mu(Nu);var Tt=new re(n=>n.complete());function gI(n){return n&&ee(n.schedule)}function mI(n){return n[n.length-1]}function yI(n){return ee(mI(n))?n.pop():void 0}function Ir(n){return gI(mI(n))?n.pop():void 0}function Bf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function _I(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(n,e||[])).next())})}function vI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(n){return this instanceof li?(this.v=n,this):new li(n)}function EI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(A){return Promise.resolve(A).then(y,p)}}function c(y,A){r[y]&&(i[y]=function(M){return new Promise(function(R,F){o.push([y,M,R,F])>1||u(y,M)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof li?Promise.resolve(y.value.v).then(f,p):m(o[0][2],y)}function f(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function II(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vI=="function"?vI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(c,u){s=n[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Pu=n=>n&&typeof n.length=="number"&&typeof n!="function";function xu(n){return ee(n?.then)}function ku(n){return ee(n[wo])}function Ou(n){return Symbol.asyncIterator&&ee(n?.[Symbol.asyncIterator])}function Fu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function VR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Lu=VR();function Vu(n){return ee(n?.[Lu])}function ju(n){return EI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield li(t.read());if(i)return yield li(void 0);yield yield li(r)}}finally{t.releaseLock()}})}function Uu(n){return ee(n?.getReader)}function Ye(n){if(n instanceof re)return n;if(n!=null){if(ku(n))return jR(n);if(Pu(n))return UR(n);if(xu(n))return BR(n);if(Ou(n))return wI(n);if(Vu(n))return $R(n);if(Uu(n))return HR(n)}throw Fu(n)}function jR(n){return new re(e=>{let t=n[wo]();if(ee(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UR(n){return new re(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function BR(n){return new re(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,bu)})}function $R(n){return new re(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function wI(n){return new re(e=>{qR(n,e).catch(t=>e.error(t))})}function HR(n){return wI(ju(n))}function qR(n,e){var t,r,i,o;return _I(this,void 0,void 0,function*(){try{for(t=II(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function bt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function wr(n,e=0){return de((t,r)=>{t.subscribe(he(r,i=>bt(r,n,()=>r.next(i),e),()=>bt(r,n,()=>r.complete(),e),i=>bt(r,n,()=>r.error(i),e)))})}function Dr(n,e=0){return de((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function DI(n,e){return Ye(n).pipe(Dr(e),wr(e))}function TI(n,e){return Ye(n).pipe(Dr(e),wr(e))}function bI(n,e){return new re(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function CI(n,e){return new re(t=>{let r;return bt(t,e,()=>{r=n[Lu](),bt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Bu(n,e){if(!n)throw new Error("Iterable cannot be null");return new re(t=>{bt(t,e,()=>{let r=n[Symbol.asyncIterator]();bt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function SI(n,e){return Bu(ju(n),e)}function AI(n,e){if(n!=null){if(ku(n))return DI(n,e);if(Pu(n))return bI(n,e);if(xu(n))return TI(n,e);if(Ou(n))return Bu(n,e);if(Vu(n))return CI(n,e);if(Uu(n))return SI(n,e)}throw Fu(n)}function Me(n,e){return e?AI(n,e):Ye(n)}function G(...n){let e=Ir(n);return Me(n,e)}function Ao(n,e){let t=ee(n)?n:()=>n,r=i=>i.error(t());return new re(e?i=>e.schedule(r,0,i):r)}function $f(n){return!!n&&(n instanceof re||ee(n.lift)&&ee(n.subscribe))}var Un=vo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(n,e){return de((t,r)=>{let i=0;t.subscribe(he(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:zR}=Array;function GR(n,e){return zR(e)?n(...e):n(e)}function RI(n){return ce(e=>GR(n,e))}var{isArray:WR}=Array,{getPrototypeOf:KR,prototype:QR,keys:YR}=Object;function NI(n){if(n.length===1){let e=n[0];if(WR(e))return{args:e,keys:null};if(ZR(e)){let t=YR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function ZR(n){return n&&typeof n=="object"&&KR(n)===QR}function MI(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function _a(...n){let e=Ir(n),t=yI(n),{args:r,keys:i}=NI(n);if(r.length===0)return Me([],e);let o=new re(JR(r,e,i?s=>MI(i,s):Nt));return t?o.pipe(RI(t)):o}function JR(n,e,t=Nt){return r=>{PI(e,()=>{let{length:i}=n,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)PI(e,()=>{let l=Me(n[u],e),f=!1;l.subscribe(he(r,p=>{o[u]=p,f||(f=!0,c--),c||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function PI(n,e,t){n?bt(t,n,e):e()}function xI(n,e,t,r,i,o,s,c){let u=[],l=0,f=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?A(M):u.push(M),A=M=>{o&&e.next(M),l++;let R=!1;Ye(t(M,f++)).subscribe(he(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?bt(e,s,()=>A(F)):A(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(he(e,y,()=>{p=!0,m()})),()=>{c?.()}}function Fe(n,e,t=1/0){return ee(e)?Fe((r,i)=>ce((o,s)=>e(r,o,i,s))(Ye(n(r,i))),t):(typeof e=="number"&&(t=e),de((r,i)=>xI(r,i,n,t)))}function Ro(n=1/0){return Fe(Nt,n)}function kI(){return Ro(1)}function No(...n){return kI()(Me(n,Ir(n)))}function Ea(n){return new re(e=>{Ye(n()).subscribe(e)})}function _t(n,e){return de((t,r)=>{let i=0;t.subscribe(he(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Bn(n){return de((e,t)=>{let r=null,i=!1,o;r=e.subscribe(he(t,void 0,void 0,s=>{o=Ye(n(s,Bn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function OI(n,e,t,r,i){return(o,s)=>{let c=t,u=e,l=0;o.subscribe(he(s,f=>{let p=l++;u=c?n(u,f,p):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Tr(n,e){return ee(e)?Fe(n,e,1):Fe(n,1)}function br(n){return de((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $n(n){return n<=0?()=>Tt:de((e,t)=>{let r=0;e.subscribe(he(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $u(n=XR){return de((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function XR(){return new Un}function Ia(n){return de((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Hn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?_t((i,o)=>n(i,o,r)):Nt,$n(1),t?br(e):$u(()=>new Un))}function Mo(n){return n<=0?()=>Tt:de((e,t)=>{let r=[];e.subscribe(he(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Hf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?_t((i,o)=>n(i,o,r)):Nt,Mo(1),t?br(e):$u(()=>new Un))}function Hu(n,e){return de(OI(n,e,arguments.length>=2,!0))}function qu(...n){let e=Ir(n);return de((t,r)=>{(e?No(n,t,e):No(n,t)).subscribe(r)})}function Et(n,e){return de((t,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();t.subscribe(he(r,u=>{i?.unsubscribe();let l=0,f=o++;Ye(n(u,f)).subscribe(i=he(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function zu(n){return de((e,t)=>{Ye(n).subscribe(he(t,()=>t.complete(),ya)),!t.closed&&e.subscribe(t)})}function Ze(n,e,t){let r=ee(n)||e||t?{next:n,error:e,complete:t}:n;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}function FI(n){let e=ne(null);try{return n()}finally{ne(e)}}var Cr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},np=new Cr("20.3.14");var B=class extends Error{code;constructor(e,t){super(gi(e,t)),this.code=e}};function eN(n){return`NG0${Math.abs(n)}`}function gi(n,e){return`${eN(n)}${e?": "+e:""}`}function _e(n){for(let e in n)if(n[e]===_e)return e;throw Error("")}function Sr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Sr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function rp(n,e){return n?e?`${n} ${e}`:n:e||""}var tN=_e({__forward_ref__:_e});function ba(n){return n.__forward_ref__=ba,n.toString=function(){return Sr(this())},n}function Ct(n){return ip(n)?n():n}function ip(n){return typeof n=="function"&&n.hasOwnProperty(tN)&&n.__forward_ref__===ba}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function nn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ca(n){return nN(n,Yu)}function op(n){return Ca(n)!==null}function nN(n,e){return n.hasOwnProperty(e)&&n[e]||null}function rN(n){let e=n?.[Yu]??null;return e||null}function zf(n){return n&&n.hasOwnProperty(Wu)?n[Wu]:null}var Yu=_e({\u0275prov:_e}),Wu=_e({\u0275inj:_e}),U=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sp(n){return n&&!!n.\u0275providers}var ap=_e({\u0275cmp:_e}),cp=_e({\u0275dir:_e}),up=_e({\u0275pipe:_e}),lp=_e({\u0275mod:_e}),Da=_e({\u0275fac:_e}),mi=_e({__NG_ELEMENT_ID__:_e}),VI=_e({__NG_ENV_ID__:_e});function dp(n){return typeof n=="string"?n:n==null?"":String(n)}function UI(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():dp(n)}var BI=_e({ngErrorCode:_e}),iN=_e({ngErrorMessage:_e}),oN=_e({ngTokenPath:_e});function hp(n,e){return $I("",-200,e)}function Zu(n,e){throw new B(-201,!1)}function $I(n,e,t){let r=new B(e,n);return r[BI]=e,r[iN]=n,t&&(r[oN]=t),r}function sN(n){return n[BI]}var Gf;function HI(){return Gf}function Mt(n){let e=Gf;return Gf=n,e}function fp(n,e,t){let r=Ca(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Zu(n,"Injector")}var aN={},di=aN,Wf="__NG_DI_FLAG__",Kf=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=hi(t)||0;try{return this.injector.get(e,r&8?null:di,r)}catch(i){if(go(i))return i;throw i}}};function cN(n,e=0){let t=yu();if(t===void 0)throw new B(-203,!1);if(t===null)return fp(n,void 0,e);{let r=uN(e),i=t.retrieve(n,r);if(go(i)){if(r.optional)return null;throw i}return i}}function W(n,e=0){return(HI()||cN)(Ct(n),e)}function N(n,e){return W(n,hi(e))}function hi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function uN(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Qf(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let c=r[s],u=lN(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(W(i,o))}else e.push(W(r))}return e}function qI(n,e){return n[Wf]=e,n.prototype[Wf]=e,n}function lN(n){return n[Wf]}function fi(n,e){let t=n.hasOwnProperty(Da);return t?n[Da]:null}function Ju(n,e){n.forEach(t=>Array.isArray(t)?Ju(t,e):e(t))}function pp(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Sa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}var yi={},en=[],Gn=new U(""),gp=new U("",-1),mp=new U(""),Ta=class{get(e,t=di){if(t===di){let i=$I("",-201);throw i.name="\u0275NotFound",i}return t}};function yp(n){return n[lp]||null}function Wn(n){return n[ap]||null}function vp(n){return n[cp]||null}function zI(n){return n[up]||null}function $t(n){return{\u0275providers:n}}function GI(n){return $t([{provide:Gn,multi:!0,useValue:n}])}function WI(...n){return{\u0275providers:_p(!0,n),\u0275fromNgModule:!0}}function _p(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ju(e,s=>{let c=s;Ku(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&KI(i,o),t}function KI(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Ep(i,o=>{e(o,r)})}}function Ku(n,e,t,r){if(n=Ct(n),!n)return!1;let i=null,o=zf(n),s=!o&&Wn(n);if(!o&&!s){let u=n.ngModule;if(o=zf(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ku(l,e,t,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Ju(o.imports,f=>{Ku(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&KI(l,e)}if(!c){let l=fi(i)||(()=>new i);e({provide:i,useFactory:l,deps:en},i),e({provide:mp,useValue:i,multi:!0},i),e({provide:Gn,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=n;Ep(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Ep(n,e){for(let t of n)sp(t)&&(t=t.\u0275providers),Array.isArray(t)?Ep(t,e):e(t)}var dN=_e({provide:String,useValue:_e});function QI(n){return n!==null&&typeof n=="object"&&dN in n}function hN(n){return!!(n&&n.useExisting)}function fN(n){return!!(n&&n.useFactory)}function Qu(n){return typeof n=="function"}var Aa=new U(""),Gu={},jI={},qf;function Ra(){return qf===void 0&&(qf=new Ta),qf}var Le=class{},pi=class extends Le{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Zf(e,s=>this.processProvider(s)),this.records.set(gp,Po(void 0,this)),i.has("environment")&&this.records.set(Le,Po(void 0,this));let o=this.records.get(Aa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mp,en,{self:!0}))}retrieve(e,t){let r=hi(t)||0;try{return this.get(e,di,r)}catch(i){if(go(i))return i;throw i}}destroy(){wa(this),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return wa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){wa(this);let t=vn(this),r=Mt(void 0),i;try{return e()}finally{vn(t),Mt(r)}}get(e,t=di,r){if(wa(this),e.hasOwnProperty(VI))return e[VI](this);let i=hi(r),o,s=vn(this),c=Mt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let f=vN(e)&&Ca(e);f&&this.injectableDefInScope(f)?l=Po(Yf(e),Gu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ra():this.parent;return t=i&8&&t===di?null:t,u.get(e,t)}catch(u){let l=sN(u);throw l===-200||l===-201?new B(l,null):u}finally{Mt(c),vn(s)}}resolveInjectorInitializers(){let e=ne(null),t=vn(this),r=Mt(void 0),i;try{let o=this.get(Gn,en,{self:!0});for(let s of o)s()}finally{vn(t),Mt(r),ne(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Sr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ct(e);let t=Qu(e)?e:Ct(e&&e.provide),r=gN(e);if(!Qu(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Po(void 0,Gu,!0),i.factory=()=>Qf(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ne(null);try{if(t.value===jI)throw hp(Sr(e));return t.value===Gu&&(t.value=jI,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&yN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Yf(n){let e=Ca(n),t=e!==null?e.factory:fi(n);if(t!==null)return t;if(n instanceof U)throw new B(204,!1);if(n instanceof Function)return pN(n);throw new B(204,!1)}function pN(n){if(n.length>0)throw new B(204,!1);let t=rN(n);return t!==null?()=>t.factory(n):()=>new n}function gN(n){if(QI(n))return Po(void 0,n.useValue);{let e=YI(n);return Po(e,Gu)}}function YI(n,e,t){let r;if(Qu(n)){let i=Ct(n);return fi(i)||Yf(i)}else if(QI(n))r=()=>Ct(n.useValue);else if(fN(n))r=()=>n.useFactory(...Qf(n.deps||[]));else if(hN(n))r=(i,o)=>W(Ct(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ct(n&&(n.useClass||n.provide));if(mN(n))r=()=>new i(...Qf(n.deps));else return fi(i)||Yf(i)}return r}function wa(n){if(n.destroyed)throw new B(205,!1)}function Po(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function mN(n){return!!n.deps}function yN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function vN(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Zf(n,e){for(let t of n)Array.isArray(t)?Zf(t,e):t&&sp(t)?Zf(t.\u0275providers,e):e(t)}function Be(n,e){let t;n instanceof pi?(wa(n),t=n):t=new Kf(n);let r,i=vn(t),o=Mt(void 0);try{return e()}finally{vn(i),Mt(o)}}function ZI(){return HI()!==void 0||yu()!=null}var rn=0,ie=1,Z=2,rt=3,Ht=4,qt=5,Na=6,xo=7,lt=8,Rr=9,Kn=10,it=11,ko=12,Ip=13,vi=14,zt=15,_i=16,Ei=17,Ii=18,Ma=19,wp=20,qn=21,Xu=22,Pa=23,Pt=24,wi=25,xa=26,xt=27,JI=1;var Nr=7,ka=8,Oa=9,St=10;function Qn(n){return Array.isArray(n)&&typeof n[JI]=="object"}function on(n){return Array.isArray(n)&&n[JI]===!0}function Dp(n){return(n.flags&4)!==0}function Mr(n){return n.componentOffset>-1}function Fa(n){return(n.flags&1)===1}function Di(n){return!!n.template}function Oo(n){return(n[Z]&512)!==0}function Ti(n){return(n[Z]&256)===256}var XI="svg",ew="math";function Gt(n){for(;Array.isArray(n);)n=n[rn];return n}function tw(n,e){return Gt(e[n])}function _n(n,e){return Gt(e[n.index])}function el(n,e){return n.data[e]}function sn(n,e){let t=e[n];return Qn(t)?t:t[rn]}function tl(n){return(n[Z]&128)===128}function nw(n){return on(n[rt])}function La(n,e){return e==null?null:n[e]}function Tp(n){n[Ei]=0}function bp(n){n[Z]&1024||(n[Z]|=1024,tl(n)&&Fo(n))}function rw(n,e){for(;n>0;)e=e[vi],n--;return e}function Va(n){return!!(n[Z]&9216||n[Pt]?.dirty)}function nl(n){n[Kn].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),Va(n)&&Fo(n)}function Fo(n){n[Kn].changeDetectionScheduler?.notify(0);let e=Ar(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!tl(e)));)e=Ar(e)}function Cp(n,e){if(Ti(n))throw new B(911,!1);n[qn]===null&&(n[qn]=[]),n[qn].push(e)}function iw(n,e){if(n[qn]===null)return;let t=n[qn].indexOf(e);t!==-1&&n[qn].splice(t,1)}function Ar(n){let e=n[rt];return on(e)?e[rt]:e}function ow(n){return n[xo]??=[]}function sw(n){return n.cleanup??=[]}var fe={lFrame:Ew(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jf=!1;function aw(){return fe.lFrame.elementDepthCount}function cw(){fe.lFrame.elementDepthCount++}function uw(){fe.lFrame.elementDepthCount--}function Sp(){return fe.bindingsEnabled}function lw(){return fe.skipHydrationRootTNode!==null}function dw(n){return fe.skipHydrationRootTNode===n}function hw(){fe.skipHydrationRootTNode=null}function $e(){return fe.lFrame.lView}function bi(){return fe.lFrame.tView}function Se(n){return fe.lFrame.contextLView=n,n[lt]}function Ae(n){return fe.lFrame.contextLView=null,n}function Wt(){let n=Ap();for(;n!==null&&n.type===64;)n=n.parent;return n}function Ap(){return fe.lFrame.currentTNode}function fw(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Lo(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function Rp(){return fe.lFrame.isParent}function pw(){fe.lFrame.isParent=!1}function Np(){return Jf}function Mp(n){let e=Jf;return Jf=n,e}function gw(n){return fe.lFrame.bindingIndex=n}function Pp(){return fe.lFrame.bindingIndex++}function mw(){return fe.lFrame.inI18n}function yw(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,rl(e)}function vw(){return fe.lFrame.currentDirectiveIndex}function rl(n){fe.lFrame.currentDirectiveIndex=n}function xp(n){fe.lFrame.currentQueryIndex=n}function _N(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[qt]:null}function kp(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=_N(o),i===null||(o=o[vi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=fe.lFrame=_w();return r.currentTNode=e,r.lView=n,!0}function il(n){let e=_w(),t=n[ie];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function _w(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?Ew(n):e}function Ew(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Iw(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Op=Iw;function ol(){let n=Iw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ww(n){return(fe.lFrame.contextLView=rw(n,fe.lFrame.contextLView))[lt]}function sl(){return fe.lFrame.selectedIndex}function Pr(n){fe.lFrame.selectedIndex=n}function Dw(){let n=fe.lFrame;return el(n.tView,n.selectedIndex)}function Tw(){return fe.lFrame.currentNamespace}var bw=!0;function al(){return bw}function cl(n){bw=n}function Xf(n,e=null,t=null,r){let i=Fp(n,e,t,r);return i.resolveInjectorInitializers(),i}function Fp(n,e=null,t=null,r,i=new Set){let o=[t||en,WI(n)];return r=r||(typeof n=="object"?void 0:Sr(n)),new pi(o,e||Ra(),r||null,i)}var Ue=class n{static THROW_IF_NOT_FOUND=di;static NULL=new Ta;static create(e,t){if(Array.isArray(e))return Xf({name:""},t,e,"");{let r=e.name??"";return Xf({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>W(gp)});static __NG_ELEMENT_ID__=-1},Ve=new U(""),an=(()=>{class n{static __NG_ELEMENT_ID__=EN;static __NG_ENV_ID__=t=>t}return n})(),ep=class extends an{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ti(this._lView)}onDestroy(e){let t=this._lView;return Cp(t,e),()=>iw(t,e)}};function EN(){return new ep($e())}var tn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},kt=new U("",{providedIn:"root",factory:()=>{let n=N(Le),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(tn),e.handleError(t))}}}),Cw={provide:Gn,useValue:()=>void N(tn),multi:!0},IN=new U("",{providedIn:"root",factory:()=>{let n=N(Ve).defaultView;if(!n)return;let e=N(kt),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),N(an).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Lp(){return $t([GI(()=>void N(IN))])}function Ee(n,e){let[t,r,i]=Af(n,e?.equal),o=t,s=o[Dt];return o.set=r,o.update=i,o.asReadonly=Sw.bind(o),o}function Sw(){let n=this[Dt];if(n.readonlyFn===void 0){let e=()=>this();e[Dt]=n,n.readonlyFn=e}return n.readonlyFn}var ul=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=wN}return n})();function wN(){return new ul($e(),Wt())}var zn=class{},ja=new U("",{providedIn:"root",factory:()=>!1});var Vp=new U(""),jp=new U(""),En=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new nt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),Vo=(()=>{class n{internalPendingTasks=N(En);scheduler=N(zn);errorHandler=N(kt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ua(...n){}var Up=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new tp})}return n})(),tp=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function qo(n){return{toString:n}.toString()}var ll="__parameters__";function xN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function kN(n,e,t){return qo(()=>{let r=xN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let p=u.hasOwnProperty(ll)?u[ll]:Object.defineProperty(u,ll,{value:[]})[ll];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Zn=qI(kN("Optional"),8);function ON(n){return typeof n=="function"}var pl=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function iD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var zo=(()=>{let n=()=>oD;return n.ngInherit=!0,n})();function oD(n){return n.type.prototype.ngOnChanges&&(n.setInput=LN),FN}function FN(){let n=aD(this),e=n?.current;if(e){let t=n.previous;if(t===yi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function LN(n,e,t,r,i){let o=this.declaredInputs[r],s=aD(n)||VN(n,{previous:yi,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new pl(l&&l.currentValue,t,u===yi),iD(n,e,i,t)}var sD="__ngSimpleChanges__";function aD(n){return n[sD]||null}function VN(n,e){return n[sD]=e}var Aw=[];var De=function(n,e=null,t){for(let r=0;r<Aw.length;r++){let i=Aw[r];i(n,e,t)}};function jN(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=oD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function cD(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function dl(n,e,t){uD(n,e,3,t)}function hl(n,e,t,r){(n[Z]&3)===t&&uD(n,e,t,r)}function Bp(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function uD(n,e,t,r){let i=r!==void 0?n[Ei]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(n[Ei]+=65536),(c<o||o==-1)&&(UN(n,t,e,u),n[Ei]=(n[Ei]&4294901760)+u+2),u++}function Rw(n,e){De(4,n,e);let t=ne(null);try{e.call(n)}finally{ne(t),De(5,n,e)}}function UN(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],c=n[s];i?n[Z]>>14<n[Ei]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,Rw(c,o)):Rw(c,o)}var Uo=-1,Ha=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function BN(n){return(n.flags&8)!==0}function $N(n){return(n.flags&16)!==0}function HN(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],c=t[r++];n.setAttribute(e,s,c,o)}else{let o=i,s=t[++r];zN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function qN(n){return n===3||n===4||n===6}function zN(n){return n.charCodeAt(0)===64}function ag(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Nw(n,t,i,null,e[++r]):Nw(n,t,i,null,null))}}return n}function Nw(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function lD(n){return n!==Uo}function gl(n){return n&32767}function GN(n){return n>>16}function ml(n,e){let t=GN(n),r=e;for(;t>0;)r=r[vi],t--;return r}var Gp=!0;function Mw(n){let e=Gp;return Gp=n,e}var WN=256,dD=WN-1,hD=5,KN=0,In={};function QN(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(mi)&&(r=t[mi]),r==null&&(r=t[mi]=KN++);let i=r&dD,o=1<<i;e.data[n+(i>>hD)]|=o}function fD(n,e){let t=pD(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,$p(r.data,n),$p(e,null),$p(r.blueprint,null));let i=cg(n,e),o=n.injectorIndex;if(lD(i)){let s=gl(i),c=ml(i,e),u=c[ie].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function $p(n,e){n.push(0,0,0,0,0,0,0,0,e)}function pD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function cg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=_D(i),r===null)return Uo;if(t++,i=i[vi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Uo}function YN(n,e,t){QN(n,e,t)}function gD(n,e,t){if(t&8||n!==void 0)return n;Zu(e,"NodeInjector")}function mD(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Rr],o=Mt(void 0);try{return i?i.get(e,r,t&8):fp(e,r,t&8)}finally{Mt(o)}}return gD(r,e,t)}function yD(n,e,t,r=0,i){if(n!==null){if(e[Z]&2048&&!(r&2)){let s=tM(n,e,t,r,In);if(s!==In)return s}let o=vD(n,e,t,r,In);if(o!==In)return o}return mD(e,t,r,i)}function vD(n,e,t,r,i){let o=XN(t);if(typeof o=="function"){if(!kp(e,n,r))return r&1?gD(i,t,r):mD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Zu(t);else return s}finally{Op()}}else if(typeof o=="number"){let s=null,c=pD(n,e),u=Uo,l=r&1?e[zt][qt]:null;for((c===-1||r&4)&&(u=c===-1?cg(n,e):e[c+8],u===Uo||!xw(r,!1)?c=-1:(s=e[ie],c=gl(u),e=ml(u,e)));c!==-1;){let f=e[ie];if(Pw(o,c,f.data)){let p=ZN(c,e,t,s,r,l);if(p!==In)return p}u=e[c+8],u!==Uo&&xw(r,e[ie].data[c+8]===l)&&Pw(o,c,e)?(s=f,c=gl(u),e=ml(u,e)):c=-1}}return i}function ZN(n,e,t,r,i,o){let s=e[ie],c=s.data[n+8],u=r==null?Mr(c)&&Gp:r!=s&&(c.type&3)!==0,l=i&1&&o===c,f=JN(c,s,t,u,l);return f!==null?Wp(e,s,f,c,i):In}function JN(n,e,t,r,i){let o=n.providerIndexes,s=e.data,c=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?c:c+f,m=i?c+f:l;for(let y=p;y<m;y++){let A=s[y];if(y<u&&t===A||y>=u&&A.type===t)return y}if(i){let y=s[u];if(y&&Di(y)&&y.type===t)return u}return null}function Wp(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Ha){let c=o;if(c.resolving){let y=UI(s[t]);throw hp(y)}let u=Mw(c.canSeeViewProviders);c.resolving=!0;let l=s[t].type||s[t],f,p=c.injectImpl?Mt(c.injectImpl):null,m=kp(n,r,0);try{o=n[t]=c.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&jN(t,s[t],e)}finally{p!==null&&Mt(p),Mw(u),c.resolving=!1,Op()}}return o}function XN(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(mi)?n[mi]:void 0;return typeof e=="number"?e>=0?e&dD:eM:e}function Pw(n,e,t){let r=1<<n;return!!(t[e+(n>>hD)]&r)}function xw(n,e){return!(n&2)&&!(n&1&&e)}var Ci=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return yD(this._tNode,this._lView,e,hi(r),t)}};function eM(){return new Ci(Wt(),$e())}function Ga(n){return qo(()=>{let e=n.prototype.constructor,t=e[Da]||Kp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Da]||Kp(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Kp(n){return ip(n)?()=>{let e=Kp(Ct(n));return e&&e()}:fi(n)}function tM(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!Oo(s);){let c=vD(o,s,t,r|2,In);if(c!==In)return c;let u=o.parent;if(!u){let l=s[wp];if(l){let f=l.get(t,In,r);if(f!==In)return f}u=_D(s),s=s[vi]}o=u}return i}function _D(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[qt]:null}function nM(){return Cl(Wt(),$e())}function Cl(n,e){return new Go(_n(n,e))}var Go=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=nM}return n})();function ED(n){return(n.flags&128)===128}var ug=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ug||{}),ID=new Map,rM=0;function iM(){return rM++}function oM(n){ID.set(n[Ma],n)}function Qp(n){ID.delete(n[Ma])}var kw="__ngContext__";function Bo(n,e){Qn(e)?(n[kw]=e[Ma],oM(e)):n[kw]=e}function wD(n){return TD(n[ko])}function DD(n){return TD(n[Ht])}function TD(n){for(;n!==null&&!on(n);)n=n[Ht];return n}var Yp;function lg(n){Yp=n}function bD(){if(Yp!==void 0)return Yp;if(typeof document<"u")return document;throw new B(210,!1)}var Sl=new U("",{providedIn:"root",factory:()=>sM}),sM="ng",Al=new U(""),Ri=new U("",{providedIn:"platform",factory:()=>"unknown"});var Rl=new U("",{providedIn:"root",factory:()=>bD().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var aM="h",cM="b";var CD=!1,SD=new U("",{providedIn:"root",factory:()=>CD});var dg=new U("");var uM=(n,e,t,r)=>{};function lM(n,e,t,r){uM(n,e,t,r)}function hg(n){return(n.flags&32)===32}var dM=()=>null;function AD(n,e,t=!1){return dM(n,e,t)}function RD(n,e){let t=n.contentQueries;if(t!==null){let r=ne(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let c=n.data[s];xp(o),c.contentQueries(2,e[s],s)}}}finally{ne(r)}}}function Zp(n,e,t){xp(0);let r=ne(null);try{e(n,t)}finally{ne(r)}}function ND(n,e,t){if(Dp(e)){let r=ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=n.data[s];if(c.contentQueries){let u=t[s];c.contentQueries(1,u,s)}}}finally{ne(r)}}}var Yn=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(Yn||{});function MD(n){return n instanceof Function?n():n}function hM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var PD="ng-template";function fM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&hM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(fg(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function fg(n){return n.type===4&&n.value!==PD}function pM(n,e,t){let r=n.type===4&&!t?PD:n.value;return e===r}function gM(n,e,t){let r=4,i=n.attrs,o=i!==null?vM(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!cn(r)&&!cn(u))return!1;if(s&&cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!pM(n,u,t)||u===""&&e.length===1){if(cn(r))return!1;s=!0}}else if(r&8){if(i===null||!fM(n,i,u,t)){if(cn(r))return!1;s=!0}}else{let l=e[++c],f=mM(u,i,fg(n),t);if(f===-1){if(cn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(cn(r))return!1;s=!0}}}}return cn(r)||s}function cn(n){return(n&1)===0}function mM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return _M(e,n)}function yM(n,e,t=!1){for(let r=0;r<e.length;r++)if(gM(n,e[r],t))return!0;return!1}function vM(n){for(let e=0;e<n.length;e++){let t=n[e];if(qN(t))return e}return n.length}function _M(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Ow(n,e){return n?":not("+e.trim()+")":e}function EM(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let c=n[++t];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!cn(s)&&(e+=Ow(o,i),i=""),r=s,o=o||!cn(r);t++}return i!==""&&(e+=Ow(o,i)),e}function IM(n){return n.map(EM).join(",")}function wM(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!cn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Wo={};function DM(n,e){return n.createText(e)}function TM(n,e,t){n.setValue(e,t)}function xD(n,e,t){return n.createElement(e,t)}function yl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function kD(n,e,t){n.appendChild(e,t)}function Fw(n,e,t,r,i){r!==null?yl(n,e,t,r,i):kD(n,e,t)}function bM(n,e,t,r){n.removeChild(null,e,t,r)}function CM(n,e,t){n.setAttribute(e,"style",t)}function SM(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function OD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&HN(n,e,r),i!==null&&SM(n,e,i),o!==null&&CM(n,e,o)}function pg(n,e,t,r,i,o,s,c,u,l,f){let p=xt+r,m=p+i,y=AM(p,m),A=typeof l=="function"?l():l;return y[ie]={type:n,blueprint:y,template:t,queries:null,viewQuery:c,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function AM(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Wo);return t}function RM(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=pg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function gg(n,e,t,r,i,o,s,c,u,l,f){let p=e.blueprint.slice();return p[rn]=i,p[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(p[Z]|=2048),Tp(p),p[rt]=p[vi]=n,p[lt]=t,p[Kn]=s||n&&n[Kn],p[it]=c||n&&n[it],p[Rr]=u||n&&n[Rr]||null,p[qt]=o,p[Ma]=iM(),p[Na]=f,p[wp]=l,p[zt]=e.type==2?n[zt]:p,p}function NM(n,e,t){let r=_n(e,n),i=RM(t),o=n[Kn].rendererFactory,s=mg(n,gg(n,i,null,FD(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function FD(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function LD(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function mg(n,e){return n[ko]?n[Ip][Ht]=e:n[ko]=e,n[Ip]=e,e}function oe(n=1){VD(bi(),$e(),sl()+n,!1)}function VD(n,e,t,r){if(!r)if((e[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&dl(e,o,t)}else{let o=n.preOrderHooks;o!==null&&hl(e,o,0,t)}Pr(t)}var Nl=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Nl||{});function Jp(n,e,t,r){let i=ne(null);try{let[o,s,c]=n.inputs[t],u=null;(s&Nl.SignalBased)!==0&&(u=e[o][Dt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):c!==null&&(r=c.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):iD(e,u,o,r)}finally{ne(i)}}var Ni=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Ni||{}),MM;function yg(n,e){return MM(n,e)}var $o=new Set,Ml=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Ml||{}),Mi=new U(""),Lw=new Set;function Pi(n){Lw.has(n)||(Lw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var jD=!1,Xp=class extends tt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ZI()&&(this.destroyRef=N(an,{optional:!0})??void 0,this.pendingTasks=N(En,{optional:!0})??void 0)}emit(e){let t=ne(null);try{super.next(e)}finally{ne(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof ke&&e.add(c),c}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},dt=Xp;function UD(n){let e,t;function r(){n=Ua;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Vw(n){return queueMicrotask(()=>n()),()=>{n=Ua}}var vg="isAngularZone",vl=vg+"_ID",PM=0,Te=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new dt(!1);onMicrotaskEmpty=new dt(!1);onStable=new dt(!1);onError=new dt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=jD}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,OM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,xM,Ua,Ua);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},xM={};function _g(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){UD(()=>{n.callbackScheduled=!1,eg(n),n.isCheckStableRunning=!0,_g(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),eg(n)}function OM(n){let e=()=>{kM(n)},t=PM++;n._inner=n._inner.fork({name:"angular",properties:{[vg]:!0,[vl]:t,[vl+t]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(FM(u))return r.invokeTask(o,s,c,u);try{return jw(n),r.invokeTask(o,s,c,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Uw(n)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return jw(n),r.invoke(o,s,c,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!LM(u)&&e(),Uw(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,eg(n),_g(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function eg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function jw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Uw(n){n._nesting--,_g(n)}var _l=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new dt;onMicrotaskEmpty=new dt;onStable=new dt;onError=new dt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function FM(n){return BD(n,"__ignore_ng_zone__")}function LM(n){return BD(n,"__scheduler_tick__")}function BD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Eg=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),$D=[0,1,2,3],HD=(()=>{class n{ngZone=N(Te);scheduler=N(zn);errorHandler=N(tn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Mi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&De(16),this.executing=!0;for(let r of $D)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&De(17)}register(t){let{view:r}=t;r!==void 0?((r[wi]??=[]).push(t),Fo(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ml.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),El=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[wi];e&&(this.view[wi]=e.filter(t=>t!==this))}};function Pl(n,e){let t=e?.injector??N(Ue);return Pi("NgAfterNextRender"),jM(n,t,e,!0)}function VM(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function jM(n,e,t,r){let i=e.get(Eg);i.impl??=e.get(HD);let o=e.get(Mi,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(an):null,c=e.get(ul,null,{optional:!0}),u=new El(i.impl,VM(n),c?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var UM=new U("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function qD(n,e,t){let r=n.get(UM);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function BM(n,e){for(let[t,r]of e)qD(n,r.animateFns)}function Bw(n,e,t,r){let i=n?.[xa]?.enter;e!==null&&i&&i.has(t.index)&&BM(r,i)}function jo(n,e,t,r,i,o,s,c){if(i!=null){let u,l=!1;on(i)?u=i:Qn(i)&&(l=!0,i=i[rn]);let f=Gt(i);n===0&&r!==null?(Bw(c,r,o,t),s==null?kD(e,r,f):yl(e,r,f,s||null,!0)):n===1&&r!==null?(Bw(c,r,o,t),yl(e,r,f,s||null,!0)):n===2?$w(c,o,t,p=>{bM(e,f,l,p)}):n===3&&$w(c,o,t,()=>{e.destroyNode(f)}),u!=null&&eP(e,n,t,u,o,r,s)}}function $M(n,e){zD(n,e),e[rn]=null,e[qt]=null}function HM(n,e,t,r,i,o){r[rn]=i,r[qt]=e,xl(n,r,t,1,i,o)}function zD(n,e){e[Kn].changeDetectionScheduler?.notify(9),xl(n,e,e[it],2,null,null)}function qM(n){let e=n[ko];if(!e)return Hp(n[ie],n);for(;e;){let t=null;if(Qn(e))t=e[ko];else{let r=e[St];r&&(t=r)}if(!t){for(;e&&!e[Ht]&&e!==n;)Qn(e)&&Hp(e[ie],e),e=e[rt];e===null&&(e=n),Qn(e)&&Hp(e[ie],e),t=e&&e[Ht]}e=t}}function Ig(n,e){let t=n[Oa],r=t.indexOf(e);t.splice(r,1)}function GD(n,e){if(Ti(e))return;let t=e[it];t.destroyNode&&xl(n,e,t,3,null,null),qM(e)}function Hp(n,e){if(Ti(e))return;let t=ne(null);try{e[Z]&=-129,e[Z]|=256,e[Pt]&&ma(e[Pt]),WM(n,e),GM(n,e),e[ie].type===1&&e[it].destroy();let r=e[_i];if(r!==null&&on(e[rt])){r!==e[rt]&&Ig(r,e);let i=e[Ii];i!==null&&i.detachView(n)}Qp(e)}finally{ne(t)}}function $w(n,e,t,r){let i=n?.[xa];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&$o.add(n),qD(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),c=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:f}=l();c.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(c),zM(n,r)}else n&&$o.delete(n),r(!1)},i)}function zM(n,e){let t=n[xa]?.running;if(t){t.then(()=>{n[xa].running=void 0,$o.delete(n),e(!0)});return}e(!1)}function GM(n,e){let t=n.cleanup,r=e[xo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(e[xo]=null);let i=e[qn];if(i!==null){e[qn]=null;for(let s=0;s<i.length;s++){let c=i[s];c()}}let o=e[Pa];if(o!==null){e[Pa]=null;for(let s of o)s.destroy()}}function WM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Ha)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];De(4,c,u);try{u.call(c)}finally{De(5,c,u)}}else{De(4,i,o);try{o.call(i)}finally{De(5,i,o)}}}}}function KM(n,e,t){return QM(n,e.parent,t)}function QM(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[rn];if(Mr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Yn.None||i===Yn.Emulated)return null}return _n(r,t)}function YM(n,e,t){return JM(n,e,t)}function ZM(n,e,t){return n.type&40?_n(n,t):null}var JM=ZM,Hw;function wg(n,e,t,r){let i=KM(n,r,e),o=e[it],s=r.parent||e[qt],c=YM(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Fw(o,i,t[u],c,!1);else Fw(o,i,t,c,!1);Hw!==void 0&&Hw(o,r,e,t,i)}function Ba(n,e){if(e!==null){let t=e.type;if(t&3)return _n(e,n);if(t&4)return tg(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Ba(n,r);{let i=n[e.index];return on(i)?tg(-1,i):Gt(i)}}else{if(t&128)return Ba(n,e.next);if(t&32)return yg(e,n)()||Gt(n[e.index]);{let r=WD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ar(n[zt]);return Ba(i,r)}else return Ba(n,e.next)}}}return null}function WD(n,e){if(e!==null){let r=n[zt][qt],i=e.projection;return r.projection[i]}return null}function tg(n,e){let t=St+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return Ba(r,i)}return e[Nr]}function Dg(n,e,t,r,i,o,s){for(;t!=null;){let c=r[Rr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&Bo(Gt(u),r),t.flags|=2),!hg(t))if(l&8)Dg(n,e,t.child,r,i,o,!1),jo(e,n,c,i,u,t,o,r);else if(l&32){let f=yg(t,r),p;for(;p=f();)jo(e,n,c,i,p,t,o,r);jo(e,n,c,i,u,t,o,r)}else l&16?XM(n,e,r,t,i,o):jo(e,n,c,i,u,t,o,r);t=s?t.projectionNext:t.next}}function xl(n,e,t,r,i,o){Dg(t,r,n.firstChild,e,i,o,!1)}function XM(n,e,t,r,i,o){let s=t[zt],u=s[qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];jo(e,n,t[Rr],i,f,r,o,t)}else{let l=u,f=s[rt];ED(r)&&(l.flags|=128),Dg(n,e,l,f,i,o,!0)}}function eP(n,e,t,r,i,o,s){let c=r[Nr],u=Gt(r);c!==u&&jo(e,n,t,o,c,i,s);for(let l=St;l<r.length;l++){let f=r[l];xl(f[ie],f,n,e,o,c)}}function KD(n,e,t,r,i){let o=sl(),s=r&2;try{Pr(-1),s&&e.length>xt&&VD(n,e,xt,!1),De(s?2:0,i,t),t(r,i)}finally{Pr(o),De(s?3:1,i,t)}}function Tg(n,e,t){cP(n,e,t),(t.flags&64)===64&&uP(n,e,t)}function QD(n,e,t=_n){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?t(e,n):n[s];n[i++]=c}}}function tP(n,e,t,r){let o=r.get(SD,CD)||t===Yn.ShadowDom,s=n.selectRootElement(e,o);return nP(s),s}function nP(n){rP(n)}var rP=()=>null;function iP(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function oP(n,e,t,r,i,o){let s=e[ie];if(bg(n,s,e,t,r)){Mr(n)&&aP(e,n.index);return}n.type&3&&(t=iP(t)),sP(n,e,t,r,i,o)}function sP(n,e,t,r,i,o){if(n.type&3){let s=_n(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function aP(n,e){let t=sn(e,n);t[Z]&16||(t[Z]|=64)}function cP(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Mr(t)&&NM(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||fD(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let c=n.data[s],u=Wp(e,n,s,t);if(Bo(u,e),o!==null&&dP(e,s-r,u,c,t,o),Di(c)){let l=sn(t.index,e);l[lt]=Wp(e,n,s,t)}}}function uP(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=vw();try{Pr(o);for(let c=r;c<i;c++){let u=n.data[c],l=e[c];rl(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&lP(u,l)}}finally{Pr(-1),rl(s)}}function lP(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function YD(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];yM(e,o.selectors,!1)&&(r??=[],Di(o)?r.unshift(o):r.push(o))}return r}function dP(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;c+=2){let u=s[c],l=s[c+1];Jp(r,t,u,l)}}function hP(n,e,t,r,i){let o=xt+t,s=e[ie],c=i(s,e,n,r,t);e[o]=c,Lo(n,!0);let u=n.type===2;return u?(OD(e[it],c,n),(aw()===0||Fa(n))&&Bo(c,e),cw()):Bo(c,e),al()&&(!u||!hg(n))&&wg(s,e,c,n),n}function fP(n){let e=n;return Rp()?pw():(e=e.parent,Lo(e,!1)),e}function pP(n,e){let t=n[Rr];if(!t)return;let r;try{r=t.get(kt,null)}catch{r=null}r?.(e)}function bg(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],c=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],f=s[u+1],p=e.data[l];Jp(p,t[l],f,i),c=!0}if(o)for(let u of o){let l=t[u],f=e.data[u];Jp(f,l,r,i),c=!0}return c}function gP(n,e){let t=sn(e,n),r=t[ie];mP(r,t);let i=t[rn];i!==null&&t[Na]===null&&(t[Na]=AD(i,t[Rr])),De(18),Cg(r,t,t[lt]),De(19,t[lt])}function mP(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Cg(n,e,t){il(e);try{let r=n.viewQuery;r!==null&&Zp(1,r,t);let i=n.template;i!==null&&KD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ii]?.finishViewCreation(n),n.staticContentQueries&&RD(n,e),n.staticViewQueries&&Zp(2,n.viewQuery,t);let o=n.components;o!==null&&yP(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,ol()}}function yP(n,e){for(let t=0;t<e.length;t++)gP(n,e[t])}function vP(n,e,t,r){let i=ne(null);try{let o=e.tView,c=n[Z]&4096?4096:16,u=gg(n,o,t,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[_i]=l;let f=n[Ii];return f!==null&&(u[Ii]=f.createEmbeddedView(o)),Cg(o,u,t),u}finally{ne(i)}}function qw(n,e){return!e||e.firstChild===null||ED(n)}function qa(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Gt(o)),on(o)&&ZD(o,r);let s=t.type;if(s&8)qa(n,e,t.child,r);else if(s&32){let c=yg(t,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=WD(e,t);if(Array.isArray(c))r.push(...c);else{let u=Ar(e[zt]);qa(u[ie],u,c,r,!0)}}t=i?t.projectionNext:t.next}return r}function ZD(n,e){for(let t=St;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&qa(r[ie],r,i,e)}n[Nr]!==n[rn]&&e.push(n[Nr])}function JD(n){if(n[wi]!==null){for(let e of n[wi])e.impl.addSequence(e);n[wi].length=0}}var XD=[];function _P(n){return n[Pt]??EP(n)}function EP(n){let e=XD.pop()??Object.create(wP);return e.lView=n,e}function IP(n){n.lView[Pt]!==n&&(n.lView=null,XD.push(n))}var wP=me(O({},ha),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Fo(n.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function DP(n){let e=n[Pt]??Object.create(TP);return e.lView=n,e}var TP=me(O({},ha),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Ar(n.lView);for(;e&&!eT(e[ie]);)e=Ar(e);e&&bp(e)},consumerOnSignalRead(){this.lView[Pt]=this}});function eT(n){return n.type!==2}function tT(n){if(n[Pa]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Pa])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var bP=100;function nT(n,e=0){let r=n[Kn].rendererFactory,i=!1;i||r.begin?.();try{CP(n,e)}finally{i||r.end?.()}}function CP(n,e){let t=Np();try{Mp(!0),ng(n,e);let r=0;for(;Va(n);){if(r===bP)throw new B(103,!1);r++,ng(n,1)}}finally{Mp(t)}}function SP(n,e,t,r){if(Ti(e))return;let i=e[Z],o=!1,s=!1;il(e);let c=!0,u=null,l=null;o||(eT(n)?(l=_P(e),u=pa(l)):Eu()===null?(c=!1,l=DP(e),u=pa(l)):e[Pt]&&(ma(e[Pt]),e[Pt]=null));try{Tp(e),gw(n.bindingStartIndex),t!==null&&KD(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let y=n.preOrderCheckHooks;y!==null&&dl(e,y,null)}else{let y=n.preOrderHooks;y!==null&&hl(e,y,0,null),Bp(e,0)}if(s||AP(e),tT(e),rT(e,0),n.contentQueries!==null&&RD(n,e),!o)if(f){let y=n.contentCheckHooks;y!==null&&dl(e,y)}else{let y=n.contentHooks;y!==null&&hl(e,y,1),Bp(e,1)}NP(n,e);let p=n.components;p!==null&&oT(e,p,0);let m=n.viewQuery;if(m!==null&&Zp(2,m,r),!o)if(f){let y=n.viewCheckHooks;y!==null&&dl(e,y)}else{let y=n.viewHooks;y!==null&&hl(e,y,2),Bp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Xu]){for(let y of e[Xu])y();e[Xu]=null}o||(JD(e),e[Z]&=-73)}catch(f){throw o||Fo(e),f}finally{l!==null&&(Iu(l,u),c&&IP(l)),ol()}}function rT(n,e){for(let t=wD(n);t!==null;t=DD(t))for(let r=St;r<t.length;r++){let i=t[r];iT(i,e)}}function AP(n){for(let e=wD(n);e!==null;e=DD(e)){if(!(e[Z]&2))continue;let t=e[Oa];for(let r=0;r<t.length;r++){let i=t[r];bp(i)}}}function RP(n,e,t){De(18);let r=sn(e,n);iT(r,t),De(19,r[lt])}function iT(n,e){tl(n)&&ng(n,e)}function ng(n,e){let r=n[ie],i=n[Z],o=n[Pt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ga(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)SP(r,n,r.template,n[lt]);else if(i&8192){let c=ne(null);try{tT(n),rT(n,1);let u=r.components;u!==null&&oT(n,u,1),JD(n)}finally{ne(c)}}}function oT(n,e,t){for(let r=0;r<e.length;r++)RP(n,e[r],t)}function NP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Pr(~i);else{let o=i,s=t[++r],c=t[++r];yw(s,o);let u=e[o];De(24,u),c(2,u),De(25,u)}}}finally{Pr(-1)}}function Sg(n,e){let t=Np()?64:1088;for(n[Kn].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=Ar(n);if(Oo(n)&&!r)return n;n=r}return null}function sT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function MP(n,e,t,r=!0){let i=e[ie];if(PP(i,e,n,t),r){let s=tg(t,n),c=e[it],u=c.parentNode(n[Nr]);u!==null&&HM(i,n[qt],c,e,u,s)}let o=e[Na];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rg(n,e){if(n.length<=St)return;let t=St+e,r=n[t];if(r){let i=r[_i];i!==null&&i!==n&&Ig(i,r),e>0&&(n[t-1][Ht]=r[Ht]);let o=Sa(n,St+e);$M(r[ie],r);let s=o[Ii];s!==null&&s.detachView(o[ie]),r[rt]=null,r[Ht]=null,r[Z]&=-129}return r}function PP(n,e,t,r){let i=St+r,o=t.length;r>0&&(t[i-1][Ht]=e),r<o-St?(e[Ht]=t[i],pp(t,St+r,e)):(t.push(e),e[Ht]=null),e[rt]=t;let s=e[_i];s!==null&&t!==s&&aT(s,e);let c=e[Ii];c!==null&&c.insertView(n),nl(e),e[Z]|=128}function aT(n,e){let t=n[Oa],r=e[rt];if(Qn(r))n[Z]|=2;else{let i=r[rt][zt];e[zt]!==i&&(n[Z]|=2)}t===null?n[Oa]=[e]:t.push(e)}var xr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ie];return qa(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[lt]}set context(e){this._lView[lt]=e}get destroyed(){return Ti(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(on(e)){let t=e[ka],r=t?t.indexOf(this):-1;r>-1&&(rg(e,r),Sa(t,r))}this._attachedToViewContainer=!1}GD(this._lView[ie],this._lView)}onDestroy(e){Cp(this._lView,e)}markForCheck(){Sg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){nl(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,nT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Oo(this._lView),t=this._lView[_i];t!==null&&!e&&Ig(t,this._lView),zD(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=Oo(this._lView),r=this._lView[_i];r!==null&&!t&&aT(r,this._lView),nl(this._lView)}};var kl=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=xP;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=vP(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new xr(o)}}return n})();function xP(){return kP(Wt(),$e())}function kP(n,e){return n.type&4?new kl(e,n,Cl(n,e)):null}function Ag(n,e,t,r,i){let o=n.data[e];if(o===null)o=OP(n,e,t,r,i),mw()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=fw();o.injectorIndex=s===null?-1:s.injectorIndex}return Lo(o,!0),o}function OP(n,e,t,r,i){let o=Ap(),s=Rp(),c=s?o:o&&o.parent,u=n.data[e]=LP(n,c,t,e,r,i);return FP(n,u,o,s),u}function FP(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function LP(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,c=0;return lw()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var oG=new RegExp(`^(\\d+)*(${cM}|${aM})*(.*)`);var VP=()=>null;function zw(n,e){return VP(n,e)}var cT=class{},Ol=class{},ig=class{resolveComponentFactory(e){throw new B(917,!1)}},Wa=class{static NULL=new ig},Si=class{};var uT=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var fl={},og=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,fl,r);return i!==fl||t===fl?i:this.parentInjector.get(e,t,r)}};function Gw(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=rp(i,c);else if(o==2){let u=c,l=e[++s];r=rp(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function At(n,e=0){let t=$e();if(t===null)return W(n,e);let r=Wt();return yD(r,t,Ct(n),e)}function Rg(){let n="invalid";throw new Error(n)}function lT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let c=s,u=null,l=null;for(let f of s)if(f.resolveHostDirectives!==null){[c,u,l]=f.resolveHostDirectives(s);break}BP(n,e,t,c,o,u,l)}o!==null&&r!==null&&jP(t,r,o)}function jP(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function UP(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function BP(n,e,t,r,i,o,s){let c=r.length,u=!1;for(let m=0;m<c;m++){let y=r[m];!u&&Di(y)&&(u=!0,UP(n,t,m)),YN(fD(t,e),n,y.type)}WP(t,n.data.length,c);for(let m=0;m<c;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,f=!1,p=LD(n,e,c,null);c>0&&(t.directiveToIndex=new Map);for(let m=0;m<c;m++){let y=r[m];if(t.mergedAttrs=ag(t.mergedAttrs,y.hostAttrs),HP(n,t,e,p,y),GP(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let A=y.type.prototype;!l&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!f&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}$P(n,t,o)}function $P(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))Ww(0,e,i,r),Ww(1,e,i,r),Qw(e,r,!1);else{let o=t.get(i);Kw(0,e,o,r),Kw(1,e,o,r),Qw(e,r,!0)}}}function Ww(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),dT(e,o)}}function Kw(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],c;n===0?c=e.hostDirectiveInputs??={}:c=e.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,o),dT(e,s)}}function dT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function Qw(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||fg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let u=r[c];if(u===0){c+=4;continue}else if(u===5){c+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let f of l)if(f===e){s??=[],s.push(u,r[c+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let f=0;f<l.length;f+=2)if(l[f]===e){s??=[],s.push(l[f+1],r[c+1]);break}}c+=2}n.initialInputs??=[],n.initialInputs.push(s)}function HP(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=fi(i.type,!0)),s=new Ha(o,Di(i),At,null);n.blueprint[r]=s,t[r]=s,qP(n,e,r,LD(n,t,i.hostVars,Wo),i)}function qP(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let c=~e.index;zP(s)!=c&&s.push(c),s.push(t,r,o)}}function zP(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function GP(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Di(e)&&(t[""]=n)}}function WP(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hT(n,e,t,r,i,o,s,c){let u=e[ie],l=u.consts,f=La(l,s),p=Ag(u,n,t,r,f);return o&&lT(u,e,p,La(l,c),i),p.mergedAttrs=ag(p.mergedAttrs,p.attrs),p.attrs!==null&&Gw(p,p.attrs,!1),p.mergedAttrs!==null&&Gw(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function fT(n,e){cD(n,e),Dp(e)&&n.queries.elementEnd(e)}function Ng(n){return gT(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function pT(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function gT(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function mT(n,e,t){if(t===Wo)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function qp(n,e,t){return function r(i){let o=Mr(n)?sn(n.index,e):e;Sg(o,5);let s=e[lt],c=Yw(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)c=Yw(e,s,u,i)&&c,u=u.__ngNextListenerFn__;return c}}function Yw(n,e,t,r){let i=ne(null);try{return De(6,e,t),t(r)!==!1}catch(o){return pP(n,o),!1}finally{De(7,e,t),ne(i)}}function KP(n,e,t,r,i,o,s,c){let u=Fa(n),l=!1,f=null;if(!r&&u&&(f=YP(e,t,o,n.index)),f!==null){let p=f.__ngLastListenerFn__||f;p.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,l=!0}else{let p=_n(n,t),m=r?r(p):p;lM(t,m,o,c);let y=i.listen(m,o,c);if(!QP(o)){let A=r?M=>r(Gt(M[n.index])):n.index;yT(A,e,t,o,c,y,!1)}}return l}function QP(n){return n.startsWith("animation")||n.startsWith("transition")}function YP(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let c=e[xo],u=i[o+2];return c&&c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function yT(n,e,t,r,i,o,s){let c=e.firstCreatePass?sw(e):null,u=ow(t),l=u.length;u.push(i,o),c&&c.push(r,n,l,(l+1)*(s?-1:1))}function Zw(n,e,t,r,i,o){let s=e[t],c=e[ie],l=c.data[t].outputs[r],p=s[l].subscribe(o);yT(n.index,c,e,i,o,p,!0)}var sg=Symbol("BINDING");var Il=class extends Wa{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Wn(e);return new Ai(t,this.ngModule)}};function ZP(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Nl.SignalBased)!==0};return i&&(o.transform=i),o})}function JP(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function XP(n,e,t){let r=e instanceof Le?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new og(t,r):t}function ex(n){let e=n.get(Si,null);if(e===null)throw new B(407,!1);let t=n.get(uT,null),r=n.get(zn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function tx(n,e){let t=vT(n);return xD(e,t,t==="svg"?XI:t==="math"?ew:null)}function vT(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ai=class extends Ol{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=ZP(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=JP(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=IM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){De(22);let c=ne(null);try{let u=this.componentDef,l=nx(r,u,s,o),f=XP(u,i||this.ngModule,e),p=ex(f),m=p.rendererFactory.createRenderer(null,u),y=r?tP(m,r,u.encapsulation,f):tx(u,m),A=s?.some(Jw)||o?.some(F=>typeof F!="function"&&F.bindings.some(Jw)),M=gg(null,l,null,512|FD(u),null,null,p,m,f,null,AD(y,f,!0));M[xt]=y,il(M);let R=null;try{let F=hT(xt,M,2,"#host",()=>l.directiveRegistry,!0,0);OD(m,y,F),Bo(y,M),Tg(l,M,F),ND(l,F,M),fT(l,F),t!==void 0&&ix(F,this.ngContentSelectors,t),R=sn(F.index,M),M[lt]=R[lt],Cg(l,M,null)}catch(F){throw R!==null&&Qp(R),Qp(M),F}finally{De(23),ol()}return new wl(this.componentType,M,!!A)}finally{ne(c)}}};function nx(n,e,t,r){let i=n?["ng-version","20.3.14"]:wM(e.selectors[0]),o=null,s=null,c=0;if(t)for(let f of t)c+=f[sg].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let p=r[f];if(typeof p!="function")for(let m of p.bindings){c+=m[sg].requiredVars;let y=f+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let f of r){let p=typeof f=="function"?f:f.type,m=vp(p);u.push(m)}return pg(0,null,rx(o,s),1,c,u,null,null,null,[i],null)}function rx(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function Jw(n){let e=n[sg].kind;return e==="input"||e==="twoWay"}var wl=class extends cT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=el(t[ie],xt),this.location=Cl(this._tNode,t),this.instance=sn(this._tNode.index,t)[lt],this.hostView=this.changeDetectorRef=new xr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=bg(r,i[ie],i,e,t);this.previousInputValues.set(e,t);let s=sn(r.index,i);Sg(s,1)}get injector(){return new Ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ix(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ko=(()=>{class n{static __NG_ELEMENT_ID__=ox}return n})();function ox(){let n=Wt();return ax(n,$e())}var sx=Ko,_T=class extends sx{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Cl(this._hostTNode,this._hostLView)}get injector(){return new Ci(this._hostTNode,this._hostLView)}get parentInjector(){let e=cg(this._hostTNode,this._hostLView);if(lD(e)){let t=ml(e,this._hostLView),r=gl(e),i=t[ie].data[r+8];return new Ci(i,t)}else return new Ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Xw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-St}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(c,i,qw(this._hostTNode,s)),c}createComponent(e,t,r,i,o,s,c){let u=e&&!ON(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,c=R.bindings}let f=u?e:new Ai(Wn(e)),p=r||this.parentInjector;if(!o&&f.ngModule==null){let F=(u?p:this.parentInjector).get(Le,null);F&&(o=F)}let m=Wn(f.componentType??{}),y=zw(this._lContainer,m?.id??null),A=y?.firstChild??null,M=f.create(p,i,A,o,s,c);return this.insertImpl(M.hostView,l,qw(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(nw(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[rt],l=new _T(u,u[qt],u[rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return MP(s,i,o,r),e.attachToViewContainerRef(),pp(zp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Xw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=rg(this._lContainer,t);r&&(Sa(zp(this._lContainer),t),GD(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=rg(this._lContainer,t);return r&&Sa(zp(this._lContainer),t)!=null?new xr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Xw(n){return n[ka]}function zp(n){return n[ka]||(n[ka]=[])}function ax(n,e){let t,r=e[n.index];return on(r)?t=r:(t=sT(r,e,null,n),e[n.index]=t,mg(e,t)),ux(t,e,n,r),new _T(t,n,e)}function cx(n,e){let t=n[it],r=t.createComment(""),i=_n(e,n),o=t.parentNode(i);return yl(t,o,r,t.nextSibling(i),!1),r}var ux=hx,lx=()=>!1;function dx(n,e,t){return lx(n,e,t)}function hx(n,e,t,r){if(n[Nr])return;let i;t.type&8?i=Gt(r):i=cx(e,t),n[Nr]=i}var Ho=class{},Fl=class{};var Dl=class extends Ho{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Il(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=yp(e);this._bootstrapComponents=MD(o.bootstrap),this._r3Injector=Fp(e,t,[{provide:Ho,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver},...r],Sr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Tl=class extends Fl{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Dl(this.moduleType,e,[])}};var za=class extends Ho{injector;componentFactoryResolver=new Il(this);instance=null;constructor(e){super();let t=new pi([...e.providers,{provide:Ho,useValue:this},{provide:Wa,useValue:this.componentFactoryResolver}],e.parent||Ra(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Qo(n,e,t=null){return new za({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var fx=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=_p(!1,t.type),i=r.length>0?Qo([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(W(Le))})}return n})();function un(n){return qo(()=>{let e=ET(n),t=me(O({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ug.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(fx).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Yn.Emulated,styles:n.styles||en,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Pi("NgStandalone"),IT(t);let r=n.dependencies;return t.directiveDefs=eD(r,px),t.pipeDefs=eD(r,zI),t.id=yx(t),t})}function px(n){return Wn(n)||vp(n)}function wn(n){return qo(()=>({type:n.type,bootstrap:n.bootstrap||en,declarations:n.declarations||en,imports:n.imports||en,exports:n.exports||en,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gx(n,e){if(n==null)return yi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,c,u;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,c=Nl.None,u=null),t[o]=[r,c,u],e[o]=s}return t}function mx(n){if(n==null)return yi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function xi(n){return qo(()=>{let e=ET(n);return IT(e),e})}function ET(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||yi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||en,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:gx(n.inputs,e),outputs:mx(n.outputs),debugInfo:null}}function IT(n){n.features?.forEach(e=>e(n))}function eD(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function yx(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function vx(n,e,t,r,i,o,s,c){if(t.firstCreatePass){n.mergedAttrs=ag(n.mergedAttrs,n.attrs);let f=n.tView=pg(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}c&&(n.flags|=c),Lo(n,!1);let u=Ex(t,e,n,r);al()&&wg(t,e,u,n),Bo(u,e);let l=sT(u,e,u,n);e[r+xt]=l,mg(e,l),dx(l,n,e)}function _x(n,e,t,r,i,o,s,c,u,l,f){let p=t+xt,m;return e.firstCreatePass?(m=Ag(e,p,4,s||null,c||null),Sp()&&lT(e,n,m,La(e.consts,l),YD),cD(e,m)):m=e.data[p],vx(m,n,e,t,r,i,o,u),Fa(m)&&Tg(e,n,m),l!=null&&QD(n,m,f),m}function kr(n,e,t,r,i,o,s,c){let u=$e(),l=bi(),f=La(l.consts,o);return _x(u,l,n,e,t,r,i,f,void 0,s,c),kr}var Ex=Ix;function Ix(n,e,t,r){return cl(!0),e[it].createComment("")}var Mg=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Pg=new U("");function Yo(n){return!!n&&typeof n.then=="function"}function wT(n){return!!n&&typeof n.subscribe=="function"}var xg=new U("");function Ll(n){return $t([{provide:xg,multi:!0,useValue:n}])}var kg=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(xg,{optional:!0})??[];injector=N(Ue);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Be(this.injector,i);if(Yo(o))t.push(o);else if(wT(o)){let s=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ka=new U("");function DT(){Sf(()=>{let n="";throw new B(600,n)})}function TT(n){return n.isBoundToModule}var wx=10;var Or=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(kt);afterRenderManager=N(Eg);zonelessEnabled=N(ja);rootEffectScheduler=N(Up);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new tt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(En);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(t=>!t))}constructor(){N(Mi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(Le);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Ue.NULL){return this._injector.get(Te).run(()=>{De(10);let s=t instanceof Ol;if(!this._injector.get(kg).done){let A="";throw new B(405,A)}let u;s?u=t:u=this._injector.get(Wa).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=TT(u)?void 0:this._injector.get(Ho),f=r||u.selector,p=u.create(i,[],f,l),m=p.location.nativeElement,y=p.injector.get(Pg,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),$a(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),De(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ml.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let t=ne(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(t),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Si,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<wx;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Va(i))continue;let o=r&&!this.zonelessEnabled?0:1;nT(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Va(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;$a(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Ka,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$a(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $a(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var hG=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function ae(n,e,t){let r=$e(),i=Pp();if(mT(r,i,e)){let o=bi(),s=Dw();oP(s,r,n,e,r[it],t)}return ae}function tD(n,e,t,r,i){bg(e,n,t,i?"class":"style",r)}function H(n,e,t,r){let i=$e(),o=i[ie],s=n+xt,c=o.firstCreatePass?hT(s,i,2,e,YD,Sp(),t,r):o.data[s];if(hP(c,i,n,e,Dx),Fa(c)){let u=i[ie];Tg(u,i,c),ND(u,c,i)}return r!=null&&QD(i,c),H}function $(){let n=bi(),e=Wt(),t=fP(e);return n.firstCreatePass&&fT(n,t),dw(t)&&hw(),uw(),t.classesWithoutHost!=null&&BN(t)&&tD(n,t,$e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&$N(t)&&tD(n,t,$e(),t.stylesWithoutHost,!1),$}function Ot(n,e,t,r){return H(n,e,t,r),$(),Ot}var Dx=(n,e,t,r,i)=>(cl(!0),xD(e[it],r,Tw()));function ki(){return $e()}var Qa="en-US";var Tx=Qa;function bT(n){typeof n=="string"&&(Tx=n.toLowerCase().replace(/_/g,"-"))}function Q(n,e,t){let r=$e(),i=bi(),o=Wt();return bx(i,r,r[it],o,n,e,t),Q}function bx(n,e,t,r,i,o,s){let c=!0,u=null;if((r.type&3||s)&&(u??=qp(r,e,o),KP(r,n,e,s,t,i,o,u)&&(c=!1)),c){let l=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let p=0;p<f.length;p+=2){let m=f[p],y=f[p+1];u??=qp(r,e,o),Zw(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=qp(r,e,o),Zw(r,e,p,i,i,u)}}function Dn(n=1){return ww(n)}function He(n,e=""){let t=$e(),r=bi(),i=n+xt,o=r.firstCreatePass?Ag(r,i,1,e,null):r.data[i],s=Cx(r,t,o,e,n);t[i]=s,al()&&wg(r,t,s,o),Lo(o,!1)}var Cx=(n,e,t,r,i)=>(cl(!0),DM(e[it],r));function Sx(n,e,t,r=""){return mT(n,Pp(),t)?e+dp(t)+r:Wo}function Fr(n){return Og("",n),Fr}function Og(n,e,t){let r=$e(),i=Sx(r,n,e,t);return i!==Wo&&Ax(r,sl(),i),Og}function Ax(n,e,t){let r=tw(e,n);TM(n[it],r,t)}var bl=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Fg=(()=>{class n{compileModuleSync(t){return new Tl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=yp(t),o=MD(i.declarations).reduce((s,c)=>{let u=Wn(c);return u&&s.push(new Ai(u)),s},[]);return new bl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Rx=(()=>{class n{zone=N(Te);changeDetectionScheduler=N(zn);applicationRef=N(Or);applicationErrorHandler=N(kt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CT=new U("",{factory:()=>!1});function Lg({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Te(me(O({},jg()),{scheduleInRootZone:t})),[{provide:Te,useFactory:n},{provide:Gn,multi:!0,useFactory:()=>{let r=N(Rx,{optional:!0});return()=>r.initialize()}},{provide:Gn,multi:!0,useFactory:()=>{let r=N(Nx);return()=>{r.initialize()}}},e===!0?{provide:Vp,useValue:!0}:[],{provide:jp,useValue:t??jD},{provide:kt,useFactory:()=>{let r=N(Te),i=N(Le),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(tn),o.handleError(s))})}}}]}function Vg(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=Lg({ngZoneFactory:()=>{let i=jg(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Pi("NgZone_CoalesceEvent"),new Te(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return $t([{provide:CT,useValue:!0},{provide:ja,useValue:!1},r])}function jg(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Nx=(()=>{class n{subscription=new ke;initialized=!1;zone=N(Te);pendingTasks=N(En);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Te.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Te.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ST=(()=>{class n{applicationErrorHandler=N(kt);appRef=N(Or);taskService=N(En);ngZone=N(Te);zonelessEnabled=N(ja);tracing=N(Mi,{optional:!0});disableScheduling=N(Vp,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ke;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(vl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(jp,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _l||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Vw:UD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(vl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Vw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mx(){return typeof $localize<"u"&&$localize.locale||Qa}var Ug=new U("",{providedIn:"root",factory:()=>N(Ug,{optional:!0,skipSelf:!0})||Mx()});function Jn(n){return FI(n)}var AT=class{[Dt];constructor(e){this[Dt]=e}destroy(){this[Dt].destroy()}};var OT=Symbol("InputSignalNode#UNSET"),Qx=me(O({},wu),{transformFn:void 0,applyValueToInputSignal(n,e){yo(n,e)}});function FT(n,e){let t=Object.create(Qx);t.value=n,t.transformFn=e?.transform;function r(){if(fa(t),t.value===OT){let i=null;throw new B(-950,i)}return t.value}return r[Dt]=t,r}var Yx=new U("");Yx.__NG_ELEMENT_ID__=n=>{let e=Wt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new B(204,!1)};function RT(n,e){return FT(n,e)}function Zx(n){return FT(OT,n)}var LT=(RT.required=Zx,RT);var Bg=new U(""),Jx=new U("");function Ya(n){return!n.moduleRef}function Xx(n){let e=Ya(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Te);return t.run(()=>{Ya(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(kt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ya(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Bg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Bg);s.add(o),n.moduleRef.onDestroy(()=>{$a(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return tk(r,t,()=>{let o=e.get(En),s=o.add(),c=e.get(kg);return c.runInitializers(),c.donePromise.then(()=>{let u=e.get(Ug,Qa);if(bT(u||Qa),!e.get(Jx,!0))return Ya(n)?e.get(Or):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ya(n)){let f=e.get(Or);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return ek?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var ek;function tk(n,e,t){try{let r=t();return Yo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Vl=null;function nk(n=[],e){return Ue.create({name:e,providers:[{provide:Aa,useValue:"platform"},{provide:Bg,useValue:new Set([()=>Vl=null])},...n]})}function rk(n=[]){if(Vl)return Vl;let e=nk(n);return Vl=e,DT(),ik(e),e}function ik(n){let e=n.get(Al,null);Be(n,()=>{e?.forEach(t=>t())})}function Gg(){return!1}var Zo=(()=>{class n{static __NG_ELEMENT_ID__=ok}return n})();function ok(n){return sk(Wt(),$e(),(n&16)===16)}function sk(n,e,t){if(Mr(n)&&!t){let r=sn(n.index,e);return new xr(r,r)}else if(n.type&175){let r=e[zt];return new xr(r,e)}return null}var $g=class{constructor(){}supports(e){return Ng(e)}create(e){return new Hg(e)}},ak=(n,e)=>e,Hg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||ak}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<NT(r,i,o)?t:r,c=NT(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,A=y+m;f<=A&&A<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Ng(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,pT(e,c=>{s=this._trackByFn(i,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,i)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new qg(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new jl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},qg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},zg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},jl=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new zg,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function NT(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function MT(){return new Wg([new $g])}var Wg=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:MT});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||MT())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new B(901,!1)}}return n})();function VT(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;De(8);try{let o=i?.injector??rk(r),s=[Lg({}),{provide:zn,useExisting:ST},Cw,...t||[]],c=new za({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return Xx({r3Injector:c.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{De(9)}}function jT(n){let e=Wn(n);if(!e)return null;let t=new Ai(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var $T=null;function Xn(){return $T}function Kg(n){$T??=n}var Za=class{},Ja=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(HT),providedIn:"platform"})}return n})(),Qg=new U(""),HT=(()=>{class n extends Ja{_location;_history;_doc=N(Ve);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Xn().getBaseHref(this._doc)}onPopState(t){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Xn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function $l(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function UT(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ln(n){return n&&n[0]!=="?"?`?${n}`:n}var er=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(ql),providedIn:"root"})}return n})(),Hl=new U(""),ql=(()=>{class n extends er{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(Ve).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $l(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+ln(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ln(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(Ja),W(Hl,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lr=(()=>{class n{_subject=new tt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=lk(UT(BT(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ln(r))}normalize(t){return n.stripTrailingSlash(uk(this._basePath,BT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ln(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ln(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=ln;static joinWithSlash=$l;static stripTrailingSlash=UT;static \u0275fac=function(r){return new(r||n)(W(er))};static \u0275prov=j({token:n,factory:()=>ck(),providedIn:"root"})}return n})();function ck(){return new Lr(W(er))}function uk(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function BT(n){return n.replace(/\/index.html$/,"")}function lk(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Yg=(()=>{class n extends er{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=$l(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ln(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ln(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(Ja),W(Hl,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var zl=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Vr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zl(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let c=r.get(o);r.move(c,s),qT(c,i)}});for(let i=0,o=r.length;i<o;i++){let c=r.get(i).context;c.index=i,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);qT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(At(Ko),At(kl),At(Wg))};static \u0275dir=xi({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function qT(n,e){n.context.$implicit=e.item}var Tn=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wn({type:n});static \u0275inj=nn({})}return n})();function Zg(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Xa=class{};var GT="browser";var WT=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new Jg(N(Ve),window)})}return n})(),Jg=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(me(O({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=dk(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(gi(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(me(O({},t),{left:i-s[0],top:o-s[1]}))}};function dk(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var ec=class{_doc;constructor(e){this._doc=e}manager},Gl=(()=>{class n extends ec{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(W(Ve))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Kl=new U(""),im=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Gl));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Gl);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(Kl),W(Te))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),em="ng-app-id";function KT(n){for(let e of n)e.remove()}function QT(n,e){let t=e.createElement("style");return t.textContent=n,t}function hk(n,e,t,r){let i=n.head?.querySelectorAll(`style[${em}="${e}"],link[${em}="${e}"]`);if(i)for(let o of i)o.removeAttribute(em),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function nm(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var om=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,hk(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,QT);r?.forEach(i=>this.addUsage(i,this.external,nm))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(KT(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])KT(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,QT(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,nm(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(Ve),W(Sl),W(Rl,8),W(Ri))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),tm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sm=/%COMP%/g;var ZT="%COMP%",fk=`_nghost-${ZT}`,pk=`_ngcontent-${ZT}`,gk=!0,mk=new U("",{providedIn:"root",factory:()=>gk});function yk(n){return pk.replace(sm,n)}function vk(n){return fk.replace(sm,n)}function JT(n,e){return e.map(t=>t.replace(sm,n))}var am=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,c,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=c,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new tc(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Wl?i.applyToHost(t):i instanceof nc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Yn.Emulated:o=new Wl(u,l,r,this.appId,f,s,c,p,m);break;case Yn.ShadowDom:return new rm(u,l,t,r,s,c,this.nonce,p,m);default:o=new nc(u,l,r,f,s,c,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W(im),W(om),W(Sl),W(mk),W(Ve),W(Te),W(Rl),W(Mi,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),tc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(tm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(YT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(YT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=tm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=tm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Ni.DashCase|Ni.Important)?e.style.setProperty(t,r,i&Ni.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Ni.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Xn().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function YT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var rm=class extends tc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=JT(i.id,f);for(let m of f){let y=document.createElement("style");c&&y.setAttribute("nonce",c),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=nm(m,o);c&&y.setAttribute("nonce",c),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nc=class extends tc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,c,u,l){super(e,o,s,c,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=l?JT(l,f):f,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&$o.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wl=class extends nc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,c,u,l){let f=i+"-"+r.id;super(e,t,r,o,s,c,u,l,f),this.contentAttr=yk(f),this.hostAttr=vk(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ql=class n extends Za{supportsDOMEvents=!0;static makeCurrent(){Kg(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=_k();return t==null?null:Ek(t)}resetBaseElement(){rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zg(document.cookie,e)}},rc=null;function _k(){return rc=rc||document.head.querySelector("base"),rc?rc.getAttribute("href"):null}function Ek(n){return new URL(n,document.baseURI).pathname}var Ik=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),XT=["alt","control","meta","shift"],wk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dk={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},eb=(()=>{class n extends ec{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),c=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Xn().onAndCancel(t,s.domEventName,c,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),XT.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=wk[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),XT.forEach(s=>{if(s!==i){let c=Dk[s];c(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(Ve))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function cm(n,e,t){let r=O({rootComponent:n,platformRef:t?.platformRef},Tk(e));return VT(r)}function Tk(n){return{appProviders:[...Rk,...n?.providers??[]],platformProviders:Ak}}function bk(){Ql.makeCurrent()}function Ck(){return new tn}function Sk(){return lg(document),document}var Ak=[{provide:Ri,useValue:GT},{provide:Al,useValue:bk,multi:!0},{provide:Ve,useFactory:Sk}];var Rk=[{provide:Aa,useValue:"root"},{provide:tn,useFactory:Ck},{provide:Kl,useClass:Gl,multi:!0,deps:[Ve]},{provide:Kl,useClass:eb,multi:!0,deps:[Ve]},am,om,im,{provide:Si,useExisting:am},{provide:Xa,useClass:Ik},[]];var tb=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(Ve))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J="primary",mc=Symbol("RouteTitle"),fm=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Li(n){return new fm(n)}function ub(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Mk(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bn(n[t],e[t]))return!1;return!0}function bn(n,e){let t=n?pm(n):void 0,r=e?pm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!lb(n[i],e[i]))return!1;return!0}function pm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function lb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function db(n){return n.length>0?n[n.length-1]:null}function nr(n){return $f(n)?n:Yo(n)?Me(Promise.resolve(n)):G(n)}var Pk={exact:fb,subset:pb},hb={exact:xk,subset:kk,ignored:()=>!0};function nb(n,e,t){return Pk[t.paths](n.root,e.root,t.matrixParams)&&hb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function xk(n,e){return bn(n,e)}function fb(n,e,t){if(!Oi(n.segments,e.segments)||!Jl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!fb(n.children[r],e.children[r],t))return!1;return!0}function kk(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lb(n[t],e[t]))}function pb(n,e,t){return gb(n,e,e.segments,t)}function gb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Oi(i,t)||e.hasChildren()||!Jl(i,t,r))}else if(n.segments.length===t.length){if(!Oi(n.segments,t)||!Jl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!pb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Oi(n.segments,i)||!Jl(n.segments,i,r)||!n.children[J]?!1:gb(n.children[J],e,o,r)}}function Jl(n,e,t){return e.every((r,i)=>hb[t](n[i].parameters,r.parameters))}var Sn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){return Lk.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xl(this)}},jr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Li(this.parameters),this._parameterMap}toString(){return yb(this)}};function Ok(n,e){return Oi(n,e)&&n.every((t,r)=>bn(t.parameters,e[r].parameters))}function Oi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Fk(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===J&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==J&&(t=t.concat(e(i,r)))}),t}var Vi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new Ur,providedIn:"root"})}return n})(),Ur=class{parse(e){let t=new mm(e);return new Sn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ic(e.root,!0)}`,r=Uk(e.queryParams),i=typeof e.fragment=="string"?`#${Vk(e.fragment)}`:"";return`${t}${r}${i}`}},Lk=new Ur;function Xl(n){return n.segments.map(e=>yb(e)).join("/")}function ic(n,e){if(!n.hasChildren())return Xl(n);if(e){let t=n.children[J]?ic(n.children[J],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${ic(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Fk(n,(r,i)=>i===J?[ic(n.children[J],!1)]:[`${i}:${ic(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[J]!=null?`${Xl(n)}/${t[0]}`:`${Xl(n)}/(${t.join("//")})`}}function mb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yl(n){return mb(n).replace(/%3B/gi,";")}function Vk(n){return encodeURI(n)}function gm(n){return mb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ed(n){return decodeURIComponent(n)}function rb(n){return ed(n.replace(/\+/g,"%20"))}function yb(n){return`${gm(n.path)}${jk(n.parameters)}`}function jk(n){return Object.entries(n).map(([e,t])=>`;${gm(e)}=${gm(t)}`).join("")}function Uk(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yl(t)}=${Yl(i)}`).join("&"):`${Yl(t)}=${Yl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Bk=/^[^\/()?;#]+/;function um(n){let e=n.match(Bk);return e?e[0]:""}var $k=/^[^\/()?;=#]+/;function Hk(n){let e=n.match($k);return e?e[0]:""}var qk=/^[^=?&#]+/;function zk(n){let e=n.match(qk);return e?e[0]:""}var Gk=/^[^&#]+/;function Wk(n){let e=n.match(Gk);return e?e[0]:""}var mm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[J]=new ye(e,t)),r}parseSegment(){let e=um(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new jr(ed(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Hk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=um(this.remaining);i&&(r=i,this.capture(r))}e[ed(t)]=ed(r)}parseQueryParam(e){let t=zk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Wk(this.remaining);s&&(r=s,this.capture(r))}let i=rb(t),o=rb(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=um(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();t[o??J]=Object.keys(s).length===1&&s[J]?s[J]:new ye([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function vb(n){return n.segments.length>0?new ye([],{[J]:n}):n}function _b(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=_b(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ye(n.segments,e);return Kk(t)}function Kk(n){if(n.numberOfChildren===1&&n.children[J]){let e=n.children[J];return new ye(n.segments.concat(e.segments),e.children)}return n}function rs(n){return n instanceof Sn}function Eb(n,e,t=null,r=null){let i=Ib(n);return wb(i,e,t,r)}function Ib(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let c=new ye(o.url,s);return o===n&&(e=c),c}let r=t(n.root),i=vb(r);return e??i}function wb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return lm(i,i,i,t,r);let o=Qk(e);if(o.toRoot())return lm(i,i,new ye([],{}),t,r);let s=Yk(o,i,n),c=s.processChildren?sc(s.segmentGroup,s.index,o.commands):Tb(s.segmentGroup,s.index,o.commands);return lm(i,s.segmentGroup,c,t,r)}function td(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function cc(n){return typeof n=="object"&&n!=null&&n.outlets}function lm(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=Db(n,e,t);let c=vb(_b(s));return new Sn(c,o,i)}function Db(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Db(o,e,t)}),new ye(n.segments,r)}var nd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&td(r[0]))throw new B(4003,!1);let i=r.find(cc);if(i&&i!==db(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Qk(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nd(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new nd(t,e,r)}var es=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function Yk(n,e,t){if(n.isAbsolute)return new es(e,!0,0);if(!t)return new es(e,!1,NaN);if(t.parent===null)return new es(t,!0,0);let r=td(n.commands[0])?0:1,i=t.segments.length-1+r;return Zk(t,i,n.numberOfDoubleDots)}function Zk(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new es(r,!1,i-o)}function Jk(n){return cc(n[0])?n[0].outlets:{[J]:n}}function Tb(n,e,t){if(n??=new ye([],{}),n.segments.length===0&&n.hasChildren())return sc(n,e,t);let r=Xk(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ye(n.segments.slice(0,r.pathIndex),{});return o.children[J]=new ye(n.segments.slice(r.pathIndex),n.children),sc(o,0,i)}else return r.match&&i.length===0?new ye(n.segments,{}):r.match&&!n.hasChildren()?ym(n,e,t):r.match?sc(n,0,i):ym(n,e,t)}function sc(n,e,t){if(t.length===0)return new ye(n.segments,{});{let r=Jk(t),i={};if(Object.keys(r).some(o=>o!==J)&&n.children[J]&&n.numberOfChildren===1&&n.children[J].segments.length===0){let o=sc(n.children[J],e,t);return new ye(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Tb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(n.segments,i)}}function Xk(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],c=t[r];if(cc(c))break;let u=`${c}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!ob(u,l,s))return o;r+=2}else{if(!ob(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ym(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(cc(o)){let u=eO(o.outlets);return new ye(r,u)}if(i===0&&td(t[0])){let u=n.segments[e];r.push(new jr(u.path,ib(t[0]))),i++;continue}let s=cc(o)?o.outlets[J]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&td(c)?(r.push(new jr(s,ib(c))),i+=2):(r.push(new jr(s,{})),i++)}return new ye(r,{})}function eO(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ym(new ye([],{}),0,r))}),e}function ib(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ob(n,e,t){return n==t.path&&bn(e,t.parameters)}var ts="imperative",Ke=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ke||{}),Vt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Br=class extends Vt{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Vt{urlAfterRedirects;type=Ke.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(It||{}),is=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(is||{}),Cn=class extends Vt{reason;code;type=Ke.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},An=class extends Vt{reason;code;type=Ke.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},os=class extends Vt{error;target;type=Ke.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},uc=class extends Vt{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rd=class extends Vt{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},id=class extends Vt{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},od=class extends Vt{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sd=class extends Vt{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ad=class{route;type=Ke.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cd=class{route;type=Ke.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ud=class{snapshot;type=Ke.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ld=class{snapshot;type=Ke.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dd=class{snapshot;type=Ke.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{snapshot;type=Ke.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ss=class{routerEvent;position;anchor;type=Ke.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},lc=class{},as=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function tO(n){return!(n instanceof lc)&&!(n instanceof as)}function nO(n,e){return n.providers&&!n._injector&&(n._injector=Qo(n.providers,e,`Route: ${n.path}`)),n._injector??e}function dn(n){return n.outlet||J}function rO(n,e){let t=n.filter(r=>dn(r)===e);return t.push(...n.filter(r=>dn(r)!==e)),t}function ls(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var fd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ls(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ji(this.rootInjector)}},ji=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(Le))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=vm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=vm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=_m(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _m(e,this._root).map(t=>t.value)}};function vm(n,e){if(n===e.value)return e;for(let t of e.children){let r=vm(n,t);if(r)return r}return null}function _m(n,e){if(n===e.value)return[e];for(let t of e.children){let r=_m(n,t);if(r.length)return r.unshift(e),r}return[]}var Lt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Xo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var dc=class extends pd{snapshot;constructor(e,t){super(e),this.snapshot=t,Sm(this,e)}toString(){return this.snapshot.toString()}};function bb(n){let e=iO(n),t=new nt([new jr("",{})]),r=new nt({}),i=new nt({}),o=new nt({}),s=new nt(""),c=new tr(t,r,o,s,i,J,n,e.root);return c.snapshot=e.root,new dc(new Lt(c,[]),e)}function iO(n){let e={},t={},r={},o=new Fi([],e,r,"",t,J,n,null,{});return new hc("",new Lt(o,[]))}var tr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[mc]))??G(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>Li(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>Li(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),n.params),data:O(O({},e.data),n.data),resolve:O(O(O(O({},n.data),e.data),i?.data),n._resolvedData)}:r={params:O({},n.params),data:O({},n.data),resolve:O(O({},n.data),n._resolvedData??{})},i&&Sb(i)&&(r.resolve[mc]=i.title),r}var Fi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mc]}constructor(e,t,r,i,o,s,c,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Li(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Li(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},hc=class extends pd{url;constructor(e,t){super(t),this.url=e,Sm(this,t)}toString(){return Cb(this._root)}};function Sm(n,e){e.value._routerState=n,e.children.forEach(t=>Sm(n,t))}function Cb(n){let e=n.children.length>0?` { ${n.children.map(Cb).join(", ")} } `:"";return`${n.value}${e}`}function dm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),bn(e.params,t.params)||n.paramsSubject.next(t.params),Mk(e.url,t.url)||n.urlSubject.next(t.url),bn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Em(n,e){let t=bn(n.params,e.params)&&Ok(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Em(n.parent,e.parent))}function Sb(n){return typeof n.title=="string"||n.title===null}var Ab=new U(""),yc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new dt;deactivateEvents=new dt;attachEvents=new dt;detachEvents=new dt;routerOutletData=LT();parentContexts=N(ji);location=N(Ko);changeDetector=N(Zo);inputBinder=N(vc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new Im(t,c,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=xi({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[zo]})}return n})(),Im=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===tr?this.route:e===ji?this.childContexts:e===Ab?this.outletData:this.parent.get(e,t)}},vc=new U(""),Am=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=_a([r.queryParams,r.params,r.data]).pipe(Et(([o,s,c],u)=>(c=O(O(O({},o),s),c),u===0?G(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=jT(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Rm=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=un({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ot(0,"router-outlet")},dependencies:[yc],encapsulation:2})}return n})();function Nm(n){let e=n.children&&n.children.map(Nm),t=e?me(O({},n),{children:e}):O({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=Rm),t}function oO(n,e,t){let r=fc(n,e._root,t?t._root:void 0);return new dc(r,e)}function fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=sO(n,e,t);return new Lt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>fc(n,c)),s}}let r=aO(e.value),i=e.children.map(o=>fc(n,o));return new Lt(r,i)}}function sO(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fc(n,r,i);return fc(n,r)})}function aO(n){return new tr(new nt(n.url),new nt(n.params),new nt(n.queryParams),new nt(n.fragment),new nt(n.data),n.outlet,n.component,n)}var cs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Rb="ngNavigationCancelingError";function md(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Nb(!1,It.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Nb(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Rb]=!0,t.cancellationCode=e,t}function cO(n){return Mb(n)&&rs(n.url)}function Mb(n){return!!n&&n[Rb]}var uO=(n,e,t,r)=>ce(i=>(new wm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),wm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Xo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Xo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Xo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Xo(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ld(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(dm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),dm(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},yd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ns=class{component;route;constructor(e,t){this.component=e,this.route=t}};function lO(n,e,t){let r=n._root,i=e?e._root:null;return oc(r,i,t,[r.value])}function dO(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ds(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!op(n)?n:e.get(n):r}function oc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Xo(e);return n.children.forEach(s=>{hO(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ac(c,t.getContext(s),i)),i}function hO(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=fO(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?oc(n,e,c?c.children:null,r,i):oc(n,e,t,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ns(c.outlet.component,s))}else s&&ac(e,c,i),i.canActivateChecks.push(new yd(r)),o.component?oc(n,null,c?c.children:null,r,i):oc(n,null,t,r,i);return i}function fO(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Oi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oi(n.url,e.url)||!bn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Em(n,e)||!bn(n.queryParams,e.queryParams);case"paramsChange":default:return!Em(n,e)}}function ac(n,e,t){let r=Xo(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ac(s,e.children.getContext(o),t):ac(s,null,t):ac(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ns(e.outlet.component,i)):t.canDeactivateChecks.push(new ns(null,i)):t.canDeactivateChecks.push(new ns(null,i))}function _c(n){return typeof n=="function"}function pO(n){return typeof n=="boolean"}function gO(n){return n&&_c(n.canLoad)}function mO(n){return n&&_c(n.canActivate)}function yO(n){return n&&_c(n.canActivateChild)}function vO(n){return n&&_c(n.canDeactivate)}function _O(n){return n&&_c(n.canMatch)}function Pb(n){return n instanceof Un||n?.name==="EmptyError"}var Zl=Symbol("INITIAL_VALUE");function us(){return Et(n=>_a(n.map(e=>e.pipe($n(1),qu(Zl)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===Zl)return Zl;if(t===!1||EO(t))return t}return!0}),_t(e=>e!==Zl),$n(1)))}function EO(n){return rs(n)||n instanceof cs}function IO(n,e){return Fe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?G(me(O({},t),{guardsResult:!0})):wO(s,r,i,n).pipe(Fe(c=>c&&pO(c)?DO(r,o,n,e):G(c)),ce(c=>me(O({},t),{guardsResult:c})))})}function wO(n,e,t,r){return Me(n).pipe(Fe(i=>AO(i.component,i.route,t,e,r)),Hn(i=>i!==!0,!0))}function DO(n,e,t,r){return Me(e).pipe(Tr(i=>No(bO(i.route.parent,r),TO(i.route,r),SO(n,i.path,t),CO(n,i.route,t))),Hn(i=>i!==!0,!0))}function TO(n,e){return n!==null&&e&&e(new dd(n)),G(!0)}function bO(n,e){return n!==null&&e&&e(new ud(n)),G(!0)}function CO(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>Ea(()=>{let s=ls(e)??t,c=ds(o,s),u=mO(c)?c.canActivate(e,n):Be(s,()=>c(e,n));return nr(u).pipe(Hn())}));return G(i).pipe(us())}function SO(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>dO(s)).filter(s=>s!==null).map(s=>Ea(()=>{let c=s.guards.map(u=>{let l=ls(s.node)??t,f=ds(u,l),p=yO(f)?f.canActivateChild(r,n):Be(l,()=>f(r,n));return nr(p).pipe(Hn())});return G(c).pipe(us())}));return G(o).pipe(us())}function AO(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(c=>{let u=ls(e)??i,l=ds(c,u),f=vO(l)?l.canDeactivate(n,e,t,r):Be(u,()=>l(n,e,t,r));return nr(f).pipe(Hn())});return G(s).pipe(us())}function RO(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let c=ds(s,n),u=gO(c)?c.canLoad(e,t):Be(n,()=>c(e,t));return nr(u)});return G(o).pipe(us(),xb(r))}function xb(n){return Su(Ze(e=>{if(typeof e!="boolean")throw md(n,e)}),ce(e=>e===!0))}function NO(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let c=ds(s,n),u=_O(c)?c.canMatch(e,t):Be(n,()=>c(e,t));return nr(u)});return G(o).pipe(us(),xb(r))}var pc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},gc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Jo(n){return Ao(new pc(n))}function MO(n){return Ao(new B(4e3,!1))}function PO(n){return Ao(Nb(!1,It.GuardRejected))}var Dm=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[J])return MO(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,t,r,i,o){return xO(t,i,o).pipe(ce(s=>{if(s instanceof Sn)throw new gc(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new gc(c);return c}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Sn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=t[c]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function xO(n,e,t){if(typeof n=="string")return G(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,params:l,data:f,title:p}=e;return nr(Be(t,()=>r({params:l,data:f,queryParams:i,fragment:o,routeConfig:s,url:c,outlet:u,title:p})))}var Tm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kO(n,e,t,r,i){let o=kb(n,e,t);return o.matched?(r=nO(e,r),NO(r,e,t,i).pipe(ce(s=>s===!0?o:O({},Tm)))):G(o)}function kb(n,e,t){if(e.path==="**")return OO(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?O({},Tm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ub)(t,n,e);if(!i)return O({},Tm);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function OO(n){return{matched:!0,parameters:n.length>0?db(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function sb(n,e,t,r){return t.length>0&&VO(n,t,r)?{segmentGroup:new ye(e,LO(r,new ye(t,n.children))),slicedSegments:[]}:t.length===0&&jO(n,t,r)?{segmentGroup:new ye(n.segments,FO(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ye(n.segments,n.children),slicedSegments:t}}function FO(n,e,t,r){let i={};for(let o of t)if(_d(n,e,o)&&!r[dn(o)]){let s=new ye([],{});i[dn(o)]=s}return O(O({},r),i)}function LO(n,e){let t={};t[J]=e;for(let r of n)if(r.path===""&&dn(r)!==J){let i=new ye([],{});t[dn(r)]=i}return t}function VO(n,e,t){return t.some(r=>_d(n,e,r)&&dn(r)!==J)}function jO(n,e,t){return t.some(r=>_d(n,e,r))}function _d(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function UO(n,e,t){return e.length===0&&!n.children[t]}var bm=class{};function BO(n,e,t,r,i,o,s="emptyOnly"){return new Cm(n,e,t,r,i,s,o).recognize()}var $O=31,Cm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Dm(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=sb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:t,rootSnapshot:r})=>{let i=new Lt(r,t),o=new hc("",i),s=Eb(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Fi([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,t).pipe(ce(r=>({children:r,rootSnapshot:t})),Bn(r=>{if(r instanceof gc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof pc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof Lt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Me(o).pipe(Tr(s=>{let c=r.children[s],u=rO(t,s);return this.processSegmentGroup(e,u,c,s,i)}),Hu((s,c)=>(s.push(...c),s)),br(null),Hf(),Fe(s=>{if(s===null)return Jo(r);let c=Ob(s);return HO(c),G(c)}))}processSegment(e,t,r,i,o,s,c){return Me(t).pipe(Tr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,c).pipe(Bn(l=>{if(l instanceof pc)return G(null);throw l}))),Hn(u=>!!u),Bn(u=>{if(Pb(u))return UO(r,i,o)?G(new bm):Jo(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,c,u){return dn(r)!==s&&(s===J||!_d(i,o,r))?Jo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Jo(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:p,remainingSegments:m}=kb(t,i,o);if(!u)return Jo(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$O&&(this.allowRedirects=!1));let y=new Fi(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,ab(i),dn(i),i.component??i._loadedComponent??null,i,cb(i)),A=gd(y,c,this.paramsInheritanceStrategy);return y.params=Object.freeze(A.params),y.data=Object.freeze(A.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,p,y,e).pipe(Et(R=>this.applyRedirects.lineralizeSegments(i,R)),Fe(R=>this.processSegment(e,r,t,R.concat(m),s,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let c=kO(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(Et(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Et(({routes:l})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,A=new Fi(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,ab(r),dn(r),r.component??r._loadedComponent??null,r,cb(r)),M=gd(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(M.params),A.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=sb(t,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(f,l,R,A).pipe(ce(Y=>new Lt(A,Y)));if(l.length===0&&F.length===0)return G(new Lt(A,[]));let K=dn(r)===o;return this.processSegment(f,l,R,F,K?J:o,!0,A).pipe(ce(Y=>new Lt(A,Y instanceof Lt?[Y]:[])))}))):Jo(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?G({routes:t._loadedRoutes,injector:t._loadedInjector}):RO(e,t,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,t).pipe(Ze(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):PO(t))):G({routes:[],injector:e})}};function HO(n){n.sort((e,t)=>e.value.outlet===J?-1:t.value.outlet===J?1:e.value.outlet.localeCompare(t.value.outlet))}function qO(n){let e=n.value.routeConfig;return e&&e.path===""}function Ob(n){let e=[],t=new Set;for(let r of n){if(!qO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Ob(r.children);e.push(new Lt(r.value,i))}return e.filter(r=>!t.has(r))}function ab(n){return n.data||{}}function cb(n){return n.resolve||{}}function zO(n,e,t,r,i,o){return Fe(s=>BO(n,e,t,r,s.extractedUrl,i,o).pipe(ce(({state:c,tree:u})=>me(O({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function GO(n,e){return Fe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of Fb(u))s.add(l);let c=0;return Me(s).pipe(Tr(u=>o.has(u)?WO(u,r,n,e):(u.data=gd(u,u.parent,n).resolve,G(void 0))),Ze(()=>c++),Mo(1),Fe(u=>c===s.size?G(t):Tt))})}function Fb(n){let e=n.children.map(t=>Fb(t)).flat();return[n,...e]}function WO(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Sb(i)&&(o[mc]=i.title),Ea(()=>(n.data=gd(n,n.parent,t).resolve,KO(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=O(O({},n.data),s),null)))))}function KO(n,e,t,r){let i=pm(n);if(i.length===0)return G({});let o={};return Me(i).pipe(Fe(s=>QO(n[s],e,t,r).pipe(Hn(),Ze(c=>{if(c instanceof cs)throw md(new Ur,c);o[s]=c}))),Mo(1),ce(()=>o),Bn(s=>Pb(s)?Tt:Ao(s)))}function QO(n,e,t,r){let i=ls(e)??r,o=ds(n,i),s=o.resolve?o.resolve(e,t):Be(i,()=>o(e,t));return nr(s)}function hm(n){return Et(e=>{let t=n(e);return t?Me(t).pipe(ce(()=>e)):G(e)})}var Mm=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(t){return t.data[mc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(Lb),providedIn:"root"})}return n})(),Lb=(()=>{class n extends Mm{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(tb))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ui=new U("",{providedIn:"root",factory:()=>({})}),Bi=new U(""),Ed=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Fg);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=nr(Be(t,()=>r.loadComponent())).pipe(ce(jb),Et(Ub),Ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ia(()=>{this.componentLoaders.delete(r)})),o=new To(i,()=>new tt).pipe(Do());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Vb(r,this.compiler,t,this.onLoadEndListener).pipe(Ia(()=>{this.childrenLoaders.delete(r)})),s=new To(o,()=>new tt).pipe(Do());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vb(n,e,t,r){return nr(Be(t,()=>n.loadChildren())).pipe(ce(jb),Et(Ub),Fe(i=>i instanceof Fl||Array.isArray(i)?G(i):Me(e.compileModuleAsync(i))),ce(i=>{r&&r(n);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(Bi,[],{optional:!0,self:!0}).flat()),{routes:s.map(Nm),injector:o}}))}function YO(n){return n&&typeof n=="object"&&"default"in n}function jb(n){return YO(n)?n.default:n}function Ub(n){return G(n)}var Id=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(ZO),providedIn:"root"})}return n})(),ZO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pm=new U(""),xm=new U("");function Bb(n,e,t){let r=n.get(xm),i=n.get(Ve);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),c=i.startViewTransition(()=>(o(),JO(n)));c.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Be(n,()=>u({transition:c,from:e,to:t})),s}function JO(n){return new Promise(e=>{Pl({read:()=>setTimeout(e)},{injector:n})})}var km=new U(""),wd=(()=>{class n{currentNavigation=Ee(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new tt;transitionAbortWithErrorSubject=new tt;configLoader=N(Ed);environmentInjector=N(Le);destroyRef=N(an);urlSerializer=N(Vi);rootContexts=N(ji);location=N(Lr);inputBindingEnabled=N(vc,{optional:!0})!==null;titleStrategy=N(Mm);options=N(Ui,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Id);createViewTransition=N(Pm,{optional:!0});navigationErrorHandler=N(km,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ad(i)),r=i=>this.events.next(new cd(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Jn(()=>{this.transitions?.next(me(O({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new nt(null),this.transitions.pipe(_t(r=>r!==null),Et(r=>{let i=!1;return G(r).pipe(Et(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),Tt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?me(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new An(o.id,this.urlSerializer.serialize(o.rawUrl),"",is.IgnoredSameUrlNavigation)),o.resolve(!1),Tt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return G(o).pipe(Et(u=>(this.events.next(new Br(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Tt:Promise.resolve(u))),zO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=u.urlAfterRedirects,f));let l=new uc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:f,restoredState:p,extras:m}=o,y=new Br(u,this.urlSerializer.serialize(l),f,p);this.events.next(y);let A=bb(this.rootComponentType).snapshot;return this.currentTransition=r=me(O({},o),{targetSnapshot:A,urlAfterRedirects:l,extras:me(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),G(r)}else return this.events.next(new An(o.id,this.urlSerializer.serialize(o.extractedUrl),"",is.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Tt}),Ze(o=>{let s=new rd(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=me(O({},o),{guards:lO(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),IO(this.environmentInjector,o=>this.events.next(o)),Ze(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw md(this.urlSerializer,o.guardsResult);let s=new id(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),_t(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",It.GuardRejected),!1)),hm(o=>{if(o.guards.canActivateChecks.length!==0)return G(o).pipe(Ze(s=>{let c=new od(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Et(s=>{let c=!1;return G(s).pipe(GO(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",It.NoDataFromResolver)}}))}),Ze(s=>{let c=new sd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),hm(o=>{let s=c=>{let u=[];if(c.routeConfig?.loadComponent){let l=ls(c)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,c.routeConfig).pipe(Ze(f=>{c.component=f}),ce(()=>{})))}for(let l of c.children)u.push(...s(l));return u};return _a(s(o.targetSnapshot.root)).pipe(br(null),$n(1))}),hm(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return c?Me(c).pipe(ce(()=>r)):G(r)}),ce(o=>{let s=oO(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=me(O({},o),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),r}),Ze(()=>{this.events.next(new lc)}),uO(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),$n(1),zu(new re(o=>{let s=r.abortController.signal,c=()=>o.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(_t(()=>!i&&!r.targetRouterState),Ze(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",It.Aborted)}))),Ze({next:o=>{i=!0,this.lastSuccessfulNavigation=Jn(this.currentNavigation),this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),zu(this.transitionAbortWithErrorSubject.pipe(Ze(o=>{throw o}))),Ia(()=>{i||this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Bn(o=>{if(this.destroyed)return r.resolve(!1),Tt;if(i=!0,Mb(o))this.events.next(new Cn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),cO(o)?this.events.next(new as(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new os(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=Be(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof cs){let{message:u,cancellationCode:l}=md(this.urlSerializer,c);this.events.next(new Cn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new as(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return Tt}))}))}cancelNavigationTransition(t,r,i){let o=new Cn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Jn(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function XO(n){return n!==ts}var $b=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(e1),providedIn:"root"})}return n})(),vd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},e1=(()=>{class n extends vd{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ga(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hb=(()=>{class n{urlSerializer=N(Vi);options=N(Ui,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Lr);urlHandlingStrategy=N(Id);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Sn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Sn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=bb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>N(t1),providedIn:"root"})}return n})(),t1=(()=>{class n extends Hb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Br?this.updateStateMemento():t instanceof An?this.commitTransition(r):t instanceof uc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof lc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Cn&&t.code!==It.SupersededByNewNavigation&&t.code!==It.Redirect?this.restoreHistory(r):t instanceof os?this.restoreHistory(r,!0):t instanceof hn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let c=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,c));this.location.replaceState(t,"",u)}else{let c=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Ga(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dd(n,e){n.events.pipe(_t(t=>t instanceof hn||t instanceof Cn||t instanceof os||t instanceof An),ce(t=>t instanceof hn||t instanceof An?0:(t instanceof Cn?t.code===It.Redirect||t.code===It.SupersededByNewNavigation:!1)?2:1),_t(t=>t!==2),$n(1)).subscribe(()=>{e()})}var n1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},r1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Mg);stateManager=N(Hb);options=N(Ui,{optional:!0})||{};pendingTasks=N(En);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(wd);urlSerializer=N(Vi);location=N(Lr);urlHandlingStrategy=N(Id);injector=N(Le);_events=new tt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N($b);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(Bi,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(vc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ke;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Jn(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cn&&r.code!==It.Redirect&&r.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hn)this.navigated=!0;else if(r instanceof as){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XO(i.source)},s);this.scheduleNavigation(c,ts,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}tO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ts,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,o).catch(u=>{this.disposed||this.injector.get(kt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Jn(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Nm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":f=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=Ib(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return wb(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=rs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ts,null,r)}navigate(t,r={skipLocationChange:!1}){return i1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(gi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=O({},n1):r===!1?i=O({},r1):i=r,rs(t))return nb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return nb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,u,l;s?(c=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{c=p,u=m});let f=this.pendingTasks.add();return Dd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function i1(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}var Ec=class{};var qb=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(_t(t=>t instanceof hn),Tr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Qo(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Me(i).pipe(Ro())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=G(null);let o=i.pipe(Fe(s=>s===null?G(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Me([o,s]).pipe(Ro())}else return o})}static \u0275fac=function(r){return new(r||n)(W(rr),W(Le),W(Ec),W(Ed))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zb=new U(""),o1=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ts;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Br?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof An&&t.code===is.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof ss))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ss(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Rg()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function Fm(n,...e){return $t([{provide:Bi,multi:!0,useValue:n},[],{provide:tr,useFactory:Gb,deps:[rr]},{provide:Ka,multi:!0,useFactory:Wb},e.map(t=>t.\u0275providers)])}function Gb(n){return n.routerState.root}function Ic(n,e){return{\u0275kind:n,\u0275providers:e}}function Wb(){let n=N(Ue);return e=>{let t=n.get(Or);if(e!==t.components[0])return;let r=n.get(rr),i=n.get(Kb);n.get(Lm)===1&&r.initialNavigation(),n.get(Zb,null,{optional:!0})?.setUpPreloading(),n.get(zb,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Kb=new U("",{factory:()=>new tt}),Lm=new U("",{providedIn:"root",factory:()=>1});function Qb(){let n=[{provide:dg,useValue:!0},{provide:Lm,useValue:0},Ll(()=>{let e=N(Ue);return e.get(Qg,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(rr),o=e.get(Kb);Dd(i,()=>{r(!0)}),e.get(wd).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))})];return Ic(2,n)}function Yb(){let n=[Ll(()=>{N(rr).setUpLocationChangeListener()}),{provide:Lm,useValue:2}];return Ic(3,n)}var Zb=new U("");function Jb(n){return Ic(0,[{provide:Zb,useExisting:qb},{provide:Ec,useExisting:n}])}function Xb(){return Ic(8,[Am,{provide:vc,useExisting:Am}])}function eC(n){Pi("NgRouterViewTransitions");let e=[{provide:Pm,useValue:Bb},{provide:xm,useValue:O({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ic(9,e)}var tC=[Lr,{provide:Vi,useClass:Ur},rr,ji,{provide:tr,useFactory:Gb,deps:[rr]},Ed,[]],Vm=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[tC,[],{provide:Bi,multi:!0,useValue:t},[],r?.errorHandler?{provide:km,useValue:r.errorHandler}:[],{provide:Ui,useValue:r||{}},r?.useHash?a1():c1(),s1(),r?.preloadingStrategy?Jb(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?u1(r):[],r?.bindToComponentInputs?Xb().\u0275providers:[],r?.enableViewTransitions?eC().\u0275providers:[],l1()]}}static forChild(t){return{ngModule:n,providers:[{provide:Bi,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=wn({type:n});static \u0275inj=nn({})}return n})();function s1(){return{provide:zb,useFactory:()=>{let n=N(WT),e=N(Te),t=N(Ui),r=N(wd),i=N(Vi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new o1(i,r,n,e,t)}}}function a1(){return{provide:er,useClass:Yg}}function c1(){return{provide:er,useClass:ql}}function u1(n){return[n.initialNavigation==="disabled"?Yb().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Qb().\u0275providers:[]]}var Om=new U("");function l1(){return[{provide:Om,useFactory:Wb},{provide:Ka,multi:!0,useExisting:Om}]}var f1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cZ=me(O({},f1),{"[class.ng-submitted]":"isSubmitted"});var p1=new U("",{providedIn:"root",factory:()=>nC}),nC="always";var g1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=wn({type:n});static \u0275inj=nn({})}return n})();var $r=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:p1,useValue:t.callSetDisabledState??nC}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=wn({type:n});static \u0275inj=nn({imports:[g1]})}return n})();var rC=()=>{};var sC=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},m1=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Td={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|c>>4,m=(c&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[f],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):m1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||l==null||p==null)throw new Um;let m=o<<2|c>>4;if(r.push(m),l!==64){let y=c<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Um=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},y1=function(n){let e=sC(n);return Td.encodeByteArray(e,!0)},Dc=function(n){return y1(n).replace(/\./g,"")},bd=function(n){try{return Td.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $m(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var v1=()=>$m().__FIREBASE_DEFAULTS__,_1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},E1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&bd(n[1]);return e&&JSON.parse(e)},Cd=()=>{try{return rC()||v1()||_1()||E1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},aC=n=>{var e,t;return(t=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},cC=n=>{let e=aC(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Hm=()=>{var n;return(n=Cd())===null||n===void 0?void 0:n.config},uC=n=>{var e;return(e=Cd())===null||e===void 0?void 0:e[`_${n}`]};var $i=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Hi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function qm(n){return C(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function lC(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Dc(JSON.stringify(t)),Dc(JSON.stringify(s)),""].join(".")}var wc={};function I1(){let n={prod:[],emulator:[]};for(let e of Object.keys(wc))wc[e]?n.emulator.push(e):n.prod.push(e);return n}function w1(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var iC=!1;function zm(n,e){if(typeof window>"u"||typeof document>"u"||!Hi(window.location.host)||wc[n]===e||wc[n]||iC)return;wc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=I1().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function c(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{iC=!0,s()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=w1(r),y=t("text"),A=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),F=t("preprendIcon"),K=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Y=m.element;c(Y),f(R,M);let be=l();u(K,F),Y.append(K,A,R,be),document.body.appendChild(Y)}o?(A.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function D1(){var n;let e=(n=Cd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fC(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gC(){return!D1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tc(){try{return typeof indexedDB=="object"}catch{return!1}}function mC(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var T1="FirebaseError",Kt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=T1,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fn.prototype.create)}},fn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?b1(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Kt(i,c,r)}};function b1(n,e){return n.replace(C1,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var C1=/\{\$([^}]+)}/g;function qi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(oC(o)&&oC(s)){if(!qi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function oC(n){return n!==null&&typeof n=="object"}function Gm(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yC(n,e){let t=new Bm(n,e);return t.subscribe.bind(t)}var Bm=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");S1(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=jm),i.error===void 0&&(i.error=jm),i.complete===void 0&&(i.complete=jm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function S1(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jm(){}var fZ=14400*1e3;function ht(n){return n&&n._delegate?n._delegate:n}var wt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var zi="[DEFAULT]";var Wm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new $i;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R1(e))try{this.getOrInitializeService({instanceIdentifier:zi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=zi){return this.instances.has(e)}getOptions(e=zi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zi){return this.component?this.component.multipleInstances?e:zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A1(n){return n===zi?void 0:n}function R1(n){return n.instantiationMode==="EAGER"}var Sd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Wm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var N1=[],ue=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ue||{}),M1={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},P1=ue.INFO,x1={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},k1=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=x1[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Rn=class{constructor(e){this.name=e,this._logLevel=P1,this._logHandler=k1,this._userLogHandler=null,N1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var O1=(n,e)=>e.some(t=>n instanceof t),vC,_C;function F1(){return vC||(vC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L1(){return _C||(_C=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var EC=new WeakMap,Qm=new WeakMap,IC=new WeakMap,Km=new WeakMap,Zm=new WeakMap;function V1(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Nn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&EC.set(t,n)}).catch(()=>{}),Zm.set(e,n),e}function j1(n){if(Qm.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Qm.set(n,e)}var Ym={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Nn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wC(n){Ym=n(Ym)}function U1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ad(this),e,...t);return IC.set(r,e.sort?e.sort():[e]),Nn(r)}:L1().includes(n)?function(...e){return n.apply(Ad(this),e),Nn(EC.get(this))}:function(...e){return Nn(n.apply(Ad(this),e))}}function B1(n){return typeof n=="function"?U1(n):(n instanceof IDBTransaction&&j1(n),O1(n,F1())?new Proxy(n,Ym):n)}function Nn(n){if(n instanceof IDBRequest)return V1(n);if(Km.has(n))return Km.get(n);let e=B1(n);return e!==n&&(Km.set(n,e),Zm.set(e,n)),e}var Ad=n=>Zm.get(n);function TC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),c=Nn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Nn(s.result),u.oldVersion,u.newVersion,Nn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var $1=["get","getKey","getAll","getAllKeys","count"],H1=["put","add","delete","clear"],Jm=new Map;function DC(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=H1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$1.includes(t)))return;let o=function(s,...c){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]})};return Jm.set(e,o),o}wC(n=>me(O({},n),{get:(e,t,r)=>DC(e,t)||n.get(e,t,r),has:(e,t)=>!!DC(e,t)||n.has(e,t)}));var ey=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(q1(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function q1(n){let e=n.getComponent();return e?.type==="VERSION"}var ty="@firebase/app",bC="0.13.2";var ir=new Rn("@firebase/app"),z1="@firebase/app-compat",G1="@firebase/analytics-compat",W1="@firebase/analytics",K1="@firebase/app-check-compat",Q1="@firebase/app-check",Y1="@firebase/auth",Z1="@firebase/auth-compat",J1="@firebase/database",X1="@firebase/data-connect",eF="@firebase/database-compat",tF="@firebase/functions",nF="@firebase/functions-compat",rF="@firebase/installations",iF="@firebase/installations-compat",oF="@firebase/messaging",sF="@firebase/messaging-compat",aF="@firebase/performance",cF="@firebase/performance-compat",uF="@firebase/remote-config",lF="@firebase/remote-config-compat",dF="@firebase/storage",hF="@firebase/storage-compat",fF="@firebase/firestore",pF="@firebase/ai",gF="@firebase/firestore-compat",mF="firebase",yF="11.10.0";var ny="[DEFAULT]",vF={[ty]:"fire-core",[z1]:"fire-core-compat",[W1]:"fire-analytics",[G1]:"fire-analytics-compat",[Q1]:"fire-app-check",[K1]:"fire-app-check-compat",[Y1]:"fire-auth",[Z1]:"fire-auth-compat",[J1]:"fire-rtdb",[X1]:"fire-data-connect",[eF]:"fire-rtdb-compat",[tF]:"fire-fn",[nF]:"fire-fn-compat",[rF]:"fire-iid",[iF]:"fire-iid-compat",[oF]:"fire-fcm",[sF]:"fire-fcm-compat",[aF]:"fire-perf",[cF]:"fire-perf-compat",[uF]:"fire-rc",[lF]:"fire-rc-compat",[dF]:"fire-gcs",[hF]:"fire-gcs-compat",[fF]:"fire-fst",[gF]:"fire-fst-compat",[pF]:"fire-vertex","fire-js":"fire-js",[mF]:"fire-js-all"};var bc=new Map,_F=new Map,ry=new Map;function CC(n,e){try{n.container.addComponent(e)}catch(t){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pn(n){let e=n.name;if(ry.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;ry.set(e,n);for(let t of bc.values())CC(t,n);for(let t of _F.values())CC(t,n);return!0}function Rd(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function or(n){return n==null?!1:n.settings!==void 0}var EF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new fn("app","Firebase",EF);var iy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}};var hs=yF;function ay(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ny,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(t||(t=Hm()),!t)throw Hr.create("no-options");let o=bc.get(i);if(o){if(qi(t,o.options)&&qi(r,o.config))return o;throw Hr.create("duplicate-app",{appName:i})}let s=new Sd(i);for(let u of ry.values())s.addComponent(u);let c=new iy(t,r,s);return bc.set(i,c),c}function fs(n=ny){let e=bc.get(n);if(!e&&n===ny&&Hm())return ay();if(!e)throw Hr.create("no-app",{appName:n});return e}function Nd(){return Array.from(bc.values())}function je(n,e,t){var r;let i=(r=vF[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(c.join(" "));return}pn(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var IF="firebase-heartbeat-database",wF=1,Cc="firebase-heartbeat-store",Xm=null;function NC(){return Xm||(Xm=TC(IF,wF,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Cc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Hr.create("idb-open",{originalErrorMessage:n.message})})),Xm}function DF(n){return C(this,null,function*(){try{let t=(yield NC()).transaction(Cc),r=yield t.objectStore(Cc).get(MC(n));return yield t.done,r}catch(e){if(e instanceof Kt)ir.warn(e.message);else{let t=Hr.create("idb-get",{originalErrorMessage:e?.message});ir.warn(t.message)}}})}function SC(n,e){return C(this,null,function*(){try{let r=(yield NC()).transaction(Cc,"readwrite");yield r.objectStore(Cc).put(e,MC(n)),yield r.done}catch(t){if(t instanceof Kt)ir.warn(t.message);else{let r=Hr.create("idb-set",{originalErrorMessage:t?.message});ir.warn(r.message)}}})}function MC(n){return`${n.name}!${n.options.appId}`}var TF=1024,bF=30,oy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new sy(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AC();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>bF){let s=SF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ir.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=AC(),{heartbeatsToSend:r,unsentEntries:i}=CF(this._heartbeatsCache.heartbeats),o=Dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ir.warn(t),""}})}};function AC(){return new Date().toISOString().substring(0,10)}function CF(n,e=TF){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),RC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),RC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var sy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Tc()?mC().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield DF(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function RC(n){return Dc(JSON.stringify({version:2,heartbeats:n})).length}function SF(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function AF(n){pn(new wt("platform-logger",e=>new ey(e),"PRIVATE")),pn(new wt("heartbeat",e=>new oy(e),"PRIVATE")),je(ty,bC,n),je(ty,bC,"esm2017"),je("fire-js","")}AF("");var RF="firebase",NF="11.10.0";je(RF,NF,"app");function PC(n){n===void 0&&(n=N(Ue));let e=n.get(Vo);return t=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let c=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return c.add(()=>{r.unsubscribe(),s()}),c})}var Wi=new Cr("ANGULARFIRE2_VERSION");function Pd(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var gs=(n,e)=>{let t=e?[e]:Nd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ps=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ps||{}),xC=Gg()&&typeof Zone<"u"?ps.WARN:ps.SILENT;var Md=class{zone;delegate;constructor(e,t=Uf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ki=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(Te);this.outsideAngular=t.runOutsideAngular(()=>new Md(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Md(typeof Zone>"u"?void 0:Zone.current,jf))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kC=!1;function MF(n,e){!kC&&(xC>ps.SILENT||Gg())&&(kC=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),xC>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function PF(n){let e=N(Te,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Gi(n){let e=N(Te,{optional:!0});return e?e.run(()=>n()):n()}var xF=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Be(t,()=>Gi(()=>n.apply(void 0,r)))),Qt=(n,e,t)=>(t||=e?ps.WARN:ps.VERBOSE,function(){let r,i=arguments,o,s,c;try{o=N(Ki),s=N(Vo),c=N(Le)}catch{return MF(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Gi(()=>s.add())),i[l]=xF(i[l],r,c));let u=PF(()=>n.apply(this,i));return e?u instanceof re?u.pipe(Dr(o.outsideAngular),wr(o.insideAngular),PC(c)):u instanceof Promise?Gi(()=>{let l=s.add();return new Promise((f,p)=>{u.then(m=>Be(c,()=>Gi(()=>f(m))),m=>Be(c,()=>Gi(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Gi(()=>u):u instanceof re?u.pipe(Dr(o.outsideAngular),wr(o.insideAngular)):Gi(()=>u)});var Qi=class{constructor(e){return e}},Sc=class{constructor(){return Nd()}};function kF(n){return n&&n.length===1?n[0]:new Qi(fs())}var cy=new U("angularfire2._apps"),OF={provide:Qi,useFactory:kF,deps:[[new Zn,cy]]},FF={provide:Sc,deps:[[new Zn,cy]]};function LF(n){return(e,t)=>{let r=t.get(Ri);je("angularfire",Wi.full,"core"),je("angularfire",Wi.full,"app"),je("angular",np.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Qi(i)}}function OC(n,...e){return $t([OF,FF,{provide:cy,useFactory:LF(n),multi:!0,deps:[Te,Ue,Ki,...e]}])}var FC=Qt(ay,!0);var VF=new Map,jF={activated:!1,tokenObservers:[]},UF={initialized:!1,enabled:!1};function gn(n){return VF.get(n)||Object.assign({},jF)}function UC(){return UF}var BF="https://content-firebaseappcheck.googleapis.com/v1";var $F="exchangeDebugToken",LC={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},mJ=1440*60*1e3;var dy=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new $i,this.pending.promise.catch(t=>{}),yield HF(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new $i,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function HF(n){return new Promise(e=>{setTimeout(e,n)})}var qF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},qr=new fn("appCheck","AppCheck",qF);function BC(n){if(!gn(n).activated)throw qr.create("use-before-activation",{appName:n.name})}function $C(r,i){return C(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let c={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,c)}catch(y){throw qr.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw qr.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw qr.create("fetch-parse-error",{originalErrorMessage:y?.message})}let f=l.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw qr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(f[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function HC(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${BF}/projects/${t}/apps/${r}:${$F}?key=${i}`,body:{debug_token:e}}}var zF="firebase-app-check-database",GF=1,hy="firebase-app-check-store";var xd=null;function WF(){return xd||(xd=new Promise((n,e)=>{try{let t=indexedDB.open(zF,GF);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(qr.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(hy,{keyPath:"compositeKey"})}}}catch(t){e(qr.create("storage-open",{originalErrorMessage:t?.message}))}}),xd)}function KF(n,e){return QF(YF(n),e)}function QF(n,e){return C(this,null,function*(){let r=(yield WF()).transaction(hy,"readwrite"),o=r.objectStore(hy).put({compositeKey:n,value:e});return new Promise((s,c)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;c(qr.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function YF(n){return`${n.options.appId}-${n.name}`}var Ac=new Rn("@firebase/app-check");function uy(n,e){return Tc()?KF(n,e).catch(t=>{Ac.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qC(){return UC().enabled}function zC(){return C(this,null,function*(){let n=UC();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var ZF={error:"UNKNOWN_ERROR"};function JF(n){return Td.encodeString(JSON.stringify(n),!1)}function fy(n,e=!1,t=!1){return C(this,null,function*(){let r=n.app;BC(r);let i=gn(r),o=i.token,s;if(o&&!Rc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Rc(l)?o=l:yield uy(r,void 0))}if(!e&&o&&Rc(o))return{token:o.token};let c=!1;if(qC())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=$C(HC(r,yield zC()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);let l=yield i.exchangeTokenPromise;return yield uy(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ac.warn(l.message):t&&Ac.error(l),ly(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),o=yield gn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Ac.warn(l.message):t&&Ac.error(l),s=l}let u;return o?s?Rc(o)?u={token:o.token,internalError:s}:u=ly(s):(u={token:o.token},i.token=o,yield uy(r,o)):u=ly(s),c&&nL(r,u),u})}function XF(n){return C(this,null,function*(){let e=n.app;BC(e);let{provider:t}=gn(e);if(qC()){let r=yield zC(),{token:i}=yield $C(HC(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function eL(n,e,t,r){let{app:i}=n,o=gn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Rc(o.token)){let c=o.token;Promise.resolve().then(()=>{t({token:c.token}),VC(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>VC(n))}function GC(n,e){let t=gn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function VC(n){let{app:e}=n,t=gn(e),r=t.tokenRefresher;r||(r=tL(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function tL(n){let{app:e}=n;return new dy(()=>C(null,null,function*(){let t=gn(e),r;if(t.token?r=yield fy(n,!0):r=yield fy(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=gn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},LC.RETRIAL_MIN_WAIT,LC.RETRIAL_MAX_WAIT)}function nL(n,e){let t=gn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Rc(n){return n.expireTimeMillis-Date.now()>0}function ly(n){return{token:JF(ZF),error:n}}var py=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=gn(this.app);for(let t of e)GC(this.app,t.next);return Promise.resolve()}};function rL(n,e){return new py(n,e)}function iL(n){return{getToken:e=>fy(n,e),getLimitedUseToken:()=>XF(n),addTokenListener:e=>eL(n,"INTERNAL",e),removeTokenListener:e=>GC(n.app,e)}}var oL="@firebase/app-check",sL="0.10.1";var aL="app-check",jC="app-check-internal";function cL(){pn(new wt(aL,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return rL(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(jC).initialize()})),pn(new wt(jC,n=>{let e=n.getProvider("app-check").getImmediate();return iL(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),je(oL,sL)}cL();var uL="app-check";var kd=class{constructor(){return gs(uL)}};var lL=["localhost","0.0.0.0","127.0.0.1"],RJ=typeof window<"u"&&lL.includes(window.location.hostname);function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tS=eS,nS=new fn("auth","Firebase",eS());var Vd=new Rn("@firebase/auth");function hL(n,...e){Vd.logLevel<=ue.WARN&&Vd.warn(`Auth (${hs}): ${n}`,...e)}function Fd(n,...e){Vd.logLevel<=ue.ERROR&&Vd.error(`Auth (${hs}): ${n}`,...e)}function WC(n,...e){throw Cy(n,...e)}function by(n,...e){return Cy(n,...e)}function rS(n,e,t){let r=Object.assign(Object.assign({},tS()),{[e]:t});return new fn("auth","Firebase",r).create(e,{appName:n.name})}function Ld(n){return rS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return nS.create(n,...e)}function ve(n,e,...t){if(!n)throw Cy(e,...t)}function Nc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Fd(e),new Error(e)}function jd(n,e){n||Nc(e)}function fL(){return KC()==="http:"||KC()==="https:"}function KC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function pL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fL()||fC()||"connection"in navigator)?navigator.onLine:!0}function gL(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ji=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,jd(t>e,"Short delay should be less than long delay!"),this.isMobile=dC()||pC()}get(){return pL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function mL(n,e){jd(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ud=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Nc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Nc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Nc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_L=new Ji(3e4,6e4);function iS(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function zd(o,s,c,u){return C(this,arguments,function*(n,e,t,r,i={}){return oS(n,i,()=>C(null,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Gm(Object.assign({key:n.config.apiKey},f)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return hC()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Hi(n.emulatorConfig.host)&&(y.credentials="include"),Ud.fetch()(yield sS(n,n.config.apiHost,t,p),y)}))})}function oS(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},yL),e);try{let i=new yy(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Od(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Od(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Od(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Od(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw rS(n,f,l);WC(n,f)}}catch(i){if(i instanceof Kt)throw i;WC(n,"network-request-failed",{message:String(i)})}})}function sS(n,e,t,r){return C(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?mL(n.config,i):`${n.config.apiScheme}://${i}`;return vL.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var yy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(by(this.auth,"network-request-failed")),_L.get())})}};function Od(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=by(n,e,r);return i.customData._tokenResponse=t,i}function EL(n,e){return C(this,null,function*(){return zd(n,"POST","/v1/accounts:delete",e)})}function Bd(n,e){return C(this,null,function*(){return zd(n,"POST","/v1/accounts:lookup",e)})}function Mc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Sy(n,e=!1){return C(this,null,function*(){let t=ht(n),r=yield t.getIdToken(e),i=aS(r);ve(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Mc(gy(i.auth_time)),issuedAtTime:Mc(gy(i.iat)),expirationTime:Mc(gy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function gy(n){return Number(n)*1e3}function aS(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fd("JWT malformed, contained fewer than 3 sections"),null;try{let i=bd(t);return i?JSON.parse(i):(Fd("Failed to decode base64 JWT payload"),null)}catch(i){return Fd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function QC(n){let e=aS(n);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function vy(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Kt&&IL(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function IL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var _y=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var xc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function $d(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield vy(n,Bd(t,{idToken:r}));ve(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cS(o.providerUserInfo):[],c=wL(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!c?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new xc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function Ay(n){return C(this,null,function*(){let e=ht(n);yield $d(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function wL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cS(n){return n.map(e=>{var{providerId:t}=e,r=Bf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function DL(n,e){return C(this,null,function*(){let t=yield oS(n,{},()=>C(null,null,function*(){let r=Gm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield sS(n,i,"/v1/token",`key=${o}`),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:c,body:r};return n.emulatorConfig&&Hi(n.emulatorConfig.host)&&(u.credentials="include"),Ud.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function TL(n,e){return C(this,null,function*(){return zd(n,"POST","/v2/accounts:revokeToken",iS(n,e))})}var Pc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");let t=QC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield DL(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ve(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ve(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Nc("not implemented")}};function zr(n,e){ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Yi=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Bf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _y(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new xc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield vy(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Sy(this,e)}reload(){return Ay(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield $d(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(or(this.auth.app))return Promise.reject(Ld(this.auth));let e=yield this.getIdToken();return yield vy(this,EL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,c,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,K=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Y,emailVerified:be,isAnonymous:mt,providerData:we,stsTokenManager:w}=t;ve(Y&&w,e,"internal-error");let v=Pc.fromJSON(this.name,w);ve(typeof Y=="string",e,"internal-error"),zr(p,e.name),zr(m,e.name),ve(typeof be=="boolean",e,"internal-error"),ve(typeof mt=="boolean",e,"internal-error"),zr(y,e.name),zr(A,e.name),zr(M,e.name),zr(R,e.name),zr(F,e.name),zr(K,e.name);let E=new n({uid:Y,auth:e,email:m,emailVerified:be,displayName:p,isAnonymous:mt,photoURL:A,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:F,lastLoginAt:K});return we&&Array.isArray(we)&&(E.providerData=we.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new Pc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield $d(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];ve(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?cS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Pc;c.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new xc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var YC=new Map;function Zi(n){jd(n instanceof Function,"Expected a class definition");let e=YC.get(n);return e?(jd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,YC.set(n,e),e)}var bL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ey=bL;function my(n,e,t){return`firebase:${n}:${e}:${t}`}var Hd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=my(this.userKey,i.apiKey,o),this.fullPersistenceKey=my("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Bd(this.auth,{idToken:e}).catch(()=>{});return t?Yi._fromGetAccountInfoResponse(this.auth,t,e):null}return Yi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(Zi(Ey),e,r);let i=(yield Promise.all(t.map(l=>C(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Zi(Ey),s=my(r,e.config.apiKey,e.name),c=null;for(let l of t)try{let f=yield l._get(s);if(f){let p;if(typeof f=="string"){let m=yield Bd(e,{idToken:f}).catch(()=>{});if(!m)break;p=yield Yi._fromGetAccountInfoResponse(e,m,f)}else p=Yi._fromJSON(e,f);l!==o&&(c=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(t.map(l=>C(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function ZC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ML(e))return"Blackberry";if(PL(e))return"Webos";if(SL(e))return"Safari";if((e.includes("chrome/")||AL(e))&&!e.includes("edge/"))return"Chrome";if(NL(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function CL(n=jt()){return/firefox\//i.test(n)}function SL(n=jt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AL(n=jt()){return/crios\//i.test(n)}function RL(n=jt()){return/iemobile/i.test(n)}function NL(n=jt()){return/android/i.test(n)}function ML(n=jt()){return/blackberry/i.test(n)}function PL(n=jt()){return/webos/i.test(n)}function uS(n,e=[]){let t;switch(n){case"Browser":t=ZC(jt());break;case"Worker":t=`${ZC(jt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${hs}/${r}`}var Iy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function xL(t){return C(this,arguments,function*(n,e={}){return zd(n,"GET","/v2/passwordPolicy",iS(n,e))})}var kL=6,wy=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:kL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Dy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qd(this),this.idTokenSubscription=new qd(this),this.beforeStateQueue=new Iy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Zi(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Hd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield Bd(this,{idToken:e}),r=yield Yi._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(or(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield $d(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=gL()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(or(this.app))return Promise.reject(Ld(this));let t=e?ht(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return or(this.app)?Promise.reject(Ld(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return or(this.app)?Promise.reject(Ld(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Zi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield xL(this),t=new wy(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield TL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Zi(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=yield Hd.create(this,[Zi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&hL(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function OL(n){return ht(n)}var qd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yC(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var FL={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(n){FL=n}function VL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function jL(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Zi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var BJ=VL("rcb"),$J=new Ji(3e4,6e4);var HJ=new Ji(2e3,1e4);var qJ=600*1e3;var zJ=new Ji(3e4,6e4);var GJ=new Ji(5e3,15e3);var WJ=encodeURIComponent("fac");var JC="@firebase/auth",XC="1.10.8";var Ty=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function UL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BL(n){pn(new wt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;ve(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uS(n)},l=new Dy(r,i,o,u);return jL(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pn(new wt("auth-internal",e=>{let t=OL(e.getProvider("auth").getImmediate());return(r=>new Ty(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(JC,XC,UL(n)),je(JC,XC,"esm2017")}var $L=300,KJ=uC("authIdTokenMaxAge")||$L;function HL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}LL({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=by("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",HL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BL("Browser");var BV="auth";var Gd=class{constructor(){return gs(BV)}};var lS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dS={};var sr,Ry;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,b){for(var _=Array(arguments.length-2),Ln=2;Ln<arguments.length;Ln++)_[Ln-2]=arguments[Ln];return v.prototype[D].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var b=w.g[3],_=v+(b^E&(D^b))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[1]+3905402710&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[2]+606105819&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(b^E&(D^b))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[5]+1200080426&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[6]+2821735955&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(b^E&(D^b))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[9]+2336552879&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[10]+4294925233&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(b^E&(D^b))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[13]+4254626195&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[14]+2792965006&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^b&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[6]+3225465664&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[11]+643717713&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^b&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[10]+38016083&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[15]+3634488961&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^b&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[14]+3275163606&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[3]+4107603335&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^b&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[2]+4243563512&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[7]+1735328473&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^b)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[8]+2272392833&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[11]+1839030562&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^b)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[4]+1272893353&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[7]+4139469664&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^b)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[0]+3936430074&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[3]+3572445317&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^b)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[12]+3873151461&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[15]+530742520&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~b))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[7]+1126891415&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[14]+2878612391&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~b))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[3]+2399980690&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[10]+4293915773&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~b))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[15]+4264355552&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[6]+2734768916&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~b))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[11]+3174756917&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[2]+718787259&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,b=0;b<v;){if(D==0)for(;b<=E;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<v;)if(I[D++]=w.charCodeAt(b++),D==this.blockSize){i(this,I),D=0;break}}else for(;b<v;)if(I[D++]=w[b++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=c;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var b=w[D]|0;I&&b==v||(E[D]=b,I=!1)}this.g=E}var c={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function f(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(f(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var b=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+b),v);8>b?(b=l(Math.pow(v,b)),I=I.j(b).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(A(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=be(E,v).g;E=F(E,D.j(v));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,A(E))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function A(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=F(this,w),M(w)?-1:A(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var b=I+(this.i(D)&65535)+(w.i(D)&65535),_=(b>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,b&=65535,_&=65535,E[D]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(R(v))}n.j=function(w){if(A(this)||A(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var b=this.i(I)>>>16,_=this.i(I)&65535,Ln=w.i(D)>>>16,Ws=w.i(D)&65535;E[2*I+2*D]+=_*Ws,K(E,2*I+2*D),E[2*I+2*D+1]+=b*Ws,K(E,2*I+2*D+1),E[2*I+2*D+1]+=_*Ln,K(E,2*I+2*D+1),E[2*I+2*D+2]+=b*Ln,K(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function K(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Y(w,v){this.g=w,this.h=v}function be(w,v){if(A(v))throw Error("division by zero");if(A(w))return new Y(p,p);if(M(w))return v=be(R(w),v),new Y(R(v.g),R(v.h));if(M(v))return v=be(w,R(v)),new Y(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=mt(E),I=mt(I);var D=we(E,1),b=we(I,1);for(I=we(I,2),E=we(E,2);!A(I);){var _=b.add(I);0>=_.l(w)&&(D=D.add(E),b=_),I=we(I,1),E=we(E,1)}return v=F(w,D.j(v)),new Y(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(E),_=b.j(v);M(_)||0<_.l(w);)E-=I,b=l(E),_=b.j(v);A(b)&&(b=m),D=D.add(b),w=F(w,_)}return new Y(D,w)}n.A=function(w){return be(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function mt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function we(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],b=0;b<I;b++)D[b]=0<v?w.i(b+E)>>>v|w.i(b+E+1)<<32-v:w.i(b+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ry=dS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,sr=dS.Integer=s}).apply(typeof lS<"u"?lS:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ar={};var Ny,$V,ms,My,kc,Kd,Py,xy,ky;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in h))break e;h=h[T]}a=a[a.length-1],g=h[a],d=d(g),d!=g&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,g=!1,T={next:function(){if(!g&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(d,T)}}return function(){return a.apply(d,arguments)}}function m(a,d,h){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var g=h.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(g,T,S){for(var k=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)k[Ce-2]=arguments[Ce];return d.prototype[T].apply(g,k)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let g=0;g<d;g++)h[g]=a[g];return h}return[]}function R(a,d){for(let h=1;h<arguments.length;h++){let g=arguments[h];if(u(g)){let T=a.length||0,S=g.length||0;a.length=T+S;for(let k=0;k<S;k++)a[T+k]=g[k]}else a.push(g)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(a){return/^[\s\xa0]*$/.test(a)}function Y(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function be(a){return be[" "](a),a}be[" "]=function(){};var mt=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function we(a,d,h){for(let g in a)d.call(h,a[g],g,a)}function w(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function v(a){let d={};for(let h in a)d[h]=a[h];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let h,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(h in g)a[h]=g[h];for(let S=0;S<E.length;S++)h=E[S],Object.prototype.hasOwnProperty.call(g,h)&&(a[h]=g[h])}}function D(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function b(a){c.setTimeout(()=>{throw a},0)}function _(){var a=Wh;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Ln{constructor(){this.h=this.g=null}add(d,h){let g=Ws.get();g.set(d,h),this.h?this.h.next=g:this.g=g,this.h=g}}var Ws=new F(()=>new $A,a=>a.reset());class $A{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ks,Qs=!1,Wh=new Ln,Z_=()=>{let a=c.Promise.resolve(void 0);Ks=()=>{a.then(HA)}};var HA=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){b(h)}var d=Ws;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Qs=!1};function yr(){this.s=this.s,this.C=this.C}yr.prototype.s=!1,yr.prototype.ma=function(){this.s||(this.s=!0,this.N())},yr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var qA=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a})();function Ys(a,d){if(ot.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(mt){e:{try{be(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:zA[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ys.aa.h.call(this)}}A(Ys,ot);var zA={2:"touch",3:"pen",4:"mouse"};Ys.prototype.h=function(){Ys.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Zs="closure_listenable_"+(1e6*Math.random()|0),GA=0;function WA(a,d,h,g,T){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!g,this.ha=T,this.key=++GA,this.da=this.fa=!1}function eu(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function tu(a){this.src=a,this.g={},this.h=0}tu.prototype.add=function(a,d,h,g,T){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var k=Qh(a,d,g,T);return-1<k?(d=a[k],h||(d.fa=!1)):(d=new WA(d,this.src,S,!!g,T),d.fa=h,a.push(d)),d};function Kh(a,d){var h=d.type;if(h in a.g){var g=a.g[h],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(g,T,1),S&&(eu(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Qh(a,d,h,g){for(var T=0;T<a.length;++T){var S=a[T];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==g)return T}return-1}var Yh="closure_lm_"+(1e6*Math.random()|0),Zh={};function J_(a,d,h,g,T){if(g&&g.once)return eE(a,d,h,g,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)J_(a,d[S],h,g,T);return null}return h=tf(h),a&&a[Zs]?a.K(d,h,l(g)?!!g.capture:!!g,T):X_(a,d,h,!1,g,T)}function X_(a,d,h,g,T,S){if(!d)throw Error("Invalid event type");var k=l(T)?!!T.capture:!!T,Ce=Xh(a);if(Ce||(a[Yh]=Ce=new tu(a)),h=Ce.add(d,h,g,k,S),h.proxy)return h;if(g=KA(),h.proxy=g,g.src=a,g.listener=h,a.addEventListener)qA||(T=k),T===void 0&&(T=!1),a.addEventListener(d.toString(),g,T);else if(a.attachEvent)a.attachEvent(nE(d.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return h}function KA(){function a(h){return d.call(a.src,a.listener,h)}let d=QA;return a}function eE(a,d,h,g,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)eE(a,d[S],h,g,T);return null}return h=tf(h),a&&a[Zs]?a.L(d,h,l(g)?!!g.capture:!!g,T):X_(a,d,h,!0,g,T)}function tE(a,d,h,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)tE(a,d[S],h,g,T);else g=l(g)?!!g.capture:!!g,h=tf(h),a&&a[Zs]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Qh(S,h,g,T),-1<h&&(eu(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=Xh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Qh(d,h,g,T)),(h=-1<a?d[a]:null)&&Jh(h))}function Jh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Zs])Kh(d.i,a);else{var h=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(h,g,a.capture):d.detachEvent?d.detachEvent(nE(h),g):d.addListener&&d.removeListener&&d.removeListener(g),(h=Xh(d))?(Kh(h,a),h.h==0&&(h.src=null,d[Yh]=null)):eu(a)}}}function nE(a){return a in Zh?Zh[a]:Zh[a]="on"+a}function QA(a,d){if(a.da)a=!0;else{d=new Ys(d,this);var h=a.listener,g=a.ha||a.src;a.fa&&Jh(a),a=h.call(g,d)}return a}function Xh(a){return a=a[Yh],a instanceof tu?a:null}var ef="__closure_events_fn_"+(1e9*Math.random()>>>0);function tf(a){return typeof a=="function"?a:(a[ef]||(a[ef]=function(d){return a.handleEvent(d)}),a[ef])}function st(){yr.call(this),this.i=new tu(this),this.M=this,this.F=null}A(st,yr),st.prototype[Zs]=!0,st.prototype.removeEventListener=function(a,d,h,g){tE(this,a,d,h,g)};function yt(a,d){var h,g=a.F;if(g)for(h=[];g;g=g.F)h.push(g);if(a=a.M,g=d.type||d,typeof d=="string")d=new ot(d,a);else if(d instanceof ot)d.target=d.target||a;else{var T=d;d=new ot(g,a),I(d,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var k=d.g=h[S];T=nu(k,g,!0,d)&&T}if(k=d.g=a,T=nu(k,g,!0,d)&&T,T=nu(k,g,!1,d)&&T,h)for(S=0;S<h.length;S++)k=d.g=h[S],T=nu(k,g,!1,d)&&T}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],g=0;g<h.length;g++)eu(h[g]);delete a.g[d],a.h--}}this.F=null},st.prototype.K=function(a,d,h,g){return this.i.add(String(a),d,!1,h,g)},st.prototype.L=function(a,d,h,g){return this.i.add(String(a),d,!0,h,g)};function nu(a,d,h,g){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==h){var Ce=k.listener,et=k.ha||k.src;k.fa&&Kh(a.i,k),T=Ce.call(et,g)!==!1&&T}}return T&&!g.defaultPrevented}function rE(a,d,h){if(typeof a=="function")h&&(a=m(a,h));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function iE(a){a.g=rE(()=>{a.g=null,a.i&&(a.i=!1,iE(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class YA extends yr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:iE(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(a){yr.call(this),this.h=a,this.g={}}A(Js,yr);var oE=[];function sE(a){we(a.g,function(d,h){this.g.hasOwnProperty(h)&&Jh(d)},a),a.g={}}Js.prototype.N=function(){Js.aa.N.call(this),sE(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nf=c.JSON.stringify,ZA=c.JSON.parse,JA=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function rf(){}rf.prototype.h=null;function aE(a){return a.h||(a.h=a.i())}function cE(){}var Xs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function of(){ot.call(this,"d")}A(of,ot);function sf(){ot.call(this,"c")}A(sf,ot);var ri={},uE=null;function ru(){return uE=uE||new st}ri.La="serverreachability";function lE(a){ot.call(this,ri.La,a)}A(lE,ot);function ea(a){let d=ru();yt(d,new lE(d))}ri.STAT_EVENT="statevent";function dE(a,d){ot.call(this,ri.STAT_EVENT,a),this.stat=d}A(dE,ot);function vt(a){let d=ru();yt(d,new dE(d,a))}ri.Ma="timingevent";function hE(a,d){ot.call(this,ri.Ma,a),this.size=d}A(hE,ot);function ta(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function na(){this.g=!0}na.prototype.xa=function(){this.g=!1};function XA(a,d,h,g,T,S){a.info(function(){if(a.g)if(S)for(var k="",Ce=S.split("&"),et=0;et<Ce.length;et++){var ge=Ce[et].split("=");if(1<ge.length){var at=ge[0];ge=ge[1];var ct=at.split("_");k=2<=ct.length&&ct[1]=="type"?k+(at+"="+ge+"&"):k+(at+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+h+`
`+k})}function eR(a,d,h,g,T,S,k){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+h+`
`+S+" "+k})}function lo(a,d,h,g){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+nR(a,h)+(g?" "+g:"")})}function tR(a,d){a.info(function(){return"TIMEOUT: "+d})}na.prototype.info=function(){};function nR(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var g=h[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return nf(h)}catch{return d}}var iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},af;function ou(){}A(ou,rf),ou.prototype.g=function(){return new XMLHttpRequest},ou.prototype.i=function(){return{}},af=new ou;function vr(a,d,h,g){this.j=a,this.i=d,this.l=h,this.R=g||1,this.U=new Js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pE}function pE(){this.i=null,this.g="",this.h=!1}var gE={},cf={};function uf(a,d,h){a.L=1,a.v=uu(Vn(d)),a.m=h,a.P=!0,mE(a,null)}function mE(a,d){a.F=Date.now(),su(a),a.A=Vn(a.v);var h=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),NE(h.i,"t",g),a.C=0,h=a.j.J,a.h=new pE,a.g=KE(a.j,h?d:null,!a.m),0<a.O&&(a.M=new YA(m(a.Y,a,a.g),a.O)),d=a.U,h=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(oE[0]=T.toString()),T=oE);for(var S=0;S<T.length;S++){var k=J_(h,T[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ea(),XA(a.i,a.u,a.A,a.l,a.R,a.m)}vr.prototype.ca=function(a){a=a.target;let d=this.M;d&&jn(a)==3?d.j():this.Y(a)},vr.prototype.Y=function(a){try{if(a==this.g)e:{let ct=jn(this.g);var d=this.g.Ba();let po=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||LE(this.g)))){this.J||ct!=4||d==7||(d==8||0>=po?ea(3):ea(2)),lf(this);var h=this.g.Z();this.X=h;t:if(yE(this)){var g=LE(this.g);a="";var T=g.length,S=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ii(this),ra(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,a+=this.h.i.decode(g[d],{stream:!(S&&d==T-1)});g.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,eR(this.i,this.u,this.A,this.l,this.R,ct,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,et=this.g;if((Ce=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ce)){var ge=Ce;break t}}ge=null}if(h=ge)lo(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,df(this,h);else{this.o=!1,this.s=3,vt(12),ii(this),ra(this);break e}}if(this.P){h=!0;let Jt;for(;!this.J&&this.C<k.length;)if(Jt=rR(this,k),Jt==cf){ct==4&&(this.s=4,vt(14),h=!1),lo(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==gE){this.s=4,vt(15),lo(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else lo(this.i,this.l,Jt,null),df(this,Jt);if(yE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||k.length!=0||this.h.h||(this.s=1,vt(16),h=!1),this.o=this.o&&h,!h)lo(this.i,this.l,k,"[Invalid Chunked Response]"),ii(this),ra(this);else if(0<k.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),yf(at),at.M=!0,vt(11))}}else lo(this.i,this.l,k,null),df(this,k);ct==4&&ii(this),this.o&&!this.J&&(ct==4?qE(this.j,this):(this.o=!1,su(this)))}else ER(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),ii(this),ra(this)}}}catch{}finally{}};function yE(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function rR(a,d){var h=a.C,g=d.indexOf(`
`,h);return g==-1?cf:(h=Number(d.substring(h,g)),isNaN(h)?gE:(g+=1,g+h>d.length?cf:(d=d.slice(g,g+h),a.C=g+h,d)))}vr.prototype.cancel=function(){this.J=!0,ii(this)};function su(a){a.S=Date.now()+a.I,vE(a,a.I)}function vE(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=ta(m(a.ba,a),d)}function lf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}vr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(tR(this.i,this.A),this.L!=2&&(ea(),vt(17)),ii(this),this.s=2,ra(this)):vE(this,this.S-a)};function ra(a){a.j.G==0||a.J||qE(a.j,a)}function ii(a){lf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,sE(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function df(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||hf(h.h,a))){if(!a.K&&hf(h.h,a)&&h.G==3){try{var g=h.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)pu(h),hu(h);else break e;mf(h),vt(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=ta(m(h.Za,h),6e3));if(1>=IE(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else si(h,11)}else if((a.K||h.g==a)&&pu(h),!K(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let ge=T[d];if(h.T=ge[0],ge=ge[1],h.G==2)if(ge[0]=="c"){h.K=ge[1],h.ia=ge[2];let at=ge[3];at!=null&&(h.la=at,h.j.info("VER="+h.la));let ct=ge[4];ct!=null&&(h.Aa=ct,h.j.info("SVER="+h.Aa));let po=ge[5];po!=null&&typeof po=="number"&&0<po&&(g=1.5*po,h.L=g,h.j.info("backChannelRequestTimeoutMs_="+g)),g=h;let Jt=a.g;if(Jt){let mu=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mu){var S=g.h;S.g||mu.indexOf("spdy")==-1&&mu.indexOf("quic")==-1&&mu.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(ff(S,S.h),S.h=null))}if(g.D){let vf=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(g.ya=vf,Re(g.I,g.D,vf))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),g=h;var k=a;if(g.qa=WE(g,g.J?g.ia:null,g.W),k.K){wE(g.h,k);var Ce=k,et=g.L;et&&(Ce.I=et),Ce.B&&(lf(Ce),su(Ce)),g.g=k}else $E(g);0<h.i.length&&fu(h)}else ge[0]!="stop"&&ge[0]!="close"||si(h,7);else h.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?si(h,7):gf(h):ge[0]!="noop"&&h.l&&h.l.ta(ge),h.v=0)}}ea(4)}catch{}}var iR=class{constructor(a,d){this.g=a,this.map=d}};function _E(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function EE(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function IE(a){return a.h?1:a.g?a.g.size:0}function hf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ff(a,d){a.g?a.g.add(d):a.h=d}function wE(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}_E.prototype.cancel=function(){if(this.i=DE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function DE(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function oR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,g=0;g<h;g++)d.push(a[g]);return d}d=[],h=0;for(g in a)d[h++]=a[g];return d}function sR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let g in a)d[h++]=g;return d}}}function TE(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=sR(a),g=oR(a),T=g.length,S=0;S<T;S++)d.call(void 0,g[S],h&&h[S],a)}var bE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aR(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var g=a[h].indexOf("="),T=null;if(0<=g){var S=a[h].substring(0,g);T=a[h].substring(g+1)}else S=a[h];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function oi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof oi){this.h=a.h,au(this,a.j),this.o=a.o,this.g=a.g,cu(this,a.s),this.l=a.l;var d=a.i,h=new sa;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),CE(this,h),this.m=a.m}else a&&(d=String(a).match(bE))?(this.h=!1,au(this,d[1]||"",!0),this.o=ia(d[2]||""),this.g=ia(d[3]||"",!0),cu(this,d[4]),this.l=ia(d[5]||"",!0),CE(this,d[6]||"",!0),this.m=ia(d[7]||"")):(this.h=!1,this.i=new sa(null,this.h))}oi.prototype.toString=function(){var a=[],d=this.j;d&&a.push(oa(d,SE,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(oa(d,SE,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(oa(h,h.charAt(0)=="/"?lR:uR,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",oa(h,hR)),a.join("")};function Vn(a){return new oi(a)}function au(a,d,h){a.j=h?ia(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function cu(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function CE(a,d,h){d instanceof sa?(a.i=d,fR(a.i,a.h)):(h||(d=oa(d,dR)),a.i=new sa(d,a.h))}function Re(a,d,h){a.i.set(d,h)}function uu(a){return Re(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ia(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function oa(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,cR),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function cR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var SE=/[#\/\?@]/g,uR=/[#\?:]/g,lR=/[#\?]/g,dR=/[#\?@]/g,hR=/#/g;function sa(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function _r(a){a.g||(a.g=new Map,a.h=0,a.i&&aR(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=sa.prototype,n.add=function(a,d){_r(this),this.i=null,a=ho(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function AE(a,d){_r(a),d=ho(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function RE(a,d){return _r(a),d=ho(a,d),a.g.has(d)}n.forEach=function(a,d){_r(this),this.g.forEach(function(h,g){h.forEach(function(T){a.call(d,T,g,this)},this)},this)},n.na=function(){_r(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let g=0;g<d.length;g++){let T=a[g];for(let S=0;S<T.length;S++)h.push(d[g])}return h},n.V=function(a){_r(this);let d=[];if(typeof a=="string")RE(this,a)&&(d=d.concat(this.g.get(ho(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return _r(this),this.i=null,a=ho(this,a),RE(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function NE(a,d,h){AE(a,d),0<h.length&&(a.i=null,a.g.set(ho(a,d),M(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var g=d[h];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var T=S;k[g]!==""&&(T+="="+encodeURIComponent(String(k[g]))),a.push(T)}}return this.i=a.join("&")};function ho(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function fR(a,d){d&&!a.j&&(_r(a),a.i=null,a.g.forEach(function(h,g){var T=g.toLowerCase();g!=T&&(AE(this,g),NE(this,T,h))},a)),a.j=d}function pR(a,d){let h=new na;if(c.Image){let g=new Image;g.onload=y(Er,h,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Er,h,"TestLoadImage: error",!1,d,g),g.onabort=y(Er,h,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Er,h,"TestLoadImage: timeout",!1,d,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else d(!1)}function gR(a,d){let h=new na,g=new AbortController,T=setTimeout(()=>{g.abort(),Er(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?Er(h,"TestPingServer: ok",!0,d):Er(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Er(h,"TestPingServer: error",!1,d)})}function Er(a,d,h,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(h)}catch{}}function mR(){this.g=new JA}function yR(a,d,h){let g=h||"";try{TE(a,function(T,S){let k=T;l(T)&&(k=nf(T)),d.push(g+S+"="+encodeURIComponent(k))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function aa(a){this.l=a.Ub||null,this.j=a.eb||!1}A(aa,rf),aa.prototype.g=function(){return new lu(this.l,this.j)},aa.prototype.i=(function(a){return function(){return a}})({});function lu(a,d){st.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(lu,st),n=lu.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ua(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ca(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ME(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ME(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ca(this):ua(this),this.readyState==3&&ME(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,ca(this))},n.Qa=function(a){this.g&&(this.response=a,ca(this))},n.ga=function(){this.g&&ca(this)};function ca(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ua(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ua(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function PE(a){let d="";return we(a,function(h,g){d+=g,d+=":",d+=h,d+=`\r
`}),d}function pf(a,d,h){e:{for(g in h){var g=!1;break e}g=!0}g||(h=PE(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Re(a,d,h))}function xe(a){st.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(xe,st);var vR=/^https?$/i,_R=["POST","PUT"];n=xe.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():af.g(),this.v=this.o?aE(this.o):aE(af),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){xE(this,S);return}if(a=h||"",h=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)h.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())h.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(_R,d,void 0))||g||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of h)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FE(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){xE(this,S)}};function xE(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,kE(a),du(a)}function kE(a){a.A||(a.A=!0,yt(a,"complete"),yt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,yt(this,"complete"),yt(this,"abort"),du(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),du(this,!0)),xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?OE(this):this.bb())},n.bb=function(){OE(this)};function OE(a){if(a.h&&typeof s<"u"&&(!a.v[1]||jn(a)!=4||a.Z()!=2)){if(a.u&&jn(a)==4)rE(a.Ea,0,a);else if(yt(a,"readystatechange"),jn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var g;if(g=k===0){var T=String(a.D).match(bE)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!vR.test(T?T.toLowerCase():"")}h=g}if(h)yt(a,"complete"),yt(a,"success");else{a.m=6;try{var S=2<jn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",kE(a)}}finally{du(a)}}}}function du(a,d){if(a.g){FE(a);let h=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||yt(a,"ready");try{h.onreadystatechange=g}catch{}}}function FE(a){a.I&&(c.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function jn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),ZA(d)}};function LE(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ER(a){let d={};a=(a.g&&2<=jn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(K(a[g]))continue;var h=D(a[g]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[T]||[];d[T]=S,S.push(h)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function VE(a){this.Aa=0,this.i=[],this.j=new na,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,a),this.cb=la("retryDelaySeedMs",1e4,a),this.Wa=la("forwardChannelMaxRetries",2,a),this.wa=la("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new _E(a&&a.concurrentRequestLimit),this.Da=new mR,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=VE.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,g){vt(0),this.W=a,this.H=d||{},h&&g!==void 0&&(this.H.OSID=h,this.H.OAID=g),this.F=this.X,this.I=WE(this,null,this.W),fu(this)};function gf(a){if(jE(a),a.G==3){var d=a.U++,h=Vn(a.I);if(Re(h,"SID",a.K),Re(h,"RID",d),Re(h,"TYPE","terminate"),da(a,h),d=new vr(a,a.j,d),d.L=2,d.v=uu(Vn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=KE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),su(d)}GE(a)}function hu(a){a.g&&(yf(a),a.g.cancel(),a.g=null)}function jE(a){hu(a),a.u&&(c.clearTimeout(a.u),a.u=null),pu(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function fu(a){if(!EE(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ks||Z_(),Qs||(Ks(),Qs=!0),Wh.add(d,a),a.B=0}}function IR(a,d){return IE(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=ta(m(a.Ga,a,d),zE(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new vr(this,this.j,a),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var g=this.i[h];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=BE(this,T,d),h=Vn(this.I),Re(h,"RID",a),Re(h,"CVER",22),this.D&&Re(h,"X-HTTP-Session-Id",this.D),da(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(PE(S)))+"&"+d:this.m&&pf(h,this.m,S)),ff(this.h,T),this.Ua&&Re(h,"TYPE","init"),this.P?(Re(h,"$req",d),Re(h,"SID","null"),T.T=!0,uf(T,h,null)):uf(T,h,d),this.G=2}}else this.G==3&&(a?UE(this,a):this.i.length==0||EE(this.h)||UE(this))};function UE(a,d){var h;d?h=d.l:h=a.U++;let g=Vn(a.I);Re(g,"SID",a.K),Re(g,"RID",h),Re(g,"AID",a.T),da(a,g),a.m&&a.o&&pf(g,a.m,a.o),h=new vr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=BE(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ff(a.h,h),uf(h,g,d)}function da(a,d){a.H&&we(a.H,function(h,g){Re(d,g,h)}),a.l&&TE({},function(h,g){Re(d,g,h)})}function BE(a,d,h){h=Math.min(a.i.length,h);var g=a.l?m(a.l.Na,a.l,a):null;e:{var T=a.i;let S=-1;for(;;){let k=["count="+h];S==-1?0<h?(S=T[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let Ce=!0;for(let et=0;et<h;et++){let ge=T[et].g,at=T[et].map;if(ge-=S,0>ge)S=Math.max(0,T[et].g-100),Ce=!1;else try{yR(at,k,"req"+ge+"_")}catch{g&&g(at)}}if(Ce){g=k.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,g}function $E(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ks||Z_(),Qs||(Ks(),Qs=!0),Wh.add(d,a),a.v=0}}function mf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=ta(m(a.Fa,a),zE(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,HE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=ta(m(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),hu(this),HE(this))};function yf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function HE(a){a.g=new vr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Vn(a.qa);Re(d,"RID","rpc"),Re(d,"SID",a.K),Re(d,"AID",a.T),Re(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Re(d,"TO",a.ja),Re(d,"TYPE","xmlhttp"),da(a,d),a.m&&a.o&&pf(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=uu(Vn(d)),h.m=null,h.P=!0,mE(h,a)}n.Za=function(){this.C!=null&&(this.C=null,hu(this),mf(this),vt(19))};function pu(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function qE(a,d){var h=null;if(a.g==d){pu(a),yf(a),a.g=null;var g=2}else if(hf(a.h,d))h=d.D,wE(a.h,d),g=1;else return;if(a.G!=0){if(d.o)if(g==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=a.B;g=ru(),yt(g,new hE(g,h)),fu(a)}else $E(a);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&IR(a,d)||g==2&&mf(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),T){case 1:si(a,5);break;case 4:si(a,10);break;case 3:si(a,6);break;default:si(a,2)}}}function zE(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function si(a,d){if(a.j.info("Error code "+d),d==2){var h=m(a.fb,a),g=a.Xa;let T=!g;g=new oi(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||au(g,"https"),uu(g),T?pR(g.toString(),h):gR(g.toString(),h)}else vt(2);a.G=0,a.l&&a.l.sa(d),GE(a),jE(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function GE(a){if(a.G=0,a.ka=[],a.l){let d=DE(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function WE(a,d,h){var g=h instanceof oi?Vn(h):new oi(h);if(g.g!="")d&&(g.g=d+"."+g.g),cu(g,g.s);else{var T=c.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new oi(null);g&&au(S,g),d&&(S.g=d),T&&cu(S,T),h&&(S.l=h),g=S}return h=a.D,d=a.ya,h&&d&&Re(g,h,d),Re(g,"VER",a.la),da(a,g),g}function KE(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new xe(new aa({eb:h})):new xe(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function QE(){}n=QE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function gu(){}gu.prototype.g=function(a,d){return new Rt(a,d)};function Rt(a,d){st.call(this),this.g=new VE(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!K(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new fo(this)}A(Rt,st),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){gf(this.g)},Rt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=nf(a),a=h);d.i.push(new iR(d.Ya++,a)),d.G==3&&fu(d)},Rt.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,Rt.aa.N.call(this)};function YE(a){of.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(YE,of);function ZE(){sf.call(this),this.status=1}A(ZE,sf);function fo(a){this.g=a}A(fo,QE),fo.prototype.ua=function(){yt(this.g,"a")},fo.prototype.ta=function(a){yt(this.g,new YE(a))},fo.prototype.sa=function(a){yt(this.g,new ZE)},fo.prototype.ra=function(){yt(this.g,"b")},gu.prototype.createWebChannel=gu.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,ky=ar.createWebChannelTransport=function(){return new gu},xy=ar.getStatEventTarget=function(){return ru()},Py=ar.Event=ri,Kd=ar.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,kc=ar.ErrorCode=iu,fE.COMPLETE="complete",My=ar.EventType=fE,cE.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",st.prototype.listen=st.prototype.K,ms=ar.WebChannel=cE,$V=ar.FetchXmlHttpFactory=aa,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Ny=ar.XhrIo=xe}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});var hS="@firebase/firestore",fS="4.8.0";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var js="11.10.0";var ro=new Rn("@firebase/firestore");function ys(){return ro.logLevel}function L(n,...e){if(ro.logLevel<=ue.DEBUG){let t=e.map(I_);ro.debug(`Firestore (${js}): ${n}`,...t)}}function lr(n,...e){if(ro.logLevel<=ue.ERROR){let t=e.map(I_);ro.error(`Firestore (${js}): ${n}`,...t)}}function Zr(n,...e){if(ro.logLevel<=ue.WARN){let t=e.map(I_);ro.warn(`Firestore (${js}): ${n}`,...t)}}function I_(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,r0(n,r,t)}function r0(n,e,t){let r=`FIRESTORE (${js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw lr(r),new Error(r)}function Ie(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||r0(e,i,r)}function X(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends Kt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var th=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},jy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Je.UNAUTHENTICATED))}shutdown(){}},Uy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},By=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ie(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new th(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Je(e)}},$y=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Hy=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new $y(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},nh=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qy=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ie(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new nh(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ie(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new nh(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function HV(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function i0(){return new TextEncoder}var Uc=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=HV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function se(n,e){return n<e?-1:n>e?1:0}function zy(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return se(r,i);{let o=i0(),s=qV(o.encode(pS(n,t)),o.encode(pS(e,t)));return s!==0?s:se(r,i)}}t+=r>65535?2:1}return se(n.length,e.length)}function pS(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function qV(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return se(n[t],e[t]);return se(n.length,e.length)}function bs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var gS="__name__",rh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return se(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):zy(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}},Pe=class n extends rh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},zV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class n extends rh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return zV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gS}static keyField(){return new n([gS])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new V(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new V(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new V(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pe.fromString(e))}static fromName(e){return new n(Pe.fromString(e).popFirst(5))}static empty(){return new n(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pe(e.slice()))}};function o0(n,e,t){if(!t)throw new V(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function GV(n,e,t,r){if(e===!0&&r===!0)throw new V(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mS(n){if(!q.isDocumentKey(n))throw new V(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yS(n){if(q.isDocumentKey(n))throw new V(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function s0(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function w_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":z(12329,{type:typeof n})}function Gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new V(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=w_(n);throw new V(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ge(n,e){let t={typeString:n};return e&&(t.value=e),t}function Zc(n,e){if(!s0(n))throw new V(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new V(P.INVALID_ARGUMENT,t);return!0}var vS=-62135596800,_S=1e6,We=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*_S);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new V(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new V(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vS)throw new V(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_S}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zc(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-vS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Ge("string",We._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};var te=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new We(0,0))}static max(){return new n(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Bc=-1,Gy=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Gy.UNKNOWN_ID=-1;function WV(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new We(t+1,0):new We(t,r));return new io(i,q.empty(),e)}function KV(n){return new io(n.readTime,n.key,Bc)}var io=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(te.min(),q.empty(),Bc)}static max(){return new n(te.max(),q.empty(),Bc)}};function QV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:se(n.largestBatchId,e.largestBatchId))}var YV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Us(n){return C(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==YV)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function ZV(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Bs(n){return n.name==="IndexedDbTransactionError"}var D_=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),T_=-1;function kh(n){return n==null}function $c(n){return n===0&&1/n==-1/0}function JV(n){return typeof n=="number"&&Number.isInteger(n)&&!$c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var a0="";function XV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ES(e)),e=e2(n.get(t),e);return ES(e)}function e2(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case a0:t+="";break;default:t+=o}}return t}function ES(n){return n+a0+""}var t2="remoteDocuments",c0="owner";var u0="mutationQueues";var l0="mutations";var d0="documentMutations",n2="remoteDocumentsV14";var h0="remoteDocumentGlobal";var f0="targets";var p0="targetDocuments";var g0="targetGlobal",m0="collectionParents";var y0="clientMetadata";var v0="bundles";var _0="namedQueries";var r2="indexConfiguration";var i2="indexState";var o2="indexEntries";var E0="documentOverlays";var s2="globals";var a2=[u0,l0,d0,t2,f0,c0,g0,p0,y0,h0,m0,v0,_0],JX=[...a2,E0],c2=[u0,l0,d0,n2,f0,c0,g0,p0,y0,h0,m0,v0,_0,E0],u2=c2,l2=[...u2,r2,i2,o2];var XX=[...l2,s2];function IS(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ni(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function I0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Oe=class n{constructor(e,t){this.comparator=e,this.root=t||Mn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Is(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Is(this.root,e,this.comparator,!1)}getReverseIterator(){return new Is(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Is(this.root,e,this.comparator,!0)}},Is=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Mn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Mn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Xe=class n{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ih(this.data.getIterator())}getIteratorFrom(e){return new ih(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},ih=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class n{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Xe(Bt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var oh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var gt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new oh("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var d2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dr(n){if(Ie(!!n,39018),typeof n=="string"){let e=0,t=d2.exec(n);if(Ie(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hr(n){return typeof n=="string"?gt.fromBase64String(n):gt.fromUint8Array(n)}var w0="server_timestamp",D0="__type__",T0="__previous_value__",b0="__local_write_time__";function b_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[D0])===null||t===void 0?void 0:t.stringValue)===w0}function Oh(n){let e=n.mapValue.fields[T0];return b_(e)?Oh(e):e}function Hc(n){let e=dr(n.mapValue.fields[b0].timestampValue);return new We(e.seconds,e.nanos)}var Ky=class{constructor(e,t,r,i,o,s,c,u,l,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=f}},sh="(default)",ah=class n{constructor(e,t){this.projectId=e,this.database=t||sh}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var C_="__type__",C0="__max__",Qd={mapValue:{fields:{__type__:{stringValue:C0}}}},S_="__vector__",Cs="value";function Jr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?b_(n)?4:A0(n)?9007199254740991:S0(n)?10:11:z(28295,{value:n})}function kn(n,e){if(n===e)return!0;let t=Jr(n);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hc(n).isEqual(Hc(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=dr(i.timestampValue),c=dr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return hr(i.bytesValue).isEqual(hr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),c=Ne(o.doubleValue);return s===c?$c(s)===$c(c):isNaN(s)&&isNaN(c)}return!1})(n,e);case 9:return bs(n.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(IS(s)!==IS(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!kn(s[u],c[u])))return!1;return!0})(n,e);default:return z(52216,{left:n})}}function qc(n,e){return(n.values||[]).find(t=>kn(t,e))!==void 0}function Ss(n,e){if(n===e)return 0;let t=Jr(n),r=Jr(e);if(t!==r)return se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return se(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let c=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1})(n,e);case 3:return wS(n.timestampValue,e.timestampValue);case 4:return wS(Hc(n),Hc(e));case 5:return zy(n.stringValue,e.stringValue);case 6:return(function(o,s){let c=hr(o),u=hr(s);return c.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=se(c[l],u[l]);if(f!==0)return f}return se(c.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let c=se(Ne(o.latitude),Ne(s.latitude));return c!==0?c:se(Ne(o.longitude),Ne(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return DS(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var c,u,l,f;let p=o.fields||{},m=s.fields||{},y=(c=p[Cs])===null||c===void 0?void 0:c.arrayValue,A=(u=m[Cs])===null||u===void 0?void 0:u.arrayValue,M=se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:DS(y,A)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Qd.mapValue&&s===Qd.mapValue)return 0;if(o===Qd.mapValue)return 1;if(s===Qd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let m=zy(u[p],f[p]);if(m!==0)return m;let y=Ss(c[u[p]],l[f[p]]);if(y!==0)return y}return se(u.length,f.length)})(n.mapValue,e.mapValue);default:throw z(23264,{le:t})}}function wS(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return se(n,e);let t=dr(n),r=dr(e),i=se(t.seconds,r.seconds);return i!==0?i:se(t.nanos,r.nanos)}function DS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Ss(t[i],r[i]);if(o)return o}return se(t.length,r.length)}function As(n){return Qy(n)}function Qy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=dr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return hr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return q.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Qy(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Qy(t.fields[s])}`;return i+"}"})(n.mapValue):z(61005,{value:n})}function Jd(n){switch(Jr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Oh(n);return e?16+Jd(e):16;case 5:return 2*n.stringValue.length;case 6:return hr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Jd(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return ni(r.fields,(o,s)=>{i+=o.length+Jd(s)}),i})(n.mapValue);default:throw z(13486,{value:n})}}function Yy(n){return!!n&&"integerValue"in n}function A_(n){return!!n&&"arrayValue"in n}function TS(n){return!!n&&"nullValue"in n}function bS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Xd(n){return!!n&&"mapValue"in n}function S0(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[C_])===null||t===void 0?void 0:t.stringValue)===S_}function Fc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ni(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function A0(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===C0}var tee={mapValue:{fields:{[C_]:{stringValue:S_},[Cs]:{arrayValue:{}}}}};var Ut=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Xd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fc(t)}setAll(e){let t=Bt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!t.isImmediateParentOf(c)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=c.popLast()}s?r[c.lastSegment()]=Fc(s):i.push(c.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Xd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Xd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ni(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Fc(this.value))}};function R0(n){let e=[];return ni(n.fields,(t,r)=>{let i=new Bt([t]);if(Xd(r)){let o=R0(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}var mn=class n{constructor(e,t,r,i,o,s,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),Ut.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),Ut.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),Ut.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Rs=class{constructor(e,t){this.position=e,this.inclusive=t}};function CS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=Ss(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function SS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!kn(n.position[t],e.position[t]))return!1;return!0}var Ns=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function h2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ch=class{},Qe=class n extends ch{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Jy(e,t,r):t==="array-contains"?new tv(e,r):t==="in"?new nv(e,r):t==="not-in"?new rv(e,r):t==="array-contains-any"?new iv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Xy(e,r):new ev(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ss(t,this.value)):t!==null&&Jr(this.value)===Jr(t)&&this.matchesComparison(Ss(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},On=class n extends ch{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return N0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function N0(n){return n.op==="and"}function M0(n){return f2(n)&&N0(n)}function f2(n){for(let e of n.filters)if(e instanceof On)return!1;return!0}function Zy(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+As(n.value);if(M0(n))return n.filters.map(e=>Zy(e)).join(",");{let e=n.filters.map(t=>Zy(t)).join(",");return`${n.op}(${e})`}}function P0(n,e){return n instanceof Qe?(function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&kn(r.value,i.value)})(n,e):n instanceof On?(function(r,i){return i instanceof On&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&P0(s,i.filters[c]),!0):!1})(n,e):void z(19439)}function x0(n){return n instanceof Qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${As(t.value)}`})(n):n instanceof On?(function(t){return t.op.toString()+" {"+t.getFilters().map(x0).join(" ,")+"}"})(n):"Filter"}var Jy=class extends Qe{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},Xy=class extends Qe{constructor(e,t){super(e,"in",t),this.keys=k0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},ev=class extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=k0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function k0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}var tv=class extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return A_(t)&&qc(t.arrayValue,this.value)}},nv=class extends Qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&qc(this.value.arrayValue,t)}},rv=class extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qc(this.value.arrayValue,t)}},iv=class extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!A_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}};var ov=class{constructor(e,t=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.Pe=null}};function AS(n,e=null,t=[],r=[],i=null,o=null,s=null){return new ov(n,e,t,r,i,o,s)}function R_(n){let e=X(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Zy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),kh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>As(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>As(r)).join(",")),e.Pe=t}return e.Pe}function N_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!h2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!P0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!SS(n.startAt,e.startAt)&&SS(n.endAt,e.endAt)}function sv(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ms=class{constructor(e,t=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function p2(n,e,t,r,i,o,s,c){return new Ms(n,e,t,r,i,o,s,c)}function M_(n){return new Ms(n)}function RS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function g2(n){return n.collectionGroup!==null}function Lc(n){let e=X(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Xe(Bt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ns(o,r))}),t.has(Bt.keyField().canonicalString())||e.Te.push(new Ns(Bt.keyField(),r))}return e.Te}function Pn(n){let e=X(n);return e.Ie||(e.Ie=m2(e,Lc(n))),e.Ie}function m2(n,e){if(n.limitType==="F")return AS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ns(i.field,o)});let t=n.endAt?new Rs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rs(n.startAt.position,n.startAt.inclusive):null;return AS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function av(n,e,t){return new Ms(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Fh(n,e){return N_(Pn(n),Pn(e))&&n.limitType===e.limitType}function O0(n){return`${R_(Pn(n))}|lt:${n.limitType}`}function vs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>x0(i)).join(", ")}]`),kh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>As(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>As(i)).join(",")),`Target(${r})`})(Pn(n))}; limitType=${n.limitType})`}function Lh(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,c,u){let l=CS(s,c,u);return s.inclusive?l<=0:l<0})(r.startAt,Lc(r),i)||r.endAt&&!(function(s,c,u){let l=CS(s,c,u);return s.inclusive?l>=0:l>0})(r.endAt,Lc(r),i))})(n,e)}function y2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function F0(n){return(e,t)=>{let r=!1;for(let i of Lc(n)){let o=v2(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function v2(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):(function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?Ss(u,l):z(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:n.dir})}}var fr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ni(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return I0(this.inner)}size(){return this.innerSize}};var _2=new Oe(q.comparator);function pr(){return _2}var L0=new Oe(q.comparator);function Oc(...n){let e=L0;for(let t of n)e=e.insert(t.key,t);return e}function V0(n){let e=L0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Xi(){return Vc()}function j0(){return Vc()}function Vc(){return new fr(n=>n.toString(),(n,e)=>n.isEqual(e))}var E2=new Oe(q.comparator),I2=new Xe(q.comparator);function le(...n){let e=I2;for(let t of n)e=e.add(t);return e}var w2=new Xe(se);function D2(){return w2}function P_(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function U0(n){return{integerValue:""+n}}function T2(n,e){return JV(e)?U0(e):P_(n,e)}var Ps=class{constructor(){this._=void 0}};function b2(n,e,t){return n instanceof xs?(function(i,o){let s={fields:{[D0]:{stringValue:w0},[b0]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&b_(o)&&(o=Oh(o)),o&&(s.fields[T0]=o),{mapValue:s}})(t,e):n instanceof oo?$0(n,e):n instanceof so?H0(n,e):(function(i,o){let s=B0(i,o),c=NS(s)+NS(i.Ee);return Yy(s)&&Yy(i.Ee)?U0(c):P_(i.serializer,c)})(n,e)}function C2(n,e,t){return n instanceof oo?$0(n,e):n instanceof so?H0(n,e):t}function B0(n,e){return n instanceof ks?(function(r){return Yy(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var xs=class extends Ps{},oo=class extends Ps{constructor(e){super(),this.elements=e}};function $0(n,e){let t=q0(e);for(let r of n.elements)t.some(i=>kn(i,r))||t.push(r);return{arrayValue:{values:t}}}var so=class extends Ps{constructor(e){super(),this.elements=e}};function H0(n,e){let t=q0(e);for(let r of n.elements)t=t.filter(i=>!kn(i,r));return{arrayValue:{values:t}}}var ks=class extends Ps{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function NS(n){return Ne(n.integerValue||n.doubleValue)}function q0(n){return A_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function S2(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof oo&&i instanceof oo||r instanceof so&&i instanceof so?bs(r.elements,i.elements,kn):r instanceof ks&&i instanceof ks?kn(r.Ee,i.Ee):r instanceof xs&&i instanceof xs})(n.transform,e.transform)}var cv=class{constructor(e,t){this.version=e,this.transformResults=t}},ur=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function eh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Os=class{};function z0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zc(n.key,ur.none()):new ao(n.key,n.data,ur.none());{let t=n.data,r=Ut.empty(),i=new Xe(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fn(n.key,r,new Zt(i.toArray()),ur.none())}}function A2(n,e,t){n instanceof ao?(function(i,o,s){let c=i.value.clone(),u=PS(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Fn?(function(i,o,s){if(!eh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=PS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(G0(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function jc(n,e,t,r){return n instanceof ao?(function(o,s,c,u){if(!eh(o.precondition,s))return c;let l=o.value.clone(),f=xS(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Fn?(function(o,s,c,u){if(!eh(o.precondition,s))return c;let l=xS(o.fieldTransforms,u,s),f=s.data;return f.setAll(G0(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,c){return eh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c})(n,e,t)}function R2(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=B0(r.transform,i||null);o!=null&&(t===null&&(t=Ut.empty()),t.set(r.field,o))}return t||null}function MS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&bs(r,i,(o,s)=>S2(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ao=class extends Os{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Fn=class extends Os{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function G0(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function PS(n,e,t){let r=new Map;Ie(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,C2(s,c,t[i]))}return r}function xS(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,b2(o,s,e))}return r}var zc=class extends Os{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},uv=class extends Os{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var lv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&A2(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=jc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=jc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=j0();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=t.has(i.key)?null:c;let u=z0(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(t,r)=>MS(t,r))&&bs(this.baseMutations,e.baseMutations,(t,r)=>MS(t,r))}},dv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ie(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return E2})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var hv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var fv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var qe,pe;function N2(n){switch(n){case P.OK:return z(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return z(15467,{code:n})}}function W0(n){if(n===void 0)return lr("GRPC error has no .code"),P.UNKNOWN;switch(n){case qe.OK:return P.OK;case qe.CANCELLED:return P.CANCELLED;case qe.UNKNOWN:return P.UNKNOWN;case qe.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case qe.INTERNAL:return P.INTERNAL;case qe.UNAVAILABLE:return P.UNAVAILABLE;case qe.UNAUTHENTICATED:return P.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case qe.NOT_FOUND:return P.NOT_FOUND;case qe.ALREADY_EXISTS:return P.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return P.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case qe.ABORTED:return P.ABORTED;case qe.OUT_OF_RANGE:return P.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return P.UNIMPLEMENTED;case qe.DATA_LOSS:return P.DATA_LOSS;default:return z(39323,{code:n})}}(pe=qe||(qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var kS=null;var M2=new sr([4294967295,4294967295],0);function OS(n){let e=i0().encode(n),t=new Ry;return t.update(e),new Uint8Array(t.digest())}function FS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new sr([t,r],0),new sr([i,o],0)]}var pv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new eo(`Invalid padding: ${t}`);if(r<0)throw new eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new eo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=sr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(sr.fromNumber(r)));return i.compare(M2)===1&&(i=new sr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=OS(e),[r,i]=FS(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(c=>s.insert(c)),s}insert(e){if(this.fe===0)return;let t=OS(e),[r,i]=FS(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},eo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var uh=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(te.min(),i,new Oe(se),pr(),le())}},Gc=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,le(),le(),le())}};var ws=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},lh=class{constructor(e,t){this.targetId=e,this.De=t}},dh=class{constructor(e,t,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},hh=class{constructor(){this.ve=0,this.Ce=LS(),this.Fe=gt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=le(),t=le(),r=le();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new Gc(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=LS()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},gv=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=pr(),this.je=Yd(),this.Je=Yd(),this.He=new Oe(se)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(sv(o))if(r===0){let s=new q(o.path);this.Xe(t,s,mn.newNoDocument(s,te.min()))}else Ie(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let c=this._t(e),u=c?this.ut(c,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}kS?.ct((function(f,p,m,y,A){var M,R,F,K,Y,be;let mt={localCacheCount:f,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},we=p.unchangedNames;return we&&(mt.bloomFilter={applied:A===0,hashCount:(M=we?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(K=(F=(R=we?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&K!==void 0?K:0,padding:(be=(Y=we?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&be!==void 0?be:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),mt})(s,e.De,this.We.lt(),c,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,c;try{s=hr(r).toUint8Array()}catch(u){if(u instanceof oh)return Zr("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new pv(s,i,o)}catch(u){return Zr(u instanceof eo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.fe===0?null:c}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let c=this.st(s);if(c){if(o.current&&sv(c.target)){let u=new q(c.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,mn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=le();this.Je.forEach((o,s)=>{let c=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new uh(e,t,this.He,this.ze,r);return this.ze=pr(),this.je=Yd(),this.Je=Yd(),this.He=new Oe(se),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new hh,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Xe(se),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Xe(se),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new hh),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Yd(){return new Oe(q.comparator)}function LS(){return new Oe(q.comparator)}var P2={asc:"ASCENDING",desc:"DESCENDING"},x2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k2={and:"AND",or:"OR"},mv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function yv(n,e){return n.useProto3Json||kh(e)?e:{value:e}}function fh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function K0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function O2(n,e){return fh(n,e.toTimestamp())}function xn(n){return Ie(!!n,49232),te.fromTimestamp((function(t){let r=dr(t);return new We(r.seconds,r.nanos)})(n))}function x_(n,e){return vv(n,e).canonicalString()}function vv(n,e){let t=(function(i){return new Pe(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Q0(n){let e=Pe.fromString(n);return Ie(eA(e),10190,{key:e.toString()}),e}function _v(n,e){return x_(n.databaseId,e.path)}function Oy(n,e){let t=Q0(e);if(t.get(1)!==n.databaseId.projectId)throw new V(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new V(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(Z0(t))}function Y0(n,e){return x_(n.databaseId,e)}function F2(n){let e=Q0(n);return e.length===4?Pe.emptyPath():Z0(e)}function Ev(n){return new Pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Z0(n){return Ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function VS(n,e,t){return{name:_v(n,e),fields:t.value.mapValue.fields}}function L2(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,f){return l.useProto3Json?(Ie(f===void 0||typeof f=="string",58123),gt.fromBase64String(f||"")):(Ie(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),gt.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&(function(l){let f=l.code===void 0?P.UNKNOWN:W0(l.code);return new V(f,l.message||"")})(s);t=new dh(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Oy(n,r.document.name),o=xn(r.document.updateTime),s=r.document.createTime?xn(r.document.createTime):te.min(),c=new Ut({mapValue:{fields:r.document.fields}}),u=mn.newFoundDocument(i,o,s,c),l=r.targetIds||[],f=r.removedTargetIds||[];t=new ws(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Oy(n,r.document),o=r.readTime?xn(r.readTime):te.min(),s=mn.newNoDocument(i,o),c=r.removedTargetIds||[];t=new ws([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Oy(n,r.document),o=r.removedTargetIds||[];t=new ws([],o,i,null)}else{if(!("filter"in e))return z(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new fv(i,o),c=r.targetId;t=new lh(c,s)}}return t}function V2(n,e){let t;if(e instanceof ao)t={update:VS(n,e.key,e.value)};else if(e instanceof zc)t={delete:_v(n,e.key)};else if(e instanceof Fn)t={update:VS(n,e.key,e.data),updateMask:W2(e.fieldMask)};else{if(!(e instanceof uv))return z(16599,{Rt:e.type});t={verify:_v(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let c=s.transform;if(c instanceof xs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof oo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof so)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ks)return{fieldPath:s.field.canonicalString(),increment:c.Ee};throw z(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:O2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)})(n,e.precondition)),t}function j2(n,e){return n&&n.length>0?(Ie(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?xn(i.updateTime):xn(o);return s.isEqual(te.min())&&(s=xn(o)),new cv(s,i.transformResults||[])})(t,e))):[]}function U2(n,e){return{documents:[Y0(n,e.path)]}}function B2(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Y0(n,i);let o=(function(l){if(l.length!==0)return X0(On.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(f=>(function(m){return{field:_s(m.field),direction:q2(m.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let c=yv(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function $2(n){let e=F2(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ie(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(p){let m=J0(p);return m instanceof On&&M0(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(A){return new Ns(Es(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(m))})(t.orderBy));let c=null;t.limit&&(c=(function(p){let m;return m=typeof p=="object"?p.value:p,kh(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Rs(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Rs(y,m)})(t.endAt)),p2(e,i,s,o,c,"F",u,l)}function H2(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function J0(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Es(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Es(t.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Es(t.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Es(t.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Qe.create(Es(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return On.create(t.compositeFilter.filters.map(r=>J0(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}})(t.compositeFilter.op))})(n):z(30097,{filter:n})}function q2(n){return P2[n]}function z2(n){return x2[n]}function G2(n){return k2[n]}function _s(n){return{fieldPath:n.canonicalString()}}function Es(n){return Bt.fromServerFormat(n.fieldPath)}function X0(n){return n instanceof Qe?(function(t){if(t.op==="=="){if(bS(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NAN"}};if(TS(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bS(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NAN"}};if(TS(t.value))return{unaryFilter:{field:_s(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(t.field),op:z2(t.op),value:t.value}}})(n):n instanceof On?(function(t){let r=t.getFilters().map(i=>X0(i));return r.length===1?r[0]:{compositeFilter:{op:G2(t.op),filters:r}}})(n):z(54877,{filter:n})}function W2(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function eA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Wc=class n{constructor(e,t,r,i,o=te.min(),s=te.min(),c=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Iv=class{constructor(e){this.gt=e}};function K2(n){let e=$2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?av(e,e.limit,"L"):e}var ph=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),$c(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=dr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(hr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?A0(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):S0(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):z(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Cs,c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ne(c)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),q.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};ph.Ut=new ph;var wv=class{constructor(){this.Dn=new Dv}addToCollectionParentIndex(e,t){return this.Dn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(io.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(io.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},Dv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xe(Pe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Pe.comparator)).toArray()}};var nee=new Uint8Array(0);var jS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tA=41943040,Yt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(tA,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var Kc=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var US="LruGarbageCollector",Q2=1048576;function BS([n,e],[t,r]){let i=se(n,t);return i===0?se(e,r):i}var Tv=class{constructor(e){this.Tr=e,this.buffer=new Xe(BS),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();BS(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},bv=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(US,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Bs(t)?L(US,"Ignoring IndexedDB error during garbage collection: ",t):yield Us(t)}yield this.Rr(3e5)}))}},Cv=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(D_.ue);let r=new Tv(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(jS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jS):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,c,u,l,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,c=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ys()<=ue.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(c-s)+`ms
	Removed ${o} targets in `+(u-c)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-f}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Y2(n,e){return new Cv(n,e)}var Sv=class{constructor(){this.changes=new fr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Av=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Rv=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&jc(r.mutation,i,Zt.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){let i=Xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Oc();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{t.set(s,c)})})}computeViews(e,t,r,i){let o=pr(),s=Vc(),c=(function(){return Vc()})();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Fn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),jc(f.mutation,l,f.mutation.getFieldMask(),We.now())):s.set(l.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var p;return c.set(l,new Av(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,t){let r=Vc(),i=new Oe((s,c)=>s-c),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||Zt.empty();f=c.applyToLocalView(l,f),r.set(u,f);let p=(i.get(c.batchId)||le()).add(u);i=i.insert(c.batchId,p)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,p=j0();f.forEach(m=>{if(!o.has(m)){let y=z0(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):g2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(Xi()),c=Bc,u=o;return s.next(l=>x.forEach(l,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,le())).next(f=>({batchId:c,changes:V0(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=Oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Oc();return this.indexManager.getCollectionParents(e,o).next(c=>x.forEach(c,u=>{let l=(function(p,m){return new Ms(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,mn.newInvalidDocument(f)))});let c=Oc();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&jc(f.mutation,l,Zt.empty(),We.now()),Lh(t,l)&&(c=c.insert(u,l))}),c})}};var Nv=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return x.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}})(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:K2(i.bundledQuery),readTime:xn(i.readTime)}})(t)),x.resolve()}};var Mv=class{constructor(){this.overlays=new Oe(q.comparator),this.kr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Xi();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=Xi(),o=t.length+1,s=new q(t.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Oe((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Xi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return x.resolve(c)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new hv(t,r));let o=this.kr.get(t);o===void 0&&(o=le(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var Pv=class{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var Qc=class{constructor(){this.qr=new Xe(ze.Qr),this.$r=new Xe(ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new ze(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ze(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new q(new Pe([])),r=new ze(t,e),i=new ze(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new q(new Pe([])),r=new ze(t,e),i=new ze(t,e+1),o=le();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ze(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return q.comparator(e.key,t.key)||se(e.Hr,t.Hr)}static Ur(e,t){return se(e.Hr,t.Hr)||q.comparator(e.key,t.key)}};var xv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Xe(ze.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new lv(o,t,r,i);this.mutationQueue.push(s);for(let c of i)this.Yr=this.Yr.add(new ze(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?T_:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ze(t,0),i=new ze(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let c=this.Zr(s.Hr);o.push(c)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xe(se);return t.forEach(i=>{let o=new ze(i,0),s=new ze(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],c=>{r=r.add(c.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new ze(new q(o),0),c=new Xe(se);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.Hr)),!0)},s),x.resolve(this.ei(c))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ie(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(t.mutations,i=>{let o=new ze(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new ze(t,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var kv=class{constructor(e){this.ni=e,this.docs=(function(){return new Oe(q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let r=pr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=pr(),s=t.path,c=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||QV(KV(f),r)<=0||(i.has(f.key)||Lh(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){z(9500)}ri(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Ov(this)}getSize(e){return x.resolve(this.size)}},Ov=class extends Sv{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Fv=class{constructor(e){this.persistence=e,this.ii=new fr(t=>R_(t),N_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new Qc,this.targetCount=0,this._i=Kc.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),x.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Kc(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.hr(t),x.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.oi.containsKey(t))}};var gh=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new D_(0),this.ci=!1,this.ci=!0,this.li=new Pv,this.referenceDelegate=e(this),this.hi=new Fv(this),this.indexManager=new wv,this.remoteDocumentCache=(function(i){return new kv(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Iv(t),this.Ti=new Nv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new xv(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new Lv(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},Lv=class extends Wy{constructor(e){super(),this.currentSequenceNumber=e}},Vv=class n{constructor(e){this.persistence=e,this.Ai=new Qc,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw z(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=q.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return x.or([()=>x.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},mh=class n{constructor(e,t){this.persistence=e,this.gi=new fr(r=>XV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Y2(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(c=>{c||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jd(e.data.value)),t}Sr(e,t,r){return x.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var jv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=le(),i=le();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Uv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Bv=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return gC()?8:ZV(jt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Uv;return this.ws(e,t,s).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,t,s,c.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(ys()<=ue.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",vs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(ys()<=ue.DEBUG&&L("QueryEngine","Query:",vs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ys()<=ue.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",vs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pn(t))):x.resolve())}ps(e,t){if(RS(t))return x.resolve(null);let r=Pn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=av(t,null,"F"),r=Pn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=le(...o);return this.gs.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,c);return this.Ds(t,l,s,u.readTime)?this.ps(e,av(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return RS(t)||i.isEqual(te.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?x.resolve(null):(ys()<=ue.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vs(t)),this.vs(e,s,t,WV(i,Bc)).next(c=>c))})}bs(e,t){let r=new Xe(F0(e));return t.forEach((i,o)=>{Lh(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return ys()<=ue.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",vs(t)),this.gs.getDocumentsMatchingQuery(e,t,io.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var k_="LocalStore",Z2=3e8,$v=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Oe(se),this.Ms=new fr(o=>R_(o),N_),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rv(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function J2(n,e,t,r){return new $v(n,e,t,r)}function nA(n,e){return C(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=le();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function X2(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(c,u,l,f){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(A=>{y=y.next(()=>f.getEntry(u,A)).next(M=>{let R=l.docVersions.get(A);Ie(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),y.next(()=>c.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let u=le();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function rA(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function ej(n,e){let t=X(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let c=[];e.targetChanges.forEach((f,p)=>{let m=i.get(p);if(!m)return;c.push(t.hi.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,f.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(gt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(p,y),(function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Z2?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,y,f)&&c.push(t.hi.updateTargetData(o,y))});let u=pr(),l=le();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(tj(o,s,e.documentUpdates).next(f=>{u=f.Ls,l=f.ks})),!r.isEqual(te.min())){let f=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(f)}return x.waitFor(c).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function tj(n,e,t){let r=le(),i=le();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=pr();return t.forEach((c,u)=>{let l=o.get(c);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(c)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(c,u.readTime),s=s.insert(c,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(c,u)):L(k_,"Ignoring outdated watch update for ",c,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function nj(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=T_),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function rj(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Wc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Hv(n,e,t){return C(this,null,function*(){let r=X(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Bs(s))throw s;L(k_,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function $S(n,e,t){let r=X(n),i=te.min(),o=le();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,f){let p=X(u),m=p.Ms.get(f);return m!==void 0?x.resolve(p.Fs.get(m)):p.hi.getTargetData(l,f)})(r,s,Pn(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,c.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:te.min(),t?o:le())).next(c=>(ij(r,y2(e),c),{documents:c,qs:o})))}function ij(n,e,t){let r=n.xs.get(e)||te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var yh=class{constructor(){this.activeTargetIds=D2()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var qv=class{constructor(){this.Fo=new yh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new yh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var zv=class{xo(e){}shutdown(){}};var HS="ConnectivityMonitor",vh=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(HS,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(HS,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Zd=null;function Gv(){return Zd===null?Zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zd++,"0x"+Zd.toString(16)}var Fy="RestConnection",oj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Wv=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Gv(),c=this.Go(e,t.toUriEncodedString());L(Fy,`Sending RPC '${e}' ${s}:`,c,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(c),f=Hi(l);return this.jo(e,c,u,r,f).then(p=>(L(Fy,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Zr(Fy,`RPC '${e}' ${s} failed with error: `,p,"url: ",c,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+js})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=oj[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Kv=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ft="WebChannelConnection",Qv=class extends Wv{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Gv();return new Promise((c,u)=>{let l=new Ny;l.setWithCredentials(!0),l.listenOnce(My.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case kc.NO_ERROR:let p=l.getResponseJson();L(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),c(p);break;case kc.TIMEOUT:L(ft,`RPC '${e}' ${s} timed out`),u(new V(P.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:let m=l.getStatus();if(L(ft,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let M=(function(F){let K=F.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(K)>=0?K:P.UNKNOWN})(A.status);u(new V(M,A.message))}else u(new V(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(P.UNAVAILABLE,"Connection failed."));break;default:z(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(ft,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);L(ft,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",f,r,15)})}P_(e,t,r){let i=Gv(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ky(),c=xy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");L(ft,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u);this.T_(p);let m=!1,y=!1,A=new Kv({Ho:R=>{y?L(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,F,K)=>{R.listen(F,Y=>{try{K(Y)}catch(be){setTimeout(()=>{throw be},0)}})};return M(p,ms.EventType.OPEN,()=>{y||(L(ft,`RPC '${e}' stream ${i} transport opened.`),A.s_())}),M(p,ms.EventType.CLOSE,()=>{y||(y=!0,L(ft,`RPC '${e}' stream ${i} transport closed`),A.__(),this.I_(p))}),M(p,ms.EventType.ERROR,R=>{y||(y=!0,Zr(ft,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),A.__(new V(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,ms.EventType.MESSAGE,R=>{var F;if(!y){let K=R.data[0];Ie(!!K,16349);let Y=K,be=Y?.error||((F=Y[0])===null||F===void 0?void 0:F.error);if(be){L(ft,`RPC '${e}' stream ${i} received error:`,be);let mt=be.status,we=(function(E){let I=qe[E];if(I!==void 0)return W0(I)})(mt),w=be.message;we===void 0&&(we=P.INTERNAL,w="Unknown error status: "+mt+" with message "+be.message),y=!0,A.__(new V(we,w)),p.close()}else L(ft,`RPC '${e}' stream ${i} received:`,K),A.a_(K)}}),M(c,Py.STAT_EVENT,R=>{R.stat===Kd.PROXY?L(ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Kd.NOPROXY&&L(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Ly(){return typeof document<"u"?document:null}function Vh(n){return new mv(n,!0)}var _h=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var qS="PersistentStream",Eh=class{constructor(e,t,r,i,o,s,c,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _h(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return C(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return C(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return C(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(lr(t.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new V(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>C(this,null,function*(){this.state=0,this.start()}))}G_(e){return L(qS,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(L(qS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Yv=class extends Eh{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=L2(this.serializer,e),r=(function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?xn(s.readTime):te.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Ev(this.serializer),t.addTarget=(function(o,s){let c,u=s.target;if(c=sv(u)?{documents:U2(o,u)}:{query:B2(o,u).Vt},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=K0(o,s.resumeToken);let l=yv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){c.readTime=fh(o,s.snapshotVersion.toTimestamp());let l=yv(o,s.expectedCount);l!==null&&(c.expectedCount=l)}return c})(this.serializer,e);let r=H2(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Ev(this.serializer),t.removeTarget=e,this.k_(t)}},Zv=class extends Eh{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=j2(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Ev(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>V2(this.serializer,r))};this.k_(t)}};var Jv=class{},Xv=class extends Jv{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,vv(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(P.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Jo(e,vv(t,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(P.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},e_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(lr(t),this._a=!1):L("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var co="RemoteStore",t_=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>C(this,null,function*(){uo(this)&&(L(co,"Restarting streams for network reachability change."),yield(function(u){return C(this,null,function*(){let l=X(u);l.Ia.add(4),yield Jc(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield jh(l)})})(this))}))}),this.Aa=new e_(r,i)}};function jh(n){return C(this,null,function*(){if(uo(n))for(let e of n.da)yield e(!0)})}function Jc(n){return C(this,null,function*(){for(let e of n.da)yield e(!1)})}function iA(n,e){let t=X(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),V_(t)?L_(t):$s(t).x_()&&F_(t,e))}function O_(n,e){let t=X(n),r=$s(t);t.Ta.delete(e),r.x_()&&oA(t,e),t.Ta.size===0&&(r.x_()?r.B_():uo(t)&&t.Aa.set("Unknown"))}function F_(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$s(n).H_(e)}function oA(n,e){n.Ra.$e(e),$s(n).Y_(e)}function L_(n){n.Ra=new gv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),$s(n).start(),n.Aa.aa()}function V_(n){return uo(n)&&!$s(n).M_()&&n.Ta.size>0}function uo(n){return X(n).Ia.size===0}function sA(n){n.Ra=void 0}function sj(n){return C(this,null,function*(){n.Aa.set("Online")})}function aj(n){return C(this,null,function*(){n.Ta.forEach((e,t)=>{F_(n,e)})})}function cj(n,e){return C(this,null,function*(){sA(n),V_(n)?(n.Aa.la(e),L_(n)):n.Aa.set("Unknown")})}function uj(n,e,t){return C(this,null,function*(){if(n.Aa.set("Online"),e instanceof dh&&e.state===2&&e.cause)try{yield(function(i,o){return C(this,null,function*(){let s=o.cause;for(let c of o.targetIds)i.Ta.has(c)&&(yield i.remoteSyncer.rejectListen(c,s),i.Ta.delete(c),i.Ra.removeTarget(c))})})(n,e)}catch(r){L(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ih(n,r)}else if(e instanceof ws?n.Ra.Ye(e):e instanceof lh?n.Ra.it(e):n.Ra.et(e),!t.isEqual(te.min()))try{let r=yield rA(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let c=o.Ra.Pt(s);return c.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.Ta.get(l);f&&o.Ta.set(l,f.withResumeToken(u.resumeToken,s))}}),c.targetMismatches.forEach((u,l)=>{let f=o.Ta.get(u);if(!f)return;o.Ta.set(u,f.withResumeToken(gt.EMPTY_BYTE_STRING,f.snapshotVersion)),oA(o,u);let p=new Wc(f.target,u,l,f.sequenceNumber);F_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)})(n,t))}catch(r){L(co,"Failed to raise snapshot:",r),yield Ih(n,r)}})}function Ih(n,e,t){return C(this,null,function*(){if(!Bs(e))throw e;n.Ia.add(1),yield Jc(n),n.Aa.set("Offline"),t||(t=()=>rA(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(null,null,function*(){L(co,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield jh(n)}))})}function aA(n,e){return e().catch(t=>Ih(n,t,e))}function Uh(n){return C(this,null,function*(){let e=X(n),t=Xr(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:T_;for(;lj(e);)try{let i=yield nj(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,dj(e,i)}catch(i){yield Ih(e,i)}cA(e)&&uA(e)})}function lj(n){return uo(n)&&n.Pa.length<10}function dj(n,e){n.Pa.push(e);let t=Xr(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function cA(n){return uo(n)&&!Xr(n).M_()&&n.Pa.length>0}function uA(n){Xr(n).start()}function hj(n){return C(this,null,function*(){Xr(n).na()})}function fj(n){return C(this,null,function*(){let e=Xr(n);for(let t of n.Pa)e.X_(t.mutations)})}function pj(n,e,t){return C(this,null,function*(){let r=n.Pa.shift(),i=dv.from(r,e,t);yield aA(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Uh(n)})}function gj(n,e){return C(this,null,function*(){e&&Xr(n).Z_&&(yield(function(r,i){return C(this,null,function*(){if((function(s){return N2(s)&&s!==P.ABORTED})(i.code)){let o=r.Pa.shift();Xr(r).N_(),yield aA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Uh(r)}})})(n,e)),cA(n)&&uA(n)})}function zS(n,e){return C(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),L(co,"RemoteStore received new credentials");let r=uo(t);t.Ia.add(3),yield Jc(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield jh(t)})}function mj(n,e){return C(this,null,function*(){let t=X(n);e?(t.Ia.delete(2),yield jh(t)):e||(t.Ia.add(2),yield Jc(t),t.Aa.set("Unknown"))})}function $s(n){return n.Va||(n.Va=(function(t,r,i){let o=X(t);return o.ia(),new Yv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:sj.bind(null,n),e_:aj.bind(null,n),n_:cj.bind(null,n),J_:uj.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.Va.N_(),V_(n)?L_(n):n.Aa.set("Unknown")):(yield n.Va.stop(),sA(n))}))),n.Va}function Xr(n){return n.ma||(n.ma=(function(t,r,i){let o=X(t);return o.ia(),new Zv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:hj.bind(null,n),n_:gj.bind(null,n),ea:fj.bind(null,n),ta:pj.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.ma.N_(),yield Uh(n)):(yield n.ma.stop(),n.Pa.length>0&&(L(co,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var n_=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,c=new n(e,t,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function j_(n,e){if(lr("AsyncQueue",`${e}: ${n}`),Bs(n))return new V(P.UNAVAILABLE,`${e}: ${n}`);throw n}var wh=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=Oc(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Dh=class{constructor(){this.fa=new Oe(q.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):z(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Fs=class n{constructor(e,t,r,i,o,s,c,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new n(e,t,wh.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var r_=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},i_=class{constructor(){this.queries=GS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=GS(),o.forEach((s,c)=>{for(let u of c.wa)u.onError(r)})})(this,new V(P.ABORTED,"Firestore shutting down"))}};function GS(){return new fr(n=>O0(n),Fh)}function yj(n,e){return C(this,null,function*(){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new r_,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let c=j_(s,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(c)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&U_(t)})}function vj(n,e){return C(this,null,function*(){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function _j(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let c of s.wa)c.Ca(i)&&(r=!0);s.ya=i}}r&&U_(t)}function Ej(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function U_(n){n.Da.forEach(e=>{e.next()})}var o_,WS;(WS=o_||(o_={})).Fa="default",WS.Cache="cache";var s_=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Fs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Fs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==o_.Cache}};var Th=class{constructor(e){this.key=e}},bh=class{constructor(e){this.key=e}},a_=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=le(),this.mutatedKeys=le(),this.Xa=F0(e),this.eu=new wh(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Dh,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,c=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let m=i.get(f),y=Lh(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?A!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(c=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(c=!0)),R&&(y?(s=s.add(y),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:c,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,p)=>(function(y,A){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{At:R})}};return M(y)-M(A)})(f.type,p.type)||this.Xa(f.doc,p.doc)),this.su(r),i=i!=null&&i;let c=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Fs(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Dh,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=le(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new bh(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Th(r))}),t}uu(e){this.Ha=e.qs,this.Za=le();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Fs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},B_="SyncEngine",c_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},u_=class{constructor(e){this.key=e,this.lu=!1}},l_=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new fr(c=>O0(c),Fh),this.Tu=new Map,this.Iu=new Set,this.du=new Oe(q.comparator),this.Eu=new Map,this.Au=new Qc,this.Ru={},this.Vu=new Map,this.mu=Kc.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function Ij(n,e,t=!0){return C(this,null,function*(){let r=gA(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield lA(r,e,t,!0),i})}function wj(n,e){return C(this,null,function*(){let t=gA(n);yield lA(t,e,!0,!1)})}function lA(n,e,t,r){return C(this,null,function*(){let i=yield rj(n.localStore,Pn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),c;return r&&(c=yield Dj(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&iA(n.remoteStore,i),c})}function Dj(n,e,t,r,i){return C(this,null,function*(){n.gu=(p,m,y)=>(function(M,R,F,K){return C(this,null,function*(){let Y=R.view.nu(F);Y.Ds&&(Y=yield $S(M.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,Y)));let be=K&&K.targetChanges.get(R.targetId),mt=K&&K.targetMismatches.get(R.targetId)!=null,we=R.view.applyChanges(Y,M.isPrimaryClient,be,mt);return QS(M,R.targetId,we._u),we.snapshot})})(n,p,m,y);let o=yield $S(n.localStore,e,!0),s=new a_(e,o.qs),c=s.nu(o.documents),u=Gc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(c,n.isPrimaryClient,u);QS(n,t,l._u);let f=new c_(e,t,s);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function Tj(n,e,t){return C(this,null,function*(){let r=X(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Fh(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Hv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&O_(r.remoteStore,i.targetId),d_(r,i.targetId)}).catch(Us))):(d_(r,i.targetId),yield Hv(r.localStore,i.targetId,!0))})}function bj(n,e){return C(this,null,function*(){let t=X(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),O_(t.remoteStore,r.targetId))})}function Cj(n,e,t){return C(this,null,function*(){let r=xj(n);try{let i=yield(function(s,c){let u=X(s),l=We.now(),f=c.reduce((y,A)=>y.add(A.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=pr(),M=le();return u.Os.getEntries(y,f).next(R=>{A=R,A.forEach((F,K)=>{K.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(R=>{p=R;let F=[];for(let K of c){let Y=R2(K,p.get(K.key).overlayedDocument);Y!=null&&F.push(new Fn(K.key,Y,R0(Y.value.mapValue),ur.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,c)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:V0(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,c,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Oe(se)),l=l.insert(c,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield Xc(r,i.changes),yield Uh(r.remoteStore)}catch(i){let o=j_(i,"Failed to persist write");t.reject(o)}})}function dA(n,e){return C(this,null,function*(){let t=X(n);try{let r=yield ej(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ie(s.lu,14607):i.removedDocuments.size>0&&(Ie(s.lu,42227),s.lu=!1))}),yield Xc(t,r,e)}catch(r){yield Us(r)}})}function KS(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let c=s.view.va(e);c.snapshot&&i.push(c.snapshot)}),(function(s,c){let u=X(s);u.onlineState=c;let l=!1;u.queries.forEach((f,p)=>{for(let m of p.wa)m.va(c)&&(l=!0)}),l&&U_(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Sj(n,e,t){return C(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(q.comparator);s=s.insert(o,mn.newNoDocument(o,te.min()));let c=le().add(o),u=new uh(te.min(),new Map,new Oe(se),s,c);yield dA(r,u),r.du=r.du.remove(o),r.Eu.delete(e),$_(r)}else yield Hv(r.localStore,e,!1).then(()=>d_(r,e,t)).catch(Us)})}function Aj(n,e){return C(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield X2(t.localStore,e);fA(t,r,null),hA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Xc(t,i)}catch(i){yield Us(i)}})}function Rj(n,e,t){return C(this,null,function*(){let r=X(n);try{let i=yield(function(s,c){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(p=>(Ie(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})})(r.localStore,e);fA(r,e,t),hA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Xc(r,i)}catch(i){yield Us(i)}})}function hA(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function fA(n,e,t){let r=X(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function d_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||pA(n,r)})}function pA(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(O_(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),$_(n))}function QS(n,e,t){for(let r of t)r instanceof Th?(n.Au.addReference(r.key,e),Nj(n,r)):r instanceof bh?(L(B_,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||pA(n,r.key)):z(19791,{yu:r})}function Nj(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(L(B_,"New document in limbo: "+t),n.Iu.add(r),$_(n))}function $_(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new q(Pe.fromString(e)),r=n.mu.next();n.Eu.set(r,new u_(t)),n.du=n.du.insert(t,r),iA(n.remoteStore,new Wc(Pn(M_(t.path)),r,"TargetPurposeLimboResolution",D_.ue))}}function Xc(n,e,t){return C(this,null,function*(){let r=X(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((c,u)=>{s.push(r.gu(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=jv.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return C(this,null,function*(){let f=X(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Is,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Bs(p))throw p;L(k_,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=f.Fs.get(m),A=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(A);f.Fs=f.Fs.insert(m,M)}}})})(r.localStore,o))})}function Mj(n,e){return C(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){L(B_,"User change. New user:",e.toKey());let r=yield nA(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(c=>{c.forEach(u=>{u.reject(new V(P.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xc(t,r.Bs)}})}function Pj(n,e){let t=X(n),r=t.Eu.get(e);if(r&&r.lu)return le().add(r.key);{let i=le(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let c=t.Pu.get(s);i=i.unionWith(c.view.tu)}return i}}function gA(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sj.bind(null,e),e.hu.J_=_j.bind(null,e.eventManager),e.hu.pu=Ej.bind(null,e.eventManager),e}function xj(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rj.bind(null,e),e}var mA=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Vh(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return J2(this.persistence,new Bv,t.initialUser,this.serializer)}Du(t){return new gh(Vv.Vi,this.serializer)}bu(t){return new qv}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),h_=class extends mA{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ie(this.persistence.referenceDelegate instanceof mh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new bv(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new gh(r=>mh.Vi(r,t),this.serializer)}};var kj=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>KS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mj.bind(null,this.syncEngine),yield mj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new i_})()}createDatastore(t){let r=Vh(t.databaseInfo.databaseId),i=(function(s){return new Qv(s)})(t.databaseInfo);return(function(s,c,u,l){return new Xv(s,c,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,c,u){return new t_(i,o,s,c,u)})(this.localStore,this.datastore,t.asyncQueue,r=>KS(this.syncEngine,r,0),(function(){return vh.C()?new vh:new zv})())}createSyncEngine(t,r){return(function(o,s,c,u,l,f,p){let m=new l_(o,s,c,u,l,f);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield(function(o){return C(this,null,function*(){let s=X(o);L(co,"RemoteStore shutting down."),s.Ia.add(5),yield Jc(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var f_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ei="FirestoreClient",p_=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=Uc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){L(ei,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(ei,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=j_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Vy(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L(ei,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(null,null,function*(){r.isEqual(i)||(yield nA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Zr("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Zr("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function YS(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Oj(n);L(ei,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>zS(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>zS(e.remoteStore,i)),n._onlineComponents=e})}function Oj(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(ei,"Using user provided OfflineComponentProvider");try{yield Vy(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Zr("Error using user provided cache. Falling back to memory cache: "+t),yield Vy(n,new mA)}}else L(ei,"Using default OfflineComponentProvider"),yield Vy(n,new h_(void 0));return n._offlineComponents})}function yA(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(ei,"Using user provided OnlineComponentProvider"),yield YS(n,n._uninitializedComponentsProvider._online)):(L(ei,"Using default OnlineComponentProvider"),yield YS(n,new kj))),n._onlineComponents})}function Fj(n){return yA(n).then(e=>e.syncEngine)}function ZS(n){return C(this,null,function*(){let e=yield yA(n),t=e.eventManager;return t.onListen=Ij.bind(null,e.syncEngine),t.onUnlisten=Tj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bj.bind(null,e.syncEngine),t})}function vA(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var JS=new Map;var _A="firestore.googleapis.com",XS=!0,Ch=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_A,this.ssl=XS}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:XS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Q2)throw new V(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ls=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ch({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ch(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new jy;switch(r.type){case"firstParty":return new Hy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=JS.get(t);r&&(L("ComponentProvider","Removing Datastore"),JS.delete(t),r.terminate())})(this),Promise.resolve()}};function EA(n,e,t,r={}){var i;n=Gr(n,Ls);let o=Hi(e),s=n._getSettings(),c=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(qm(`https://${u}`),zm("Firestore",!0)),s.host!==_A&&s.host!==u&&Zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!qi(l,c)&&(n._setSettings(l),r.mockUserToken)){let f,p;if(typeof r.mockUserToken=="string")f=r.mockUserToken,p=Je.MOCK_USER;else{f=lC(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Je(m)}n._authCredentials=new Uy(new th(f,p))}}var Sh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},pt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Zc(t,n._jsonSchema))return new n(e,r||null,new q(Pe.fromString(t.referencePath)))}};pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Ge("string",pt._jsonSchemaVersion),referencePath:Ge("string")};var Wr=class n extends Sh{constructor(e,t,r){super(e,t,M_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function IA(n,e,...t){if(n=ht(n),o0("collection","path",e),n instanceof Ls){let r=Pe.fromString(e,...t);return yS(r),new Wr(n,null,r)}{if(!(n instanceof pt||n instanceof Wr))throw new V(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return yS(r),new Wr(n.firestore,null,r)}}function H_(n,e,...t){if(n=ht(n),arguments.length===1&&(e=Uc.newId()),o0("doc","path",e),n instanceof Ls){let r=Pe.fromString(e,...t);return mS(r),new pt(n,null,new q(r))}{if(!(n instanceof pt||n instanceof Wr))throw new V(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return mS(r),new pt(n.firestore,n instanceof Wr?n.converter:null,new q(r))}}var e0="AsyncQueue",Ah=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _h(this,"async_queue_retry"),this.oc=()=>{let r=Ly();r&&L(e0,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Ly();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Ly();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new cr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return C(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Bs(e))throw e;L(e0,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,lr("INTERNAL UNHANDLED ERROR: ",t0(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=n_.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&z(47125,{hc:t0(this.tc)})}verifyOperationInProgress(){}Pc(){return C(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function t0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function n0(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var ti=class extends Ls{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ah,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ah(e),this._firestoreClient=void 0,yield e}})}};function wA(n,e){let t=typeof n=="object"?n:fs(),r=typeof n=="string"?n:e||sh,i=Rd(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=cC("firestore");o&&EA(i,...o)}return i}function DA(n){if(n._terminated)throw new V(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Lj(n),n._firestoreClient}function Lj(n){var e,t,r;let i=n._freezeSettings(),o=(function(c,u,l,f){return new Ky(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,vA(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new p_(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(c){let u=c?._online.build();return{_offline:c?._offline.build(u),_online:u}})(n._componentsProvider))}var Kr=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(gt.fromBase64String(e))}catch(t){throw new V(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zc(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};Kr._jsonSchemaVersion="firestore/bytes/1.0",Kr._jsonSchema={type:Ge("string",Kr._jsonSchemaVersion),bytes:Ge("string")};var Vs=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new V(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Yc=class{constructor(e){this._methodName=e}};var Qr=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new V(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new V(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Zc(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Qr._jsonSchemaVersion="firestore/geoPoint/1.0",Qr._jsonSchema={type:Ge("string",Qr._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};var Yr=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zc(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new V(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Yr._jsonSchemaVersion="firestore/vectorValue/1.0",Yr._jsonSchema={type:Ge("string",Yr._jsonSchemaVersion),vectorValues:Ge("object")};var Vj=/^__.*__$/,g_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Fn(e,this.data,this.fieldMask,t,this.fieldTransforms):new ao(e,this.data,t,this.fieldTransforms)}},Rh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function TA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{Ec:n})}}var m_=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Mh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(TA(this.Ec)&&Vj.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},y_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vh(e)}Dc(e,t,r,i=!1){return new m_({Ec:e,methodName:t,bc:r,path:Bt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function bA(n){let e=n._freezeSettings(),t=Vh(n._databaseId);return new y_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jj(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);q_("Data must be an object, but it was:",s,r);let c=CA(r,s),u,l;if(o.merge)u=new Zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let m=v_(e,p,t);if(!s.contains(m))throw new V(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);AA(f,m)||f.push(m)}u=new Zt(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new g_(new Ut(c),u,l)}var Nh=class n extends Yc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Uj(n,e,t,r){let i=n.Dc(1,e,t);q_("Data must be an object, but it was:",i,r);let o=[],s=Ut.empty();ni(r,(u,l)=>{let f=z_(e,u,t);l=ht(l);let p=i.gc(f);if(l instanceof Nh)o.push(f);else{let m=Bh(l,p);m!=null&&(o.push(f),s.set(f,m))}});let c=new Zt(o);return new Rh(s,c,i.fieldTransforms)}function Bj(n,e,t,r,i,o){let s=n.Dc(1,e,t),c=[v_(e,r,t)],u=[i];if(o.length%2!=0)throw new V(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)c.push(v_(e,o[m])),u.push(o[m+1]);let l=[],f=Ut.empty();for(let m=c.length-1;m>=0;--m)if(!AA(l,c[m])){let y=c[m],A=u[m];A=ht(A);let M=s.gc(y);if(A instanceof Nh)l.push(y);else{let R=Bh(A,M);R!=null&&(l.push(y),f.set(y,R))}}let p=new Zt(l);return new Rh(f,p,s.fieldTransforms)}function Bh(n,e){if(SA(n=ht(n)))return q_("Unsupported field value:",e,n),CA(n,e);if(n instanceof Yc)return(function(r,i){if(!TA(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let c of r){let u=Bh(c,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=We.fromDate(r);return{timestampValue:fh(i.serializer,o)}}if(r instanceof We){let o=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(i.serializer,o)}}if(r instanceof Qr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kr)return{bytesValue:K0(i.serializer,r._byteString)};if(r instanceof pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:x_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Yr)return(function(s,c){return{mapValue:{fields:{[C_]:{stringValue:S_},[Cs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw c.wc("VectorValues must only contain numeric values.");return P_(c.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${w_(r)}`)})(n,e)}function CA(n,e){let t={};return I0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ni(n,(r,i)=>{let o=Bh(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function SA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof We||n instanceof Qr||n instanceof Kr||n instanceof pt||n instanceof Yc||n instanceof Yr)}function q_(n,e,t){if(!SA(t)||!s0(t)){let r=w_(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function v_(n,e,t){if((e=ht(e))instanceof Vs)return e._internalPath;if(typeof e=="string")return z_(n,e);throw Mh("Field path arguments must be of type string or ",n,!1,void 0,t)}var $j=new RegExp("[~\\*/\\[\\]]");function z_(n,e,t){if(e.search($j)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vs(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Mh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(P.INVALID_ARGUMENT,c+n+u)}function AA(n,e){return n.some(t=>t.isEqual(e))}var Ph=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new __(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(RA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},__=class extends Ph{data(){return super.data()}};function RA(n,e){return typeof e=="string"?z_(n,e):e instanceof Vs?e._internalPath:e._delegate._internalPath}function Hj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new V(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var E_=class{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ni(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Cs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new Yr(o)}convertGeoPoint(e){return new Qr(Ne(e.latitude),Ne(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Oh(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hc(e));default:return null}}convertTimestamp(e){let t=dr(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Pe.fromString(e);Ie(eA(r),9688,{name:e});let i=new ah(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function qj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var to=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},no=class n extends Ph{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ds(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(RA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};no._jsonSchemaVersion="firestore/documentSnapshot/1.0",no._jsonSchema={type:Ge("string",no._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};var Ds=class extends no{data(e={}){return super.data(e)}},Ts=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new to(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ds(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new V(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>{let u=new Ds(i._firestore,i._userDataWriter,c.doc.key,c.doc,new to(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let u=new Ds(i._firestore,i._userDataWriter,c.doc.key,c.doc,new to(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return c.type!==0&&(l=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:zj(c.type),doc:u,oldIndex:l,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uc.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function zj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:n})}}Ts._jsonSchemaVersion="firestore/querySnapshot/1.0",Ts._jsonSchema={type:Ge("string",Ts._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};var xh=class extends E_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kr(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}};function NA(n,e,t,...r){n=Gr(n,pt);let i=Gr(n.firestore,ti),o=bA(i),s;return s=typeof(e=ht(e))=="string"||e instanceof Vs?Bj(o,"updateDoc",n._key,e,t,r):Uj(o,"updateDoc",n._key,e),W_(i,[s.toMutation(n._key,ur.exists(!0))])}function MA(n){return W_(Gr(n.firestore,ti),[new zc(n._key,ur.none())])}function PA(n,e){let t=Gr(n.firestore,ti),r=H_(n),i=qj(n.converter,e);return W_(t,[jj(bA(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function G_(n,...e){var t,r,i;n=ht(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||n0(e[s])||(o=e[s++]);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(n0(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof pt)l=Gr(n.firestore,ti),f=M_(n._key.path),u={next:p=>{e[s]&&e[s](Gj(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Gr(n,Sh);l=Gr(p.firestore,ti),f=p._query;let m=new xh(l);u={next:y=>{e[s]&&e[s](new Ts(l,m,p,y))},error:e[s+1],complete:e[s+2]},Hj(n._query)}return(function(m,y,A,M){let R=new f_(M),F=new s_(y,R,A);return m.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return yj(yield ZS(m),F)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return vj(yield ZS(m),F)}))}})(DA(l),f,c,u)}function W_(n,e){return(function(r,i){let o=new cr;return r.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return Cj(yield Fj(r),i,o)})),o.promise})(DA(n),e)}function Gj(n,e,t){let r=t.docs.get(e._key),i=new xh(n);return new no(n,i,e._key,r,new to(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){js=i})(hs),pn(new wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new ti(new By(r.getProvider("auth-internal")),new qy(s,r.getProvider("app-check-internal")),(function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ah(l.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),je(hS,fS,e),je(hS,fS,"esm2017")})();var $h=function(){return $h=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},$h.apply(this,arguments)};var Qj={includeMetadataChanges:!1};function xA(n,e){return e===void 0&&(e=Qj),new re(function(t){var r=G_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function kA(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:$h($h({},r),(t={},t[e.idField]=n.id,t))}function OA(n){return xA(n,{includeMetadataChanges:!0}).pipe(ce(function(e){return e.docs}))}function FA(n,e){return e===void 0&&(e={}),OA(n).pipe(ce(function(t){return t.map(function(r){return kA(r,e)})}))}var yn=class{constructor(e){return e}},LA="firestore",K_=class{constructor(){return gs(LA)}};var Q_=new U("angularfire2.firestore-instances");function Yj(n,e){let t=Pd(LA,n,e);return t&&new yn(t)}function Zj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new yn(r)}}var Jj={provide:K_,deps:[[new Zn,Q_]]},Xj={provide:yn,useFactory:Yj,deps:[[new Zn,Q_],Qi]};function VA(n,...e){return je("angularfire",Wi.full,"fst"),$t([Xj,Jj,{provide:Q_,useFactory:Zj(n),multi:!0,deps:[Te,Ue,Ki,Sc,[new Zn,Gd],[new Zn,kd],...e]}])}var Hs=Qt(FA,!0);var qs=Qt(PA,!0,2);var gr=Qt(IA,!0,2);var zs=Qt(MA,!0,2);var mr=Qt(H_,!0,2);var jA=Qt(wA,!0);var Gs=Qt(NA,!0,2);function eU(n,e){if(n&1){let t=ki();H(0,"div",9)(1,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.name=i.target.value)}),$(),H(2,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.barangay=i.target.value)}),$(),H(3,"input",11),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.capacity=i.target.valueAsNumber)}),$(),H(4,"input",11),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.population=i.target.valueAsNumber)}),$(),H(5,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.status=i.target.value)}),$(),H(6,"button",12),Q("click",function(){let i=Se(t).$implicit,o=Dn();return Ae(o.updatecenter(i.id,i.name,i.barangay,i.capacity,i.population,i.status))}),He(7,"Update"),$(),H(8,"button",12),Q("click",function(){let i=Se(t).$implicit,o=Dn();return Ae(o.deletecenter(i.id))}),He(9,"Delete"),$()()}if(n&2){let t=e.$implicit;oe(),ae("value",t.name),oe(),ae("value",t.barangay),oe(),ae("value",t.capacity),oe(),ae("value",t.population),oe(),ae("value",t.status)}}var Hh=class n{constructor(e){this.firestore=e;let t=gr(this.firestore,"evacuation_centers");Hs(t,{idField:"id"}).subscribe(r=>{this.center=r})}title=Ee("Evacuation Center");centername=Ee("");centerbarangay=Ee("");centercapacity=Ee(0);centercurrentPopulation=Ee(0);centerstatus=Ee("");center=[];addcenter(){let e=this.centername(),t=this.centerbarangay(),r=this.centercapacity(),i=this.centercurrentPopulation(),o=this.centerstatus();if(e&&t&&r&&i&&o){let s=gr(this.firestore,"evacuation_centers");qs(s,{name:e,barangay:t,capacity:r,population:i,status:o}),this.centername.set(""),this.centerbarangay.set(""),this.centercapacity.set(0),this.centercurrentPopulation.set(0),this.centerstatus.set("")}else alert("null")}deletecenter(e){let t=mr(this.firestore,`evacuation_centers/${e}`);zs(t)}updatecenter(e,t,r,i,o,s){let c=mr(this.firestore,`evacuation_centers/${e}`);Gs(c,{name:t,barangay:r,capacity:i,population:o,status:s})}static \u0275fac=function(t){return new(t||n)(At(yn))};static \u0275cmp=un({type:n,selectors:[["app-evacuation-center"]],decls:13,vars:7,consts:[[2,"text-align","center","margin-top","20px"],[2,"padding","2px","margin","2px","display","flex","flex-wrap","wrap","gap","10px","justify-content","center"],["type","text","placeholder","Center Name",2,"flex","1","min-width","120px",3,"input","value"],["type","text","placeholder","Barangay",2,"flex","1","min-width","120px",3,"input","value"],["type","number","placeholder","Capacity",2,"flex","1","min-width","120px",3,"input","value"],["type","number","placeholder","Current Population",2,"flex","1","min-width","120px",3,"input","value"],["type","text","placeholder","Status",2,"flex","1","min-width","120px",3,"input","value"],[2,"align-self","center",3,"click"],["style","display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 10px 0;",4,"ngFor","ngForOf"],[2,"display","flex","flex-wrap","wrap","gap","10px","justify-content","center","margin","10px 0"],[2,"flex","1","min-width","100px",3,"input","value"],["type","number",2,"flex","1","min-width","100px",3,"input","value"],[3,"click"]],template:function(t,r){t&1&&(H(0,"div",0)(1,"h1"),He(2),$(),H(3,"div",1)(4,"input",2),Q("input",function(o){return r.centername.set(o.target.value)}),$(),H(5,"input",3),Q("input",function(o){return r.centerbarangay.set(o.target.value)}),$(),H(6,"input",4),Q("input",function(o){return r.centercapacity.set(o.target.valueAsNumber)}),$(),H(7,"input",5),Q("input",function(o){return r.centercurrentPopulation.set(o.target.valueAsNumber)}),$(),H(8,"input",6),Q("input",function(o){return r.centerstatus.set(o.target.value)}),$(),H(9,"button",7),Q("click",function(){return r.addcenter()}),He(10,"Add"),$()(),Ot(11,"hr"),kr(12,eU,10,5,"div",8),$()),t&2&&(oe(2),Fr(r.title()),oe(2),ae("value",r.centername()),oe(),ae("value",r.centerbarangay()),oe(),ae("value",r.centercapacity()),oe(),ae("value",r.centercurrentPopulation()),oe(),ae("value",r.centerstatus()),oe(4),ae("ngForOf",r.center))},dependencies:[Tn,Vr,$r],encapsulation:2})};function tU(n,e){if(n&1){let t=ki();H(0,"div",9)(1,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.location=i.target.value)}),$(),H(2,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.date=i.target.value)}),$(),H(3,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.type=i.target.value)}),$(),H(4,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.damage=i.target.value)}),$(),H(5,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.remarks=i.target.value)}),$(),H(6,"button",11),Q("click",function(){let i=Se(t).$implicit,o=Dn();return Ae(o.updateincident(i.id,i.location,i.date,i.type,i.damage,i.remarks))}),He(7,"Update"),$(),H(8,"button",11),Q("click",function(){let i=Se(t).$implicit,o=Dn();return Ae(o.deleteincident(i.id))}),He(9,"Delete"),$()()}if(n&2){let t=e.$implicit;oe(),ae("value",t.location),oe(),ae("value",t.date),oe(),ae("value",t.type),oe(),ae("value",t.damage),oe(),ae("value",t.remarks)}}var qh=class n{constructor(e){this.firestore=e;let t=gr(this.firestore,"disaster_incidents");Hs(t,{idField:"id"}).subscribe(r=>{this.incedent=r})}title=Ee("Incident Report");incidentlocation=Ee("");incidentdate=Ee("");incidentType=Ee("");incidentdamageLevel=Ee("");incidentremarks=Ee("");incedent=[];addincident(){let e=this.incidentlocation(),t=this.incidentdate(),r=this.incidentType(),i=this.incidentdamageLevel(),o=this.incidentremarks();if(e&&t&&r&&i&&o){let s=gr(this.firestore,"disaster_incidents");qs(s,{location:e,date:t,type:r,damage:i,remarks:o}),this.incidentlocation.set(""),this.incidentdate.set(""),this.incidentType.set(""),this.incidentdamageLevel.set(""),this.incidentremarks.set("")}else alert("Please fill in all fields")}deleteincident(e){let t=mr(this.firestore,`disaster_incidents/${e}`);zs(t)}updateincident(e,t,r,i,o,s){let c=mr(this.firestore,`disaster_incidents/${e}`);Gs(c,{location:t,date:r,type:i,damage:o,remarks:s})}static \u0275fac=function(t){return new(t||n)(At(yn))};static \u0275cmp=un({type:n,selectors:[["app-incident-report"]],decls:13,vars:7,consts:[[2,"text-align","center","margin-top","20px"],[2,"padding","2px","margin","2px","display","flex","flex-wrap","wrap","gap","10px","justify-content","center"],["type","text","placeholder","Location",2,"flex","1","min-width","150px",3,"input","value"],["type","date","placeholder","Date",2,"flex","1","min-width","150px",3,"input","value"],["type","text","placeholder","Incident Type",2,"flex","1","min-width","150px",3,"input","value"],["type","text","placeholder","Damage Level",2,"flex","1","min-width","150px",3,"input","value"],["type","text","placeholder","Remarks",2,"flex","1","min-width","150px",3,"input","value"],[2,"align-self","center",3,"click"],["style","display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 10px 0;",4,"ngFor","ngForOf"],[2,"display","flex","flex-wrap","wrap","gap","10px","justify-content","center","margin","10px 0"],[2,"flex","1","min-width","120px",3,"input","value"],[3,"click"]],template:function(t,r){t&1&&(H(0,"div",0)(1,"h1"),He(2),$(),H(3,"div",1)(4,"input",2),Q("input",function(o){return r.incidentlocation.set(o.target.value)}),$(),H(5,"input",3),Q("input",function(o){return r.incidentdate.set(o.target.value)}),$(),H(6,"input",4),Q("input",function(o){return r.incidentType.set(o.target.value)}),$(),H(7,"input",5),Q("input",function(o){return r.incidentdamageLevel.set(o.target.value)}),$(),H(8,"input",6),Q("input",function(o){return r.incidentremarks.set(o.target.value)}),$(),H(9,"button",7),Q("click",function(){return r.addincident()}),He(10,"Add"),$()(),Ot(11,"hr"),kr(12,tU,10,5,"div",8),$()),t&2&&(oe(2),Fr(r.title()),oe(2),ae("value",r.incidentlocation()),oe(),ae("value",r.incidentdate()),oe(),ae("value",r.incidentType()),oe(),ae("value",r.incidentdamageLevel()),oe(),ae("value",r.incidentremarks()),oe(4),ae("ngForOf",r.incedent))},dependencies:[Tn,Vr,$r],encapsulation:2})};function nU(n,e){if(n&1){let t=ki();H(0,"div",9)(1,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.barangay=i.target.value)}),$(),H(2,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.date=i.target.value)}),$(),H(3,"input",11),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.families=i.target.valueAsNumber)}),$(),H(4,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.items=i.target.value)}),$(),H(5,"input",10),Q("input",function(i){let o=Se(t).$implicit;return Ae(o.distributed=i.target.value)}),$(),H(6,"button",12),Q("click",function(){let i=Se(t).$implicit,o=Dn();return Ae(o.updaterelief(i.id,i.barangay,i.date,i.families,i.items,i.distributed))}),He(7,"Update"),$(),H(8,"button",12),Q("click",function(){let i=Se(t).$implicit,o=Dn();return Ae(o.deleterelief(i.id))}),He(9,"Delete"),$()()}if(n&2){let t=e.$implicit;oe(),ae("value",t.barangay),oe(),ae("value",t.date),oe(),ae("value",t.families),oe(),ae("value",t.items),oe(),ae("value",t.distributed)}}var zh=class n{constructor(e){this.firestore=e;let t=gr(this.firestore,"relief_distribution");Hs(t,{idField:"id"}).subscribe(r=>{this.relief=r})}title=Ee("Relief Distribution");reliefbarangay=Ee("");reliefdate=Ee("");reliefnumberOfFamilies=Ee(0);reliefItems=Ee("");reliefdistributedBy=Ee("");relief=[];addrelief(){let e=this.reliefbarangay(),t=this.reliefdate(),r=this.reliefnumberOfFamilies(),i=this.reliefItems(),o=this.reliefdistributedBy();if(e&&t&&r&&i&&o){let s=gr(this.firestore,"relief_distribution");qs(s,{barangay:e,date:t,families:r,items:i,distributed:o}),this.reliefbarangay.set(""),this.reliefdate.set(""),this.reliefnumberOfFamilies.set(0),this.reliefItems.set(""),this.reliefdistributedBy.set("")}else alert("Please fill in all fields")}deleterelief(e){let t=mr(this.firestore,`relief_distribution/${e}`);zs(t)}updaterelief(e,t,r,i,o,s){let c=mr(this.firestore,`relief_distribution/${e}`);Gs(c,{barangay:t,date:r,families:i,items:o,distributed:s})}static \u0275fac=function(t){return new(t||n)(At(yn))};static \u0275cmp=un({type:n,selectors:[["app-relief-distribution"]],decls:13,vars:7,consts:[[2,"text-align","center","margin-top","20px"],[2,"padding","2px","margin","2px","display","flex","flex-wrap","wrap","gap","10px","justify-content","center"],["type","text","placeholder","Barangay",2,"flex","1","min-width","120px",3,"input","value"],["type","date","placeholder","Date",2,"flex","1","min-width","120px",3,"input","value"],["type","number","placeholder","Number of Families",2,"flex","1","min-width","120px",3,"input","value"],["type","text","placeholder","Distributed By",2,"flex","1","min-width","120px",3,"input","value"],["type","text","placeholder","Items",2,"flex","1","min-width","120px",3,"input","value"],[2,"align-self","center",3,"click"],["style","display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin: 10px 0;",4,"ngFor","ngForOf"],[2,"display","flex","flex-wrap","wrap","gap","10px","justify-content","center","margin","10px 0"],[2,"flex","1","min-width","100px",3,"input","value"],["type","number",2,"flex","1","min-width","100px",3,"input","value"],[3,"click"]],template:function(t,r){t&1&&(H(0,"div",0)(1,"h1"),He(2),$(),H(3,"div",1)(4,"input",2),Q("input",function(o){return r.reliefbarangay.set(o.target.value)}),$(),H(5,"input",3),Q("input",function(o){return r.reliefdate.set(o.target.value)}),$(),H(6,"input",4),Q("input",function(o){return r.reliefnumberOfFamilies.set(o.target.valueAsNumber)}),$(),H(7,"input",5),Q("input",function(o){return r.reliefdistributedBy.set(o.target.value)}),$(),H(8,"input",6),Q("input",function(o){return r.reliefItems.set(o.target.value)}),$(),H(9,"button",7),Q("click",function(){return r.addrelief()}),He(10,"Add"),$()(),Ot(11,"hr"),kr(12,nU,10,5,"div",8),$()),t&2&&(oe(2),Fr(r.title()),oe(2),ae("value",r.reliefbarangay()),oe(),ae("value",r.reliefdate()),oe(),ae("value",r.reliefnumberOfFamilies()),oe(),ae("value",r.reliefdistributedBy()),oe(),ae("value",r.reliefItems()),oe(4),ae("ngForOf",r.relief))},dependencies:[Tn,Vr,$r],encapsulation:2})};var UA=[{path:"",component:Hh},{path:"incident-report",component:qh},{path:"relief-distribution",component:zh}];var BA={providers:[Lp(),Vg({eventCoalescing:!0}),Fm(UA),OC(()=>FC({projectId:"fapd-5ca47",appId:"1:849544561844:web:6b4b407ce5b200054b03e1",storageBucket:"fapd-5ca47.firebasestorage.app",apiKey:"AIzaSyDjHWQsUFi1zq9ba-CwvO6W8hIA6vp3GIc",authDomain:"fapd-5ca47.firebaseapp.com",messagingSenderId:"849544561844"})),VA(()=>jA())]};var Gh=class n{title=Ee("disaster");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=un({type:n,selectors:[["app-root"]],decls:17,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-center"],[1,"navbar-nav"],[1,"nav-item"],["href","/",1,"nav-link"],["href","/incident-report",1,"nav-link"],["href","/relief-distribution",1,"nav-link"],[1,"container","mt-4"]],template:function(t,r){t&1&&(H(0,"nav",0)(1,"div",1)(2,"button",2),Ot(3,"span",3),$(),H(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),He(8,"Evacuation Center"),$()(),H(9,"li",6)(10,"a",8),He(11,"Incident Report"),$()(),H(12,"li",6)(13,"a",9),He(14,"Relief Distribution"),$()()()()()(),H(15,"div",10),Ot(16,"router-outlet"),$())},dependencies:[$r,Tn,Vm,yc],styles:["[_ngcontent-%COMP%]:root{--brand: #0d6efd}.card[_ngcontent-%COMP%]{border-radius:.6rem}footer[_ngcontent-%COMP%]{margin-top:auto}"]})};cm(Gh,BA).catch(n=>console.error(n));
